inline fun <T> lock(lock: Lock, body: () -> T): T { ... }