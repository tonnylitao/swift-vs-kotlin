<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Kotlin</title>

    <link rel="stylesheet" href="https://highlightjs.org/static/demo/styles/github.css">

    <script src="https://highlightjs.org/static/highlight.site.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <style>
    .container {
      display: flex;
    }

    nav {
      position: fixed; /* Fixed Sidebar (stay in place on scroll) */
      z-index: 1; /* Stay on top */
      top: 0; /* Stay at the top */
      left: 0;
      bottom: 0;
      background: white;
      overflow-y: scroll;
      width: 300px;
      padding-left: 10px;
    }
    .right-cnt {
      margin-left: 300px;
      margin-top: 100px;
    }

    nav ul {
      padding: 0;
      margin: 0;
    }

    .content {
      max-width: 768px;
      margin: 0 auto;
      padding: 0 20px;
    }


    .hljs {
      border-radius: 5px;
      padding: 1em;
    }

    .anchor {
      position: absolute;
    }

    .anchor:after {
      position: absolute;
      display: none;
      opacity: .5;
      margin-top: 2px;
      margin-left: 5px;
      width: 16px;
      height: 16px;
      background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACxQAAAsUBidZ/7wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEqSURBVDiNjdM9S1xRFIXhB8QoihZ+DRoJjlPYWAy2qQSbBFv/gOlT2CuKf0BSphe0EAVBBAvRJlYxghrRQqNgFXEQK5tr4Wa4XO44t9jNXme9h732OZIk0azQigVc4wFr+JQkiSLmduwiyVQNlSKA72G4xzTK2IneZhHAGH6ikupVAvC/KaAB9HMAbhodmMUv3GEdgymtB8cB+JE1dmAjJ7Ct0HtT5nN0pc2d2K/PxgxGsIxJ9OEk9DOU6msM80GItxFSFd9ijV9xEfopBlIX+4DDEP9hNITt6D2nRvmN/szYFuuJUk4J4/gT2hNW0JYTuMs49KXBRkpoeWelagEYypjmMVzgTdgLwCo+Ygp/ozdXBDCBl5zdH6G7KSAoVW8/7hFXWMoLLK9eAaRNvta9bjm9AAAAAElFTkSuQmCC937405abf7d2fa1cd5d9079c2e5160ac);
      background-repeat: no-repeat;
      content: '';
    }

    h1:hover .anchor:after,
    h2:hover .anchor:after,
    h3:hover .anchor:after,
    h4:hover .anchor:after,
    h5:hover .anchor:after {
      display: block;
    }

    h2 {
      margin: 10px 0;
    }

    h3, h4, h5 {
      margin: 5px 0 0;
      color: #555;
      font-weight: 400;
    }

    .sticky-row {
      position: sticky;
      position: -webkit-sticky;
      left: 0;
      top: 0;
      z-index: 3;
      background: white;
      text-align: center;
    }
    ul {
      list-style-type: none;
    }

    .chapter-1 {
      padding: 0;
      margin-bottom: 15px;
    }

    .chapter-2 {
      padding-left: 15px;
      margin: 5px 0;
    }

    ul a {
      text-decoration: none;
    }


    .sticky-row>div {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
    }

    table {
        table-layout:fixed;
        width:100%;
    }

    img {
      width: 30px;
      display: none;
    }

    .from-aspect {
      margin-bottom: 20px;
    }

    nav ol a, nav ol a:visited {
      color: #333;
    }

    td {
      vertical-align: top;
    }

    pre {
      margin: 0;
    }
    </style>
  </head>
  <body>
  <nav>
  <h1><img src="https://upload.wikimedia.org/wikipedia/commons/7/74/Kotlin-logo.svg" alt="Kotlin" />Kotlin vs <img width="60px" src="https://cdn4.iconfinder.com/data/icons/logos-3/504/Swift-2-512.png" alt="Swift"/>Swift</h1>
    <div class="from-aspect">
      <a href="#kotlin">From Kotlin View</a><br/>
      <a href="#kotlin">From Swift View</a>
    </div>
    <div class="capters"><ul><ol class="chapter-1">Getting Started</ol><ul><ol class="chapter-2">-&nbsp<a href="#0_0">Basic Syntax</a></ol><ol class="chapter-2">-&nbsp<a href="#0_1">Coding Conventions</a></ol></ul></ol><ol class="chapter-1">Basics</ol><ul><ol class="chapter-2">-&nbsp<a href="#1_0">Basic Types</a></ol><ol class="chapter-2">-&nbsp<a href="#1_1">Packages and Imports</a></ol><ol class="chapter-2">-&nbsp<a href="#1_2">Control Flow</a></ol><ol class="chapter-2">-&nbsp<a href="#1_3">Returns and Jumps</a></ol></ul></ol><ol class="chapter-1">Classes and Objects</ol><ul><ol class="chapter-2">-&nbsp<a href="#2_0">Classes and Inheritance</a></ol><ol class="chapter-2">-&nbsp<a href="#2_1">Properties and Fields</a></ol><ol class="chapter-2">-&nbsp<a href="#2_2">Interfaces</a></ol><ol class="chapter-2">-&nbsp<a href="#2_3">Functional (SAM) Interfaces</a></ol><ol class="chapter-2">-&nbsp<a href="#2_4">Visibility Modifiers</a></ol><ol class="chapter-2">-&nbsp<a href="#2_5">Extensions</a></ol><ol class="chapter-2">-&nbsp<a href="#2_6">Data Classes</a></ol><ol class="chapter-2">-&nbsp<a href="#2_7">Sealed Classes</a></ol><ol class="chapter-2">-&nbsp<a href="#2_8">Nested Classes</a></ol><ol class="chapter-2">-&nbsp<a href="#2_9">Enum Classes</a></ol><ol class="chapter-2">-&nbsp<a href="#2_10">Objects</a></ol><ol class="chapter-2">-&nbsp<a href="#2_11">Type Aliases</a></ol><ol class="chapter-2">-&nbsp<a href="#2_12">Inline Classes</a></ol><ol class="chapter-2">-&nbsp<a href="#2_13">Delegation</a></ol><ol class="chapter-2">-&nbsp<a href="#2_14">Delegated Properties</a></ol></ul></ol><ol class="chapter-1">Functions and Lambdas</ol><ul><ol class="chapter-2">-&nbsp<a href="#3_0">Lambdas</a></ol><ol class="chapter-2">-&nbsp<a href="#3_1">Inline Functions</a></ol></ul></ol><ol class="chapter-1">Collections</ol><ul><ol class="chapter-2">-&nbsp<a href="#4_0">Collections Overview</a></ol><ol class="chapter-2">-&nbsp<a href="#4_1">Constructing Collections</a></ol><ol class="chapter-2">-&nbsp<a href="#4_2">Iterators</a></ol><ol class="chapter-2">-&nbsp<a href="#4_3">Ranges and Progressions</a></ol><ol class="chapter-2">-&nbsp<a href="#4_4">Sequences</a></ol><ol class="chapter-2">-&nbsp<a href="#4_5">Operations Overview</a></ol><ol class="chapter-2">-&nbsp<a href="#4_6">Transformations</a></ol><ol class="chapter-2">-&nbsp<a href="#4_7">Filtering</a></ol><ol class="chapter-2">-&nbsp<a href="#4_8">Plus and Minus Operators</a></ol><ol class="chapter-2">-&nbsp<a href="#4_9">Grouping</a></ol><ol class="chapter-2">-&nbsp<a href="#4_10">Retrieving Collection Parts</a></ol><ol class="chapter-2">-&nbsp<a href="#4_11">Retrieving Single Elements</a></ol><ol class="chapter-2">-&nbsp<a href="#4_12">Ordering</a></ol><ol class="chapter-2">-&nbsp<a href="#4_13">Aggregate Operations</a></ol><ol class="chapter-2">-&nbsp<a href="#4_14">Collection Write Operations</a></ol><ol class="chapter-2">-&nbsp<a href="#4_15">List Specific Operations</a></ol><ol class="chapter-2">-&nbsp<a href="#4_16">Set Specific Operations</a></ol><ol class="chapter-2">-&nbsp<a href="#4_17">Map Specific Operations</a></ol></ul></ol><ol class="chapter-1">Coroutines</ol><ul><ol class="chapter-2">-&nbsp<a href="#5_0">Basics</a></ol><ol class="chapter-2">-&nbsp<a href="#5_1">Cancellation and Timeouts</a></ol><ol class="chapter-2">-&nbsp<a href="#5_2">Composing Suspending Functions</a></ol><ol class="chapter-2">-&nbsp<a href="#5_3">Coroutine Context and Dispatchers</a></ol><ol class="chapter-2">-&nbsp<a href="#5_4">Asynchronous Flow</a></ol><ol class="chapter-2">-&nbsp<a href="#5_5">Channels</a></ol><ol class="chapter-2">-&nbsp<a href="#5_6">Exception Handling and Supervision</a></ol><ol class="chapter-2">-&nbsp<a href="#5_7">Shared Mutable State and Concurrency</a></ol><ol class="chapter-2">-&nbsp<a href="#5_8">Select Expression (experimental)</a></ol></ul></ol><ol class="chapter-1">More Language Constructs</ol><ul><ol class="chapter-2">-&nbsp<a href="#6_0">Destructuring Declarations</a></ol><ol class="chapter-2">-&nbsp<a href="#6_1">Type Checks and Casts</a></ol><ol class="chapter-2">-&nbsp<a href="#6_2">This expressions</a></ol><ol class="chapter-2">-&nbsp<a href="#6_3">Equality</a></ol><ol class="chapter-2">-&nbsp<a href="#6_4">Operator overloading</a></ol><ol class="chapter-2">-&nbsp<a href="#6_5">Null Safety</a></ol><ol class="chapter-2">-&nbsp<a href="#6_6">Exceptions</a></ol><ol class="chapter-2">-&nbsp<a href="#6_7">Annotations</a></ol><ol class="chapter-2">-&nbsp<a href="#6_8">Reflection</a></ol><ol class="chapter-2">-&nbsp<a href="#6_9">Serialization</a></ol><ol class="chapter-2">-&nbsp<a href="#6_10">Scope Functions</a></ol><ol class="chapter-2">-&nbsp<a href="#6_11">Type-Safe Builders</a></ol><ol class="chapter-2">-&nbsp<a href="#6_12">Opt-in Requirements</a></ol></ul></ol></ul></div>
  </nav>

    <div class="container">
      <div class="right-cnt"><table>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="0_0" style="text-align:center;">Basic Syntax<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-syntax.html#basic-syntax" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Package definition and imports<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-syntax.html#defining-packages" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">package my.demo
&#8203;
import kotlin.text.*
&#8203;
// ...</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import Fondation
</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Program entry point<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-syntax.html#program-entry-point" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun main() {
    println("Hello world!")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><div>❌<br/>
Code written at global scope is used as the entry point for the program, so you don’t need a main() function.
</div></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Functions<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-syntax.html#defining-functions" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun sum(a: Int, b: Int): Int {
    return a + b
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">func sum(a: Int, b: Int) -&#62; Int {
    return a + b
}
</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun sum(a: Int, b: Int) = a + b</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">func sum(a: Int, b: Int) {
    a + b
}
</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun printSum(a: Int, b: Int): Unit {
    println("sum of $a and $b is ${a + b}")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">func printSum(a: Int, b: Int) {
    print("sum of \(a) and \(b) is \(a + b)")
}
</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun printSum(a: Int, b: Int) {
    println("sum of $a and $b is ${a + b}")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">func printSum(a: Int, b: Int) {
    print("sum of \(a) and \(b) is \(a + b)")
}
</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Variables<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-syntax.html#defining-variables" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val a: Int = 1  // immediate assignment
val b = 2   // `Int` type is inferred
val c: Int  // Type required when no initializer is provided
c = 3       // deferred assignment</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">let a: Int = 1
let b = 2
let c: Int
c = 3
</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">var x = 5 // `Int` type is inferred
x += 1</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">var x = 5 // `Int` type is inferred
x += 1</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val PI = 3.14
var x = 0
&#8203;
fun incrementX() { 
    x += 1 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">let PI = 3.14
var x = 0
&#8203;
func incrementX() {
    x += 1 
}
</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Comments<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-syntax.html#comments" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// This is an end-of-line comment
&#8203;
/* This is a block comment
   on multiple lines. */</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// This is an end-of-line comment
&#8203;
/* This is a block comment
   on multiple lines. */</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">/* The comment starts here
/* contains a nested comment */     
and ends here. */</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">/* The comment starts here
/* contains a nested comment */     
and ends here. */</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>String templates<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-syntax.html#using-string-templates" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">var a = 1
// simple name in template:
val s1 = "a is $a" 
&#8203;
a = 2
// arbitrary expression in template:
val s2 = "${s1.replace("is", "was")}, but now is $a"</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">var a = 1
// simple name in template:
let s1 = "a is \(a)"
&#8203;
a = 2
// arbitrary expression in template:
let s2 = "\(s1.replacingOccurrences("is", "was")), but now is \(a)"
</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Conditional expressions<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-syntax.html#using-conditional-expressions" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun maxOf(a: Int, b: Int): Int {
    if (a &#62; b) {
        return a
    } else {
        return b
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun maxOf(a: Int, b: Int): Int {
    if (a &#62; b) {
        return a
    } else {
        return b
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun maxOf(a: Int, b: Int) = if (a &#62; b) a else b</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun maxOf(a: Int, b: Int) = if (a &#62; b) a else b</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Nullable values and null checks<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-syntax.html#using-nullable-values-and-checking-for-null" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun parseInt(str: String): Int? {
    // ...
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun parseInt(str: String): Int? {
    // ...
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun printProduct(arg1: String, arg2: String) {
    val x = parseInt(arg1)
    val y = parseInt(arg2)
&#8203;
    // Using `x * y` yields error because they may hold nulls.
    if (x != null &#38;&#38; y != null) {
        // x and y are automatically cast to non-nullable after null check
        println(x * y)
    }
    else {
        println("'$arg1' or '$arg2' is not a number")
    }    
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun printProduct(arg1: String, arg2: String) {
    val x = parseInt(arg1)
    val y = parseInt(arg2)
&#8203;
    // Using `x * y` yields error because they may hold nulls.
    if (x != null &#38;&#38; y != null) {
        // x and y are automatically cast to non-nullable after null check
        println(x * y)
    }
    else {
        println("'$arg1' or '$arg2' is not a number")
    }    
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// ...
if (x == null) {
    println("Wrong number format in arg1: '$arg1'")
    return
}
if (y == null) {
    println("Wrong number format in arg2: '$arg2'")
    return
}
&#8203;
// x and y are automatically cast to non-nullable after null check
println(x * y)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// ...
if (x == null) {
    println("Wrong number format in arg1: '$arg1'")
    return
}
if (y == null) {
    println("Wrong number format in arg2: '$arg2'")
    return
}
&#8203;
// x and y are automatically cast to non-nullable after null check
println(x * y)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Type checks and automatic casts<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-syntax.html#using-type-checks-and-automatic-casts" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun getStringLength(obj: Any): Int? {
    if (obj is String) {
        // `obj` is automatically cast to `String` in this branch
        return obj.length
    }
&#8203;
    // `obj` is still of type `Any` outside of the type-checked branch
    return null
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun getStringLength(obj: Any): Int? {
    if (obj is String) {
        // `obj` is automatically cast to `String` in this branch
        return obj.length
    }
&#8203;
    // `obj` is still of type `Any` outside of the type-checked branch
    return null
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun getStringLength(obj: Any): Int? {
    if (obj !is String) return null
&#8203;
    // `obj` is automatically cast to `String` in this branch
    return obj.length
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun getStringLength(obj: Any): Int? {
    if (obj !is String) return null
&#8203;
    // `obj` is automatically cast to `String` in this branch
    return obj.length
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun getStringLength(obj: Any): Int? {
    // `obj` is automatically cast to `String` on the right-hand side of `&#38;&#38;`
    if (obj is String &#38;&#38; obj.length &#62; 0) {
        return obj.length
    }
&#8203;
    return null
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun getStringLength(obj: Any): Int? {
    // `obj` is automatically cast to `String` on the right-hand side of `&#38;&#38;`
    if (obj is String &#38;&#38; obj.length &#62; 0) {
        return obj.length
    }
&#8203;
    return null
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>for loop<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-syntax.html#using-a-for-loop" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val items = listOf("apple", "banana", "kiwifruit")
for (item in items) {
    println(item)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val items = listOf("apple", "banana", "kiwifruit")
for (item in items) {
    println(item)
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val items = listOf("apple", "banana", "kiwifruit")
for (index in items.indices) {
    println("item at $index is ${items[index]}")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val items = listOf("apple", "banana", "kiwifruit")
for (index in items.indices) {
    println("item at $index is ${items[index]}")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>while loop<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-syntax.html#using-a-while-loop" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val items = listOf("apple", "banana", "kiwifruit")
var index = 0
while (index &#60; items.size) {
    println("item at $index is ${items[index]}")
    index++
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val items = listOf("apple", "banana", "kiwifruit")
var index = 0
while (index &#60; items.size) {
    println("item at $index is ${items[index]}")
    index++
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>when expression<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-syntax.html#using-when-expression" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun describe(obj: Any): String =
    when (obj) {
        1          -&#62; "One"
        "Hello"    -&#62; "Greeting"
        is Long    -&#62; "Long"
        !is String -&#62; "Not a string"
        else       -&#62; "Unknown"
    }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun describe(obj: Any): String =
    when (obj) {
        1          -&#62; "One"
        "Hello"    -&#62; "Greeting"
        is Long    -&#62; "Long"
        !is String -&#62; "Not a string"
        else       -&#62; "Unknown"
    }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Ranges<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-syntax.html#using-ranges" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val x = 10
val y = 9
if (x in 1..y+1) {
    println("fits in range")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val x = 10
val y = 9
if (x in 1..y+1) {
    println("fits in range")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val list = listOf("a", "b", "c")
&#8203;
if (-1 !in 0..list.lastIndex) {
    println("-1 is out of range")
}
if (list.size !in list.indices) {
    println("list size is out of valid list indices range, too")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val list = listOf("a", "b", "c")
&#8203;
if (-1 !in 0..list.lastIndex) {
    println("-1 is out of range")
}
if (list.size !in list.indices) {
    println("list size is out of valid list indices range, too")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (x in 1..5) {
    print(x)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (x in 1..5) {
    print(x)
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (x in 1..10 step 2) {
    print(x)
}
println()
for (x in 9 downTo 0 step 3) {
    print(x)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (x in 1..10 step 2) {
    print(x)
}
println()
for (x in 9 downTo 0 step 3) {
    print(x)
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Collections<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-syntax.html#using-collections" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (item in items) {
    println(item)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (item in items) {
    println(item)
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">when {
    "orange" in items -&#62; println("juicy")
    "apple" in items -&#62; println("apple is fine too")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">when {
    "orange" in items -&#62; println("juicy")
    "apple" in items -&#62; println("apple is fine too")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val fruits = listOf("banana", "avocado", "apple", "kiwifruit")
fruits
  .filter { it.startsWith("a") }
  .sortedBy { it }
  .map { it.toUpperCase() }
  .forEach { println(it) }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val fruits = listOf("banana", "avocado", "apple", "kiwifruit")
fruits
  .filter { it.startsWith("a") }
  .sortedBy { it }
  .map { it.toUpperCase() }
  .forEach { println(it) }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Creating basic classes and their instances<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-syntax.html#creating-basic-classes-and-their-instances" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val rectangle = Rectangle(5.0, 2.0)
val triangle = Triangle(3.0, 4.0, 5.0)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val rectangle = Rectangle(5.0, 2.0)
val triangle = Triangle(3.0, 4.0, 5.0)</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="0_1" style="text-align:center;">Coding Conventions<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#coding-conventions" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Naming rules<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#naming-rules" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">open class DeclarationProcessor { /*...*/ }
&#8203;
object EmptyDeclarationProcessor : DeclarationProcessor() { /*...*/ }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">open class DeclarationProcessor { /*...*/ }
&#8203;
object EmptyDeclarationProcessor : DeclarationProcessor() { /*...*/ }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Function names<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#function-names" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun processDeclarations() { /*...*/ }
var declarationCount = 1</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun processDeclarations() { /*...*/ }
var declarationCount = 1</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">interface Foo { /*...*/ }
&#8203;
class FooImpl : Foo { /*...*/ }
&#8203;
fun Foo(): Foo { return FooImpl() }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">interface Foo { /*...*/ }
&#8203;
class FooImpl : Foo { /*...*/ }
&#8203;
fun Foo(): Foo { return FooImpl() }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Names for test methods<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class MyTestCase {
     @Test fun `ensure everything works`() { /*...*/ }
     
     @Test fun ensureEverythingWorks_onAndroid() { /*...*/ }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class MyTestCase {
     @Test fun `ensure everything works`() { /*...*/ }
     
     @Test fun ensureEverythingWorks_onAndroid() { /*...*/ }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Property names<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#property-names" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">const val MAX_COUNT = 8
val USER_NAME_FIELD = "UserName"</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">const val MAX_COUNT = 8
val USER_NAME_FIELD = "UserName"</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val mutableCollection: MutableSet&#60;String&#62; = HashSet()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val mutableCollection: MutableSet&#60;String&#62; = HashSet()</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val PersonComparator: Comparator&#60;Person&#62; = /*...*/</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val PersonComparator: Comparator&#60;Person&#62; = /*...*/</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Names for backing properties<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class C {
    private val _elementList = mutableListOf&#60;Element&#62;()
&#8203;
    val elementList: List&#60;Element&#62;
         get() = _elementList
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class C {
    private val _elementList = mutableListOf&#60;Element&#62;()
&#8203;
    val elementList: List&#60;Element&#62;
         get() = _elementList
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Formatting<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#formatting" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">if (elements != null) {
    for (element in elements) {
        // ...
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">if (elements != null) {
    for (element in elements) {
        // ...
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Horizontal whitespace<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#horizontal-whitespace" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class A(val x: Int)
&#8203;
fun foo(x: Int) { ... }
&#8203;
fun bar() {
    foo(1)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class A(val x: Int)
&#8203;
fun foo(x: Int) { ... }
&#8203;
fun bar() {
    foo(1)
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Colon<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#colon" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">abstract class Foo&#60;out T : Any&#62; : IFoo {
    abstract fun foo(a: Int): T
}
&#8203;
class FooImpl : Foo() {
    constructor(x: String) : this(x) { /*...*/ }
    
    val x = object : IFoo { /*...*/ } 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">abstract class Foo&#60;out T : Any&#62; : IFoo {
    abstract fun foo(a: Int): T
}
&#8203;
class FooImpl : Foo() {
    constructor(x: String) : this(x) { /*...*/ }
    
    val x = object : IFoo { /*...*/ } 
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Class header formatting<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#class-header-formatting" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Person(id: Int, name: String)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Person(id: Int, name: String)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Person(
    id: Int,
    name: String,
    surname: String
) : Human(id, name) { /*...*/ }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Person(
    id: Int,
    name: String,
    surname: String
) : Human(id, name) { /*...*/ }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Person(
    id: Int,
    name: String,
    surname: String
) : Human(id, name),
    KotlinMaker { /*...*/ }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Person(
    id: Int,
    name: String,
    surname: String
) : Human(id, name),
    KotlinMaker { /*...*/ }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class MyFavouriteVeryLongClassHolder :
    MyLongHolder&#60;MyFavouriteVeryLongClass&#62;(),
    SomeOtherInterface,
    AndAnotherOne {
&#8203;
    fun foo() { /*...*/ }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class MyFavouriteVeryLongClassHolder :
    MyLongHolder&#60;MyFavouriteVeryLongClass&#62;(),
    SomeOtherInterface,
    AndAnotherOne {
&#8203;
    fun foo() { /*...*/ }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class MyFavouriteVeryLongClassHolder :
    MyLongHolder&#60;MyFavouriteVeryLongClass&#62;(),
    SomeOtherInterface,
    AndAnotherOne 
{
    fun foo() { /*...*/ }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class MyFavouriteVeryLongClassHolder :
    MyLongHolder&#60;MyFavouriteVeryLongClass&#62;(),
    SomeOtherInterface,
    AndAnotherOne 
{
    fun foo() { /*...*/ }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Modifiers<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#modifiers" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">public / protected / private / internal
expect / actual
final / open / abstract / sealed / const
external
override
lateinit
tailrec
vararg
suspend
inner
enum / annotation / fun // as a modifier in `fun interface`
companion
inline
infix
operator
data</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">public / protected / private / internal
expect / actual
final / open / abstract / sealed / const
external
override
lateinit
tailrec
vararg
suspend
inner
enum / annotation / fun // as a modifier in `fun interface`
companion
inline
infix
operator
data</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@Named("Foo")
private val foo: Foo</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@Named("Foo")
private val foo: Foo</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Annotation formatting<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#annotation-formatting" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@Target(AnnotationTarget.PROPERTY)
annotation class JsonExclude</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@Target(AnnotationTarget.PROPERTY)
annotation class JsonExclude</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@JsonExclude @JvmField
var x: String</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@JsonExclude @JvmField
var x: String</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@Test fun foo() { /*...*/ }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@Test fun foo() { /*...*/ }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>File annotations<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#file-annotations" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">/** License, copyright and whatever */
@file:JvmName("FooBar")
&#8203;
package foo.bar</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">/** License, copyright and whatever */
@file:JvmName("FooBar")
&#8203;
package foo.bar</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Function formatting<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#function-formatting" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun longMethodName(
    argument: ArgumentType = defaultValue,
    argument2: AnotherArgumentType,
): ReturnType {
    // body
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun longMethodName(
    argument: ArgumentType = defaultValue,
    argument2: AnotherArgumentType,
): ReturnType {
    // body
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun foo(): Int {     // bad
    return 1 
}
&#8203;
fun foo() = 1        // good</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun foo(): Int {     // bad
    return 1 
}
&#8203;
fun foo() = 1        // good</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Expression body formatting<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#expression-body-formatting" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun f(x: String, y: String, z: String) =
    veryLongFunctionCallWithManyWords(andLongParametersToo(), x, y, z)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun f(x: String, y: String, z: String) =
    veryLongFunctionCallWithManyWords(andLongParametersToo(), x, y, z)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Property formatting<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#property-formatting" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val isEmpty: Boolean get() = size == 0</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val isEmpty: Boolean get() = size == 0</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val foo: String
    get() { /*...*/ }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val foo: String
    get() { /*...*/ }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">private val defaultCharset: Charset? =
    EncodingRegistry.getInstance().getDefaultCharsetForPropertiesFiles(file)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">private val defaultCharset: Charset? =
    EncodingRegistry.getInstance().getDefaultCharsetForPropertiesFiles(file)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Formatting control flow statements<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#formatting-control-flow-statements" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">if (!component.isSyncing &#38;&#38;
    !hasAnyKotlinRuntimeInScope(module)
) {
    return createKotlinNotConfiguredPanel(module)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">if (!component.isSyncing &#38;&#38;
    !hasAnyKotlinRuntimeInScope(module)
) {
    return createKotlinNotConfiguredPanel(module)
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">if (condition) {
    // body
} else {
    // else part
}
&#8203;
try {
    // body
} finally {
    // cleanup
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">if (condition) {
    // body
} else {
    // else part
}
&#8203;
try {
    // body
} finally {
    // cleanup
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">private fun parsePropertyValue(propName: String, token: Token) {
    when (token) {
        is Token.ValueToken -&#62;
            callback.visitValue(propName, token.value)
&#8203;
        Token.LBRACE -&#62; { // ...
        }
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">private fun parsePropertyValue(propName: String, token: Token) {
    when (token) {
        is Token.ValueToken -&#62;
            callback.visitValue(propName, token.value)
&#8203;
        Token.LBRACE -&#62; { // ...
        }
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">when (foo) {
    true -&#62; bar() // good
    false -&#62; { baz() } // bad
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">when (foo) {
    true -&#62; bar() // good
    false -&#62; { baz() } // bad
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Method call formatting<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#method-call-formatting" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">drawSquare(
    x = 10, y = 10,
    width = 100, height = 100,
    fill = true
)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">drawSquare(
    x = 10, y = 10,
    width = 100, height = 100,
    fill = true
)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Chained call wrapping<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#chained-call-wrapping" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val anchor = owner
    ?.firstChild!!
    .siblings(forward = true)
    .dropWhile { it is PsiComment || it is PsiWhiteSpace }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val anchor = owner
    ?.firstChild!!
    .siblings(forward = true)
    .dropWhile { it is PsiComment || it is PsiWhiteSpace }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Lambda formatting<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#lambda-formatting" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">list.filter { it &#62; 10 }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">list.filter { it &#62; 10 }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun foo() {
    ints.forEach lit@{
        // ...
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun foo() {
    ints.forEach lit@{
        // ...
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">appendCommaSeparated(properties) { prop -&#62;
    val propertyValue = prop.get(obj)  // ...
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">appendCommaSeparated(properties) { prop -&#62;
    val propertyValue = prop.get(obj)  // ...
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">foo {
   context: Context,
   environment: Env
   -&#62;
   context.configureEnv(environment)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">foo {
   context: Context,
   environment: Env
   -&#62;
   context.configureEnv(environment)
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Trailing commas<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#trailing-commas" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Person(
    val firstName: String,
    val lastName: String,
    val age: Int, // trailing comma
)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Person(
    val firstName: String,
    val lastName: String,
    val age: Int, // trailing comma
)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Enumerations<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">enum class Direction {
    NORTH,
    SOUTH,
    WEST,
    EAST, // trailing comma
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">enum class Direction {
    NORTH,
    SOUTH,
    WEST,
    EAST, // trailing comma
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Value arguments<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun shift(x: Int, y: Int) { /*...*/ }
&#8203;
shift(
    25,
    20, // trailing comma
)
&#8203;
val colors = listOf(
    "red",
    "green",
    "blue", // trailing comma
)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun shift(x: Int, y: Int) { /*...*/ }
&#8203;
shift(
    25,
    20, // trailing comma
)
&#8203;
val colors = listOf(
    "red",
    "green",
    "blue", // trailing comma
)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Class properties and parameters<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Customer(
    val name: String,
    val lastName: String, // trailing comma
)
&#8203;
class Customer(
    val name: String,
    lastName: String, // trailing comma
)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Customer(
    val name: String,
    val lastName: String, // trailing comma
)
&#8203;
class Customer(
    val name: String,
    lastName: String, // trailing comma
)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Function value parameters<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun powerOf(
    number: Int, 
    exponent: Int, // trailing comma
) { /*...*/ }
&#8203;
constructor(
    x: Comparable&#60;Number&#62;,
    y: Iterable&#60;Number&#62;, // trailing comma
) {}
&#8203;
fun print(
    vararg quantity: Int,
    description: String, // trailing comma
) {}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun powerOf(
    number: Int, 
    exponent: Int, // trailing comma
) { /*...*/ }
&#8203;
constructor(
    x: Comparable&#60;Number&#62;,
    y: Iterable&#60;Number&#62;, // trailing comma
) {}
&#8203;
fun print(
    vararg quantity: Int,
    description: String, // trailing comma
) {}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Parameters with optional type (including setters)<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val sum: (Int, Int, Int) -&#62; Int = fun(
    x,
    y,
    z, // trailing comma
): Int {
    return x + y + x
}
println(sum(8, 8, 8))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val sum: (Int, Int, Int) -&#62; Int = fun(
    x,
    y,
    z, // trailing comma
): Int {
    return x + y + x
}
println(sum(8, 8, 8))</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Indexing suffix<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Surface {
    operator fun get(x: Int, y: Int) = 2 * x + 4 * y - 10
}
fun getZValue(mySurface: Surface, xValue: Int, yValue: Int) =
    mySurface[
        xValue,
        yValue, // trailing comma
    ]</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Surface {
    operator fun get(x: Int, y: Int) = 2 * x + 4 * y - 10
}
fun getZValue(mySurface: Surface, xValue: Int, yValue: Int) =
    mySurface[
        xValue,
        yValue, // trailing comma
    ]</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Lambda parameters<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun main() {
    val x = {
            x: Comparable&#60;Number&#62;,
            y: Iterable&#60;Number&#62;, // trailing comma
        -&#62;
        println("1")
    }
&#8203;
    println(x)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun main() {
    val x = {
            x: Comparable&#60;Number&#62;,
            y: Iterable&#60;Number&#62;, // trailing comma
        -&#62;
        println("1")
    }
&#8203;
    println(x)
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>when entry<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun isReferenceApplicable(myReference: KClass&#60;*&#62;) = when (myReference) {
    Comparable::class,
    Iterable::class,
    String::class, // trailing comma
        -&#62; true
    else -&#62; false
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun isReferenceApplicable(myReference: KClass&#60;*&#62;) = when (myReference) {
    Comparable::class,
    Iterable::class,
    String::class, // trailing comma
        -&#62; true
    else -&#62; false
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Collection literals (in annotations)<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">annotation class ApplicableFor(val services: Array&#60;String&#62;)
&#8203;
@ApplicableFor([
    "serializer",
    "balancer",
    "database",
    "inMemoryCache", // trailing comma
])
fun run() {}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">annotation class ApplicableFor(val services: Array&#60;String&#62;)
&#8203;
@ApplicableFor([
    "serializer",
    "balancer",
    "database",
    "inMemoryCache", // trailing comma
])
fun run() {}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Type arguments<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun &#60;T1, T2&#62; foo() {}
&#8203;
fun main() {
    foo&#60;
            Comparable&#60;Number&#62;,
            Iterable&#60;Number&#62;, // trailing comma
            &#62;()
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun &#60;T1, T2&#62; foo() {}
&#8203;
fun main() {
    foo&#60;
            Comparable&#60;Number&#62;,
            Iterable&#60;Number&#62;, // trailing comma
            &#62;()
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Type parameters<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class MyMap&#60;
        MyKey,
        MyValue, // trailing comma
        &#62; {}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class MyMap&#60;
        MyKey,
        MyValue, // trailing comma
        &#62; {}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Destructuring declarations<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">data class Car(val manufacturer: String, val model: String, val year: Int)
val myCar = Car("Tesla", "Y", 2019)
&#8203;
val (
    manufacturer,
    model,
    year, // trailing comma
) = myCar
&#8203;
val cars = listOf&#60;Car&#62;()
fun printMeanValue() {
    var meanValue: Int = 0
    for ((
        _,
        _,
        year, // trailing comma
    ) in cars) {
        meanValue += year
    }
    println(meanValue/cars.size)
}
printMeanValue()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">data class Car(val manufacturer: String, val model: String, val year: Int)
val myCar = Car("Tesla", "Y", 2019)
&#8203;
val (
    manufacturer,
    model,
    year, // trailing comma
) = myCar
&#8203;
val cars = listOf&#60;Car&#62;()
fun printMeanValue() {
    var meanValue: Int = 0
    for ((
        _,
        _,
        year, // trailing comma
    ) in cars) {
        meanValue += year
    }
    println(meanValue/cars.size)
}
printMeanValue()</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Documentation comments<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#documentation-comments" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">/**
 * This is a documentation comment
 * on multiple lines.
 */</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">/**
 * This is a documentation comment
 * on multiple lines.
 */</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">/** This is a short documentation comment. */</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">/** This is a short documentation comment. */</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Avoid doing this:
&#8203;
/**
 * Returns the absolute value of the given number.
 * @param number The number to return the absolute value for.
 * @return The absolute value.
 */
fun abs(number: Int) { /*...*/ }
&#8203;
// Do this instead:
&#8203;
/**
 * Returns the absolute value of the given [number].
 */
fun abs(number: Int) { /*...*/ }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Avoid doing this:
&#8203;
/**
 * Returns the absolute value of the given number.
 * @param number The number to return the absolute value for.
 * @return The absolute value.
 */
fun abs(number: Int) { /*...*/ }
&#8203;
// Do this instead:
&#8203;
/**
 * Returns the absolute value of the given [number].
 */
fun abs(number: Int) { /*...*/ }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Unit<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#unit" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun foo() { // ": Unit" is omitted here
&#8203;
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun foo() { // ": Unit" is omitted here
&#8203;
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>String templates<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#string-templates" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">println("$name has ${children.size} children")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">println("$name has ${children.size} children")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Immutability<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#immutability" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Bad: use of mutable collection type for value which will not be mutated
fun validateValue(actualValue: String, allowedValues: HashSet&#60;String&#62;) { ... }
&#8203;
// Good: immutable collection type used instead
fun validateValue(actualValue: String, allowedValues: Set&#60;String&#62;) { ... }
&#8203;
// Bad: arrayListOf() returns ArrayList&#60;T&#62;, which is a mutable collection type
val allowedValues = arrayListOf("a", "b", "c")
&#8203;
// Good: listOf() returns List&#60;T&#62;
val allowedValues = listOf("a", "b", "c")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Bad: use of mutable collection type for value which will not be mutated
fun validateValue(actualValue: String, allowedValues: HashSet&#60;String&#62;) { ... }
&#8203;
// Good: immutable collection type used instead
fun validateValue(actualValue: String, allowedValues: Set&#60;String&#62;) { ... }
&#8203;
// Bad: arrayListOf() returns ArrayList&#60;T&#62;, which is a mutable collection type
val allowedValues = arrayListOf("a", "b", "c")
&#8203;
// Good: listOf() returns List&#60;T&#62;
val allowedValues = listOf("a", "b", "c")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Default parameter values<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#default-parameter-values" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Bad
fun foo() = foo("a")
fun foo(a: String) { /*...*/ }
&#8203;
// Good
fun foo(a: String = "a") { /*...*/ }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Bad
fun foo() = foo("a")
fun foo(a: String) { /*...*/ }
&#8203;
// Good
fun foo(a: String = "a") { /*...*/ }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Type aliases<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#type-aliases" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">typealias MouseClickHandler = (Any, MouseEvent) -&#62; Unit
typealias PersonIndex = Map&#60;String, Person&#62;</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">typealias MouseClickHandler = (Any, MouseEvent) -&#62; Unit
typealias PersonIndex = Map&#60;String, Person&#62;</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Named arguments<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#named-arguments" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">drawSquare(x = 10, y = 10, width = 100, height = 100, fill = true)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">drawSquare(x = 10, y = 10, width = 100, height = 100, fill = true)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Using conditional statements<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#using-conditional-statements" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">return if (x) foo() else bar()
&#8203;
return when(x) {
    0 -&#62; "zero"
    else -&#62; "nonzero"
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">return if (x) foo() else bar()
&#8203;
return when(x) {
    0 -&#62; "zero"
    else -&#62; "nonzero"
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">if (x)
    return foo()
else
    return bar()
    
when(x) {
    0 -&#62; return "zero"
    else -&#62; return "nonzero"
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">if (x)
    return foo()
else
    return bar()
    
when(x) {
    0 -&#62; return "zero"
    else -&#62; return "nonzero"
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>if versus when<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#if-versus-when" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">when (x) {
    null -&#62; // ...
    else -&#62; // ...
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">when (x) {
    null -&#62; // ...
    else -&#62; // ...
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Loops on ranges<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#loops-on-ranges" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (i in 0..n - 1) { /*...*/ }  // bad
for (i in 0 until n) { /*...*/ }  // good</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (i in 0..n - 1) { /*...*/ }  // bad
for (i in 0 until n) { /*...*/ }  // good</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Using strings<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#using-strings" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">assertEquals(
    """
    Foo
    Bar
    """.trimIndent(), 
    value
)
&#8203;
val a = """if(a &#62; 1) {
          |    return a
          |}""".trimMargin()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">assertEquals(
    """
    Foo
    Bar
    """.trimIndent(), 
    value
)
&#8203;
val a = """if(a &#62; 1) {
          |    return a
          |}""".trimMargin()</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Factory functions<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#factory-functions" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Point(val x: Double, val y: Double) {
    companion object {
        fun fromPolar(angle: Double, radius: Double) = Point(...)
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Point(val x: Double, val y: Double) {
    companion object {
        fun fromPolar(angle: Double, radius: Double) = Point(...)
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Platform types<a class="anchor" href="https://kotlinlang.org/docs/reference/coding-conventions.html#platform-types" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun apiCall(): String = MyJavaApi.getProperty("name")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun apiCall(): String = MyJavaApi.getProperty("name")</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Person {
    val name: String = MyJavaApi.getProperty("name")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Person {
    val name: String = MyJavaApi.getProperty("name")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun main() {
    val name = MyJavaApi.getProperty("name")
    println(name)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun main() {
    val name = MyJavaApi.getProperty("name")
    println(name)
}</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="1_0" style="text-align:center;">Basic Types<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-types.html#basic-types" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Numbers<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-types.html#numbers" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val one = 1 // Int
val threeBillion = 3000000000 // Long
val oneLong = 1L // Long
val oneByte: Byte = 1</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val one = 1 // Int
val threeBillion = 3000000000 // Long
val oneLong = 1L // Long
val oneByte: Byte = 1</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val pi = 3.14 // Double
val e = 2.7182818284 // Double
val eFloat = 2.7182818284f // Float, actual value is 2.7182817</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val pi = 3.14 // Double
val e = 2.7182818284 // Double
val eFloat = 2.7182818284f // Float, actual value is 2.7182817</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun main() {
    fun printDouble(d: Double) { print(d) }
&#8203;
    val i = 1    
    val d = 1.1
    val f = 1.1f 
&#8203;
    printDouble(d)
//    printDouble(i) // Error: Type mismatch
//    printDouble(f) // Error: Type mismatch
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun main() {
    fun printDouble(d: Double) { print(d) }
&#8203;
    val i = 1    
    val d = 1.1
    val f = 1.1f 
&#8203;
    printDouble(d)
//    printDouble(i) // Error: Type mismatch
//    printDouble(f) // Error: Type mismatch
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Underscores in numeric literals (since 1.1)<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-types.html#underscores-in-numeric-literals-since-11" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val oneMillion = 1_000_000
val creditCardNumber = 1234_5678_9012_3456L
val socialSecurityNumber = 999_99_9999L
val hexBytes = 0xFF_EC_DE_5E
val bytes = 0b11010010_01101001_10010100_10010010</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val oneMillion = 1_000_000
val creditCardNumber = 1234_5678_9012_3456L
val socialSecurityNumber = 999_99_9999L
val hexBytes = 0xFF_EC_DE_5E
val bytes = 0b11010010_01101001_10010100_10010010</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Representation<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-types.html#representation" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val a: Int = 100
val boxedA: Int? = a
val anotherBoxedA: Int? = a
&#8203;
val b: Int = 10000
val boxedB: Int? = b
val anotherBoxedB: Int? = b
&#8203;
println(boxedA === anotherBoxedA) // true
println(boxedB === anotherBoxedB) // false</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val a: Int = 100
val boxedA: Int? = a
val anotherBoxedA: Int? = a
&#8203;
val b: Int = 10000
val boxedB: Int? = b
val anotherBoxedB: Int? = b
&#8203;
println(boxedA === anotherBoxedA) // true
println(boxedB === anotherBoxedB) // false</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val a: Int = 10000
println(a == a) // Prints 'true'
val boxedA: Int? = a
val anotherBoxedA: Int? = a
println(boxedA == anotherBoxedA) // Prints 'true'</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val a: Int = 10000
println(a == a) // Prints 'true'
val boxedA: Int? = a
val anotherBoxedA: Int? = a
println(boxedA == anotherBoxedA) // Prints 'true'</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Explicit conversions<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-types.html#explicit-conversions" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Hypothetical code, does not actually compile:
val a: Int? = 1 // A boxed Int (java.lang.Integer)
val b: Long? = a // implicit conversion yields a boxed Long (java.lang.Long)
print(b == a) // Surprise! This prints "false" as Long's equals() checks whether the other is Long as well</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Hypothetical code, does not actually compile:
val a: Int? = 1 // A boxed Int (java.lang.Integer)
val b: Long? = a // implicit conversion yields a boxed Long (java.lang.Long)
print(b == a) // Surprise! This prints "false" as Long's equals() checks whether the other is Long as well</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val b: Byte = 1 // OK, literals are checked statically
val i: Int = b // ERROR</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val b: Byte = 1 // OK, literals are checked statically
val i: Int = b // ERROR</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val i: Int = b.toInt() // OK: explicitly widened
print(i)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val i: Int = b.toInt() // OK: explicitly widened
print(i)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val l = 1L + 3 // Long + Int =&#62; Long</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val l = 1L + 3 // Long + Int =&#62; Long</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Division of integers<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-types.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val x = 5 / 2
//println(x == 2.5) // ERROR: Operator '==' cannot be applied to 'Int' and 'Double'
println(x == 2)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val x = 5 / 2
//println(x == 2.5) // ERROR: Operator '==' cannot be applied to 'Int' and 'Double'
println(x == 2)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val x = 5L / 2
println(x == 2L)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val x = 5L / 2
println(x == 2L)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val x = 5 / 2.toDouble()
println(x == 2.5)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val x = 5 / 2.toDouble()
println(x == 2.5)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Bitwise operations<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-types.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val x = (1 shl 2) and 0x000FF000</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val x = (1 shl 2) and 0x000FF000</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Characters<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-types.html#characters" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun check(c: Char) {
    if (c == 1) { // ERROR: incompatible types
        // ...
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun check(c: Char) {
    if (c == 1) { // ERROR: incompatible types
        // ...
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun decimalDigitValue(c: Char): Int {
    if (c !in '0'..'9')
        throw IllegalArgumentException("Out of range")
    return c.toInt() - '0'.toInt() // Explicit conversions to numbers
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun decimalDigitValue(c: Char): Int {
    if (c !in '0'..'9')
        throw IllegalArgumentException("Out of range")
    return c.toInt() - '0'.toInt() // Explicit conversions to numbers
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Arrays<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-types.html#arrays" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Array&#60;T&#62; private constructor() {
    val size: Int
    operator fun get(index: Int): T
    operator fun set(index: Int, value: T): Unit
&#8203;
    operator fun iterator(): Iterator&#60;T&#62;
    // ...
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Array&#60;T&#62; private constructor() {
    val size: Int
    operator fun get(index: Int): T
    operator fun set(index: Int, value: T): Unit
&#8203;
    operator fun iterator(): Iterator&#60;T&#62;
    // ...
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Creates an Array&#60;String&#62; with values ["0", "1", "4", "9", "16"]
val asc = Array(5) { i -&#62; (i * i).toString() }
asc.forEach { println(it) }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Creates an Array&#60;String&#62; with values ["0", "1", "4", "9", "16"]
val asc = Array(5) { i -&#62; (i * i).toString() }
asc.forEach { println(it) }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Primitive type arrays<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-types.html#primitive-type-arrays" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val x: IntArray = intArrayOf(1, 2, 3)
x[0] = x[1] + x[2]</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val x: IntArray = intArrayOf(1, 2, 3)
x[0] = x[1] + x[2]</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Array of int of size 5 with values [0, 0, 0, 0, 0]
val arr = IntArray(5)
&#8203;
// e.g. initialise the values in the array with a constant
// Array of int of size 5 with values [42, 42, 42, 42, 42]
val arr = IntArray(5) { 42 }
&#8203;
// e.g. initialise the values in the array using a lambda
// Array of int of size 5 with values [0, 1, 2, 3, 4] (values initialised to their index value)
var arr = IntArray(5) { it * 1 }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Array of int of size 5 with values [0, 0, 0, 0, 0]
val arr = IntArray(5)
&#8203;
// e.g. initialise the values in the array with a constant
// Array of int of size 5 with values [42, 42, 42, 42, 42]
val arr = IntArray(5) { 42 }
&#8203;
// e.g. initialise the values in the array using a lambda
// Array of int of size 5 with values [0, 1, 2, 3, 4] (values initialised to their index value)
var arr = IntArray(5) { it * 1 }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Literals<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-types.html#literals" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val b: UByte = 1u  // UByte, expected type provided
val s: UShort = 1u // UShort, expected type provided
val l: ULong = 1u  // ULong, expected type provided
&#8203;
val a1 = 42u // UInt: no expected type provided, constant fits in UInt
val a2 = 0xFFFF_FFFF_FFFFu // ULong: no expected type provided, constant doesn't fit in UInt</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val b: UByte = 1u  // UByte, expected type provided
val s: UShort = 1u // UShort, expected type provided
val l: ULong = 1u  // ULong, expected type provided
&#8203;
val a1 = 42u // UInt: no expected type provided, constant fits in UInt
val a2 = 0xFFFF_FFFF_FFFFu // ULong: no expected type provided, constant doesn't fit in UInt</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val a = 1UL // ULong, even though no expected type provided and constant fits into UInt</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val a = 1UL // ULong, even though no expected type provided and constant fits into UInt</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Strings<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-types.html#strings" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (c in str) {
    println(c)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (c in str) {
    println(c)
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val s = "abc" + 1
println(s + "def")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val s = "abc" + 1
println(s + "def")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>String literals<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-types.html#string-literals" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val s = "Hello, world!\n"</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val s = "Hello, world!\n"</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val text = """
    for (c in "foo")
        print(c)
"""</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val text = """
    for (c in "foo")
        print(c)
"""</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val text = """
    |Tell me and I forget.
    |Teach me and I remember.
    |Involve me and I learn.
    |(Benjamin Franklin)
    """.trimMargin()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val text = """
    |Tell me and I forget.
    |Teach me and I remember.
    |Involve me and I learn.
    |(Benjamin Franklin)
    """.trimMargin()</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>String templates<a class="anchor" href="https://kotlinlang.org/docs/reference/basic-types.html#string-templates" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val i = 10
println("i = $i") // prints "i = 10"</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val i = 10
println("i = $i") // prints "i = 10"</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val s = "abc"
println("$s.length is ${s.length}") // prints "abc.length is 3"</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val s = "abc"
println("$s.length is ${s.length}") // prints "abc.length is 3"</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val price = """
${'$'}9.99
"""</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val price = """
${'$'}9.99
"""</code></pre></td>
            </tr>
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="1_1" style="text-align:center;">Packages<a class="anchor" href="https://kotlinlang.org/docs/reference/packages.html#packages" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">package org.example
&#8203;
fun printMessage() { /*...*/ }
class Message { /*...*/ }
&#8203;
// ...</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">package org.example
&#8203;
fun printMessage() { /*...*/ }
class Message { /*...*/ }
&#8203;
// ...</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Imports<a class="anchor" href="https://kotlinlang.org/docs/reference/packages.html#imports" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import org.example.Message // Message is now accessible without qualification</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import org.example.Message // Message is now accessible without qualification</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import org.example.* // everything in 'org.example' becomes accessible</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import org.example.* // everything in 'org.example' becomes accessible</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import org.example.Message // Message is accessible
import org.test.Message as testMessage // testMessage stands for 'org.test.Message'</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import org.example.Message // Message is accessible
import org.test.Message as testMessage // testMessage stands for 'org.test.Message'</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="1_2" style="text-align:center;">Control Flow: if, when, for, while<a class="anchor" href="https://kotlinlang.org/docs/reference/control-flow.html#control-flow-if-when-for-while" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>If Expression<a class="anchor" href="https://kotlinlang.org/docs/reference/control-flow.html#if-expression" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Traditional usage 
var max = a 
if (a &#60; b) max = b
&#8203;
// With else 
var max: Int
if (a &#62; b) {
    max = a
} else {
    max = b
}
 
// As expression 
val max = if (a &#62; b) a else b</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Traditional usage 
var max = a 
if (a &#60; b) max = b
&#8203;
// With else 
var max: Int
if (a &#62; b) {
    max = a
} else {
    max = b
}
 
// As expression 
val max = if (a &#62; b) a else b</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val max = if (a &#62; b) {
    print("Choose a")
    a
} else {
    print("Choose b")
    b
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val max = if (a &#62; b) {
    print("Choose a")
    a
} else {
    print("Choose b")
    b
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>When Expression<a class="anchor" href="https://kotlinlang.org/docs/reference/control-flow.html#when-expression" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">when (x) {
    1 -&#62; print("x == 1")
    2 -&#62; print("x == 2")
    else -&#62; { // Note the block
        print("x is neither 1 nor 2")
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">when (x) {
    1 -&#62; print("x == 1")
    2 -&#62; print("x == 2")
    else -&#62; { // Note the block
        print("x is neither 1 nor 2")
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">when (x) {
    0, 1 -&#62; print("x == 0 or x == 1")
    else -&#62; print("otherwise")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">when (x) {
    0, 1 -&#62; print("x == 0 or x == 1")
    else -&#62; print("otherwise")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">when (x) {
    parseInt(s) -&#62; print("s encodes x")
    else -&#62; print("s does not encode x")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">when (x) {
    parseInt(s) -&#62; print("s encodes x")
    else -&#62; print("s does not encode x")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">when (x) {
    in 1..10 -&#62; print("x is in the range")
    in validNumbers -&#62; print("x is valid")
    !in 10..20 -&#62; print("x is outside the range")
    else -&#62; print("none of the above")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">when (x) {
    in 1..10 -&#62; print("x is in the range")
    in validNumbers -&#62; print("x is valid")
    !in 10..20 -&#62; print("x is outside the range")
    else -&#62; print("none of the above")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun hasPrefix(x: Any) = when(x) {
    is String -&#62; x.startsWith("prefix")
    else -&#62; false
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun hasPrefix(x: Any) = when(x) {
    is String -&#62; x.startsWith("prefix")
    else -&#62; false
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">when {
    x.isOdd() -&#62; print("x is odd")
    y.isEven() -&#62; print("y is even")
    else -&#62; print("x+y is odd.")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">when {
    x.isOdd() -&#62; print("x is odd")
    y.isEven() -&#62; print("y is even")
    else -&#62; print("x+y is odd.")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun Request.getBody() =
        when (val response = executeRequest()) {
            is Success -&#62; response.body
            is HttpError -&#62; throw HttpException(response.status)
        }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun Request.getBody() =
        when (val response = executeRequest()) {
            is Success -&#62; response.body
            is HttpError -&#62; throw HttpException(response.status)
        }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>For Loops<a class="anchor" href="https://kotlinlang.org/docs/reference/control-flow.html#for-loops" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (item in collection) print(item)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (item in collection) print(item)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (item: Int in ints) {
    // ...
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (item: Int in ints) {
    // ...
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (i in 1..3) {
    println(i)
}
for (i in 6 downTo 0 step 2) {
    println(i)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (i in 1..3) {
    println(i)
}
for (i in 6 downTo 0 step 2) {
    println(i)
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (i in array.indices) {
    println(array[i])
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (i in array.indices) {
    println(array[i])
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for ((index, value) in array.withIndex()) {
    println("the element at $index is $value")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for ((index, value) in array.withIndex()) {
    println("the element at $index is $value")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>While Loops<a class="anchor" href="https://kotlinlang.org/docs/reference/control-flow.html#while-loops" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">while (x &#62; 0) {
    x--
}
&#8203;
do {
    val y = retrieveData()
} while (y != null) // y is visible here!</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">while (x &#62; 0) {
    x--
}
&#8203;
do {
    val y = retrieveData()
} while (y != null) // y is visible here!</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="1_3" style="text-align:center;">Returns and Jumps<a class="anchor" href="https://kotlinlang.org/docs/reference/returns.html#returns-and-jumps" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val s = person.name ?: return</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val s = person.name ?: return</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Break and Continue Labels<a class="anchor" href="https://kotlinlang.org/docs/reference/returns.html#break-and-continue-labels" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">loop@ for (i in 1..100) {
    // ...
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">loop@ for (i in 1..100) {
    // ...
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">loop@ for (i in 1..100) {
    for (j in 1..100) {
        if (...) break@loop
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">loop@ for (i in 1..100) {
    for (j in 1..100) {
        if (...) break@loop
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Return at Labels<a class="anchor" href="https://kotlinlang.org/docs/reference/returns.html#return-at-labels" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun foo() {
    listOf(1, 2, 3, 4, 5).forEach {
        if (it == 3) return // non-local return directly to the caller of foo()
        print(it)
    }
    println("this point is unreachable")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun foo() {
    listOf(1, 2, 3, 4, 5).forEach {
        if (it == 3) return // non-local return directly to the caller of foo()
        print(it)
    }
    println("this point is unreachable")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun foo() {
    listOf(1, 2, 3, 4, 5).forEach lit@{
        if (it == 3) return@lit // local return to the caller of the lambda, i.e. the forEach loop
        print(it)
    }
    print(" done with explicit label")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun foo() {
    listOf(1, 2, 3, 4, 5).forEach lit@{
        if (it == 3) return@lit // local return to the caller of the lambda, i.e. the forEach loop
        print(it)
    }
    print(" done with explicit label")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun foo() {
    listOf(1, 2, 3, 4, 5).forEach {
        if (it == 3) return@forEach // local return to the caller of the lambda, i.e. the forEach loop
        print(it)
    }
    print(" done with implicit label")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun foo() {
    listOf(1, 2, 3, 4, 5).forEach {
        if (it == 3) return@forEach // local return to the caller of the lambda, i.e. the forEach loop
        print(it)
    }
    print(" done with implicit label")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun foo() {
    listOf(1, 2, 3, 4, 5).forEach(fun(value: Int) {
        if (value == 3) return  // local return to the caller of the anonymous fun, i.e. the forEach loop
        print(value)
    })
    print(" done with anonymous function")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun foo() {
    listOf(1, 2, 3, 4, 5).forEach(fun(value: Int) {
        if (value == 3) return  // local return to the caller of the anonymous fun, i.e. the forEach loop
        print(value)
    })
    print(" done with anonymous function")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun foo() {
    run loop@{
        listOf(1, 2, 3, 4, 5).forEach {
            if (it == 3) return@loop // non-local return from the lambda passed to run
            print(it)
        }
    }
    print(" done with nested loop")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun foo() {
    run loop@{
        listOf(1, 2, 3, 4, 5).forEach {
            if (it == 3) return@loop // non-local return from the lambda passed to run
            print(it)
        }
    }
    print(" done with nested loop")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">return@a 1</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">return@a 1</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="2_0" style="text-align:center;">Classes and Inheritance<a class="anchor" href="https://kotlinlang.org/docs/reference/classes.html#classes-and-inheritance" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Classes<a class="anchor" href="https://kotlinlang.org/docs/reference/classes.html#classes" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Invoice { /*...*/ }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Invoice { /*...*/ }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Empty</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Empty</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Constructors<a class="anchor" href="https://kotlinlang.org/docs/reference/classes.html#constructors" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Person constructor(firstName: String) { /*...*/ }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Person constructor(firstName: String) { /*...*/ }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Person(firstName: String) { /*...*/ }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Person(firstName: String) { /*...*/ }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class InitOrderDemo(name: String) {
    val firstProperty = "First property: $name".also(::println)
    
    init {
        println("First initializer block that prints ${name}")
    }
    
    val secondProperty = "Second property: ${name.length}".also(::println)
    
    init {
        println("Second initializer block that prints ${name.length}")
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class InitOrderDemo(name: String) {
    val firstProperty = "First property: $name".also(::println)
    
    init {
        println("First initializer block that prints ${name}")
    }
    
    val secondProperty = "Second property: ${name.length}".also(::println)
    
    init {
        println("Second initializer block that prints ${name.length}")
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Customer(name: String) {
    val customerKey = name.toUpperCase()
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Customer(name: String) {
    val customerKey = name.toUpperCase()
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Person(val firstName: String, val lastName: String, var age: Int) { /*...*/ }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Person(val firstName: String, val lastName: String, var age: Int) { /*...*/ }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Person(
    val firstName: String,
    val lastName: String,
    var age: Int, // trailing comma
) { /*...*/ }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Person(
    val firstName: String,
    val lastName: String,
    var age: Int, // trailing comma
) { /*...*/ }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Customer public @Inject constructor(name: String) { /*...*/ }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Customer public @Inject constructor(name: String) { /*...*/ }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Secondary constructors<a class="anchor" href="https://kotlinlang.org/docs/reference/classes.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Person {
    var children: MutableList&#60;Person&#62; = mutableListOf()
    constructor(parent: Person) {
        parent.children.add(this)
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Person {
    var children: MutableList&#60;Person&#62; = mutableListOf()
    constructor(parent: Person) {
        parent.children.add(this)
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Person(val name: String) {
    var children: MutableList&#60;Person&#62; = mutableListOf()
    constructor(name: String, parent: Person) : this(name) {
        parent.children.add(this)
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Person(val name: String) {
    var children: MutableList&#60;Person&#62; = mutableListOf()
    constructor(name: String, parent: Person) : this(name) {
        parent.children.add(this)
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Constructors {
    init {
        println("Init block")
    }
&#8203;
    constructor(i: Int) {
        println("Constructor")
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Constructors {
    init {
        println("Init block")
    }
&#8203;
    constructor(i: Int) {
        println("Constructor")
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class DontCreateMe private constructor () { /*...*/ }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class DontCreateMe private constructor () { /*...*/ }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Customer(val customerName: String = "")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Customer(val customerName: String = "")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Creating instances of classes<a class="anchor" href="https://kotlinlang.org/docs/reference/classes.html#creating-instances-of-classes" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val invoice = Invoice()
&#8203;
val customer = Customer("Joe Smith")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val invoice = Invoice()
&#8203;
val customer = Customer("Joe Smith")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Inheritance<a class="anchor" href="https://kotlinlang.org/docs/reference/classes.html#inheritance" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Example // Implicitly inherits from Any</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Example // Implicitly inherits from Any</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">open class Base //Class is open for inheritance</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">open class Base //Class is open for inheritance</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">open class Base(p: Int)
&#8203;
class Derived(p: Int) : Base(p)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">open class Base(p: Int)
&#8203;
class Derived(p: Int) : Base(p)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class MyView : View {
    constructor(ctx: Context) : super(ctx)
&#8203;
    constructor(ctx: Context, attrs: AttributeSet) : super(ctx, attrs)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class MyView : View {
    constructor(ctx: Context) : super(ctx)
&#8203;
    constructor(ctx: Context, attrs: AttributeSet) : super(ctx, attrs)
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Overriding methods<a class="anchor" href="https://kotlinlang.org/docs/reference/classes.html#overriding-methods" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">open class Shape {
    open fun draw() { /*...*/ }
    fun fill() { /*...*/ }
}
&#8203;
class Circle() : Shape() {
    override fun draw() { /*...*/ }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">open class Shape {
    open fun draw() { /*...*/ }
    fun fill() { /*...*/ }
}
&#8203;
class Circle() : Shape() {
    override fun draw() { /*...*/ }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">open class Rectangle() : Shape() {
    final override fun draw() { /*...*/ }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">open class Rectangle() : Shape() {
    final override fun draw() { /*...*/ }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Overriding properties<a class="anchor" href="https://kotlinlang.org/docs/reference/classes.html#overriding-properties" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">open class Shape {
    open val vertexCount: Int = 0
}
&#8203;
class Rectangle : Shape() {
    override val vertexCount = 4
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">open class Shape {
    open val vertexCount: Int = 0
}
&#8203;
class Rectangle : Shape() {
    override val vertexCount = 4
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">interface Shape {
    val vertexCount: Int
}
&#8203;
class Rectangle(override val vertexCount: Int = 4) : Shape // Always has 4 vertices
&#8203;
class Polygon : Shape {
    override var vertexCount: Int = 0  // Can be set to any number later
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">interface Shape {
    val vertexCount: Int
}
&#8203;
class Rectangle(override val vertexCount: Int = 4) : Shape // Always has 4 vertices
&#8203;
class Polygon : Shape {
    override var vertexCount: Int = 0  // Can be set to any number later
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Derived class initialization order<a class="anchor" href="https://kotlinlang.org/docs/reference/classes.html#derived-class-initialization-order" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">open class Base(val name: String) {
&#8203;
    init { println("Initializing Base") }
&#8203;
    open val size: Int = 
        name.length.also { println("Initializing size in Base: $it") }
}
&#8203;
class Derived(
    name: String,
    val lastName: String,
) : Base(name.capitalize().also { println("Argument for Base: $it") }) {
&#8203;
    init { println("Initializing Derived") }
&#8203;
    override val size: Int =
        (super.size + lastName.length).also { println("Initializing size in Derived: $it") }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">open class Base(val name: String) {
&#8203;
    init { println("Initializing Base") }
&#8203;
    open val size: Int = 
        name.length.also { println("Initializing size in Base: $it") }
}
&#8203;
class Derived(
    name: String,
    val lastName: String,
) : Base(name.capitalize().also { println("Argument for Base: $it") }) {
&#8203;
    init { println("Initializing Derived") }
&#8203;
    override val size: Int =
        (super.size + lastName.length).also { println("Initializing size in Derived: $it") }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Calling the superclass implementation<a class="anchor" href="https://kotlinlang.org/docs/reference/classes.html#calling-the-superclass-implementation" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">open class Rectangle {
    open fun draw() { println("Drawing a rectangle") }
    val borderColor: String get() = "black"
}
&#8203;
class FilledRectangle : Rectangle() {
    override fun draw() {
        super.draw()
        println("Filling the rectangle")
    }
&#8203;
    val fillColor: String get() = super.borderColor
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">open class Rectangle {
    open fun draw() { println("Drawing a rectangle") }
    val borderColor: String get() = "black"
}
&#8203;
class FilledRectangle : Rectangle() {
    override fun draw() {
        super.draw()
        println("Filling the rectangle")
    }
&#8203;
    val fillColor: String get() = super.borderColor
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class FilledRectangle: Rectangle() {
    override fun draw() { 
        val filler = Filler()
        filler.drawAndFill()
    }
&#8203;
    inner class Filler {
        fun fill() { println("Filling") }
        fun drawAndFill() {
            super@FilledRectangle.draw() // Calls Rectangle's implementation of draw()
            fill()
            println("Drawn a filled rectangle with color ${super@FilledRectangle.borderColor}") // Uses Rectangle's implementation of borderColor's get()
        }
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class FilledRectangle: Rectangle() {
    override fun draw() { 
        val filler = Filler()
        filler.drawAndFill()
    }
&#8203;
    inner class Filler {
        fun fill() { println("Filling") }
        fun drawAndFill() {
            super@FilledRectangle.draw() // Calls Rectangle's implementation of draw()
            fill()
            println("Drawn a filled rectangle with color ${super@FilledRectangle.borderColor}") // Uses Rectangle's implementation of borderColor's get()
        }
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Overriding rules<a class="anchor" href="https://kotlinlang.org/docs/reference/classes.html#overriding-rules" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">open class Rectangle {
    open fun draw() { /* ... */ }
}
&#8203;
interface Polygon {
    fun draw() { /* ... */ } // interface members are 'open' by default
}
&#8203;
class Square() : Rectangle(), Polygon {
    // The compiler requires draw() to be overridden:
    override fun draw() {
        super&#60;Rectangle&#62;.draw() // call to Rectangle.draw()
        super&#60;Polygon&#62;.draw() // call to Polygon.draw()
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">open class Rectangle {
    open fun draw() { /* ... */ }
}
&#8203;
interface Polygon {
    fun draw() { /* ... */ } // interface members are 'open' by default
}
&#8203;
class Square() : Rectangle(), Polygon {
    // The compiler requires draw() to be overridden:
    override fun draw() {
        super&#60;Rectangle&#62;.draw() // call to Rectangle.draw()
        super&#60;Polygon&#62;.draw() // call to Polygon.draw()
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Abstract classes<a class="anchor" href="https://kotlinlang.org/docs/reference/classes.html#abstract-classes" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">open class Polygon {
    open fun draw() {}
}
&#8203;
abstract class Rectangle : Polygon() {
    abstract override fun draw()
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">open class Polygon {
    open fun draw() {}
}
&#8203;
abstract class Rectangle : Polygon() {
    abstract override fun draw()
}</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="2_1" style="text-align:center;">Properties<a class="anchor" href="https://kotlinlang.org/docs/reference/properties.html#properties" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Declaring Properties<a class="anchor" href="https://kotlinlang.org/docs/reference/properties.html#declaring-properties" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Address {
    var name: String = "Holmes, Sherlock"
    var street: String = "Baker"
    var city: String = "London"
    var state: String? = null
    var zip: String = "123456"
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Address {
    var name: String = "Holmes, Sherlock"
    var street: String = "Baker"
    var city: String = "London"
    var state: String? = null
    var zip: String = "123456"
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun copyAddress(address: Address): Address {
    val result = Address() // there's no 'new' keyword in Kotlin
    result.name = address.name // accessors are called
    result.street = address.street
    // ...
    return result
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun copyAddress(address: Address): Address {
    val result = Address() // there's no 'new' keyword in Kotlin
    result.name = address.name // accessors are called
    result.street = address.street
    // ...
    return result
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Getters and Setters<a class="anchor" href="https://kotlinlang.org/docs/reference/properties.html#getters-and-setters" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">var &#60;propertyName&#62;[: &#60;PropertyType&#62;] [= &#60;property_initializer&#62;]
    [&#60;getter&#62;]
    [&#60;setter&#62;]</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">var &#60;propertyName&#62;[: &#60;PropertyType&#62;] [= &#60;property_initializer&#62;]
    [&#60;getter&#62;]
    [&#60;setter&#62;]</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">var allByDefault: Int? // error: explicit initializer required, default getter and setter implied
var initialized = 1 // has type Int, default getter and setter</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">var allByDefault: Int? // error: explicit initializer required, default getter and setter implied
var initialized = 1 // has type Int, default getter and setter</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val simple: Int? // has type Int, default getter, must be initialized in constructor
val inferredType = 1 // has type Int and a default getter</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val simple: Int? // has type Int, default getter, must be initialized in constructor
val inferredType = 1 // has type Int and a default getter</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val isEmpty: Boolean
    get() = this.size == 0</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val isEmpty: Boolean
    get() = this.size == 0</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">var stringRepresentation: String
    get() = this.toString()
    set(value) {
        setDataFromString(value) // parses the string and assigns values to other properties
    }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">var stringRepresentation: String
    get() = this.toString()
    set(value) {
        setDataFromString(value) // parses the string and assigns values to other properties
    }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val isEmpty get() = this.size == 0  // has type Boolean</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val isEmpty get() = this.size == 0  // has type Boolean</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">var setterVisibility: String = "abc"
    private set // the setter is private and has the default implementation
&#8203;
var setterWithAnnotation: Any? = null
    @Inject set // annotate the setter with Inject</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">var setterVisibility: String = "abc"
    private set // the setter is private and has the default implementation
&#8203;
var setterWithAnnotation: Any? = null
    @Inject set // annotate the setter with Inject</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Backing Fields<a class="anchor" href="https://kotlinlang.org/docs/reference/properties.html#backing-fields" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">var counter = 0 // Note: the initializer assigns the backing field directly
    set(value) {
        if (value &#62;= 0) field = value
    }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">var counter = 0 // Note: the initializer assigns the backing field directly
    set(value) {
        if (value &#62;= 0) field = value
    }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val isEmpty: Boolean
    get() = this.size == 0</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val isEmpty: Boolean
    get() = this.size == 0</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Backing Properties<a class="anchor" href="https://kotlinlang.org/docs/reference/properties.html#backing-properties" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">private var _table: Map&#60;String, Int&#62;? = null
public val table: Map&#60;String, Int&#62;
    get() {
        if (_table == null) {
            _table = HashMap() // Type parameters are inferred
        }
        return _table ?: throw AssertionError("Set to null by another thread")
    }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">private var _table: Map&#60;String, Int&#62;? = null
public val table: Map&#60;String, Int&#62;
    get() {
        if (_table == null) {
            _table = HashMap() // Type parameters are inferred
        }
        return _table ?: throw AssertionError("Set to null by another thread")
    }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Compile-Time Constants<a class="anchor" href="https://kotlinlang.org/docs/reference/properties.html#compile-time-constants" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">const val SUBSYSTEM_DEPRECATED: String = "This subsystem is deprecated"
&#8203;
@Deprecated(SUBSYSTEM_DEPRECATED) fun foo() { ... }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">const val SUBSYSTEM_DEPRECATED: String = "This subsystem is deprecated"
&#8203;
@Deprecated(SUBSYSTEM_DEPRECATED) fun foo() { ... }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Late-Initialized Properties and Variables<a class="anchor" href="https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties-and-variables" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">public class MyTest {
    lateinit var subject: TestSubject
&#8203;
    @SetUp fun setup() {
        subject = TestSubject()
    }
&#8203;
    @Test fun test() {
        subject.method()  // dereference directly
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">public class MyTest {
    lateinit var subject: TestSubject
&#8203;
    @SetUp fun setup() {
        subject = TestSubject()
    }
&#8203;
    @Test fun test() {
        subject.method()  // dereference directly
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Checking whether a lateinit var is initialized (since 1.2)<a class="anchor" href="https://kotlinlang.org/docs/reference/properties.html#checking-whether-a-lateinit-var-is-initialized-since-12" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">if (foo::bar.isInitialized) {
    println(foo.bar)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">if (foo::bar.isInitialized) {
    println(foo.bar)
}</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="2_2" style="text-align:center;">Interfaces<a class="anchor" href="https://kotlinlang.org/docs/reference/interfaces.html#interfaces" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">interface MyInterface {
    fun bar()
    fun foo() {
      // optional body
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">interface MyInterface {
    fun bar()
    fun foo() {
      // optional body
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Implementing Interfaces<a class="anchor" href="https://kotlinlang.org/docs/reference/interfaces.html#implementing-interfaces" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Child : MyInterface {
    override fun bar() {
        // body
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Child : MyInterface {
    override fun bar() {
        // body
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Properties in Interfaces<a class="anchor" href="https://kotlinlang.org/docs/reference/interfaces.html#properties-in-interfaces" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">interface MyInterface {
    val prop: Int // abstract
&#8203;
    val propertyWithImplementation: String
        get() = "foo"
&#8203;
    fun foo() {
        print(prop)
    }
}
&#8203;
class Child : MyInterface {
    override val prop: Int = 29
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">interface MyInterface {
    val prop: Int // abstract
&#8203;
    val propertyWithImplementation: String
        get() = "foo"
&#8203;
    fun foo() {
        print(prop)
    }
}
&#8203;
class Child : MyInterface {
    override val prop: Int = 29
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Interfaces Inheritance<a class="anchor" href="https://kotlinlang.org/docs/reference/interfaces.html#interfaces-inheritance" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">interface Named {
    val name: String
}
&#8203;
interface Person : Named {
    val firstName: String
    val lastName: String
    
    override val name: String get() = "$firstName $lastName"
}
&#8203;
data class Employee(
    // implementing 'name' is not required
    override val firstName: String,
    override val lastName: String,
    val position: Position
) : Person</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">interface Named {
    val name: String
}
&#8203;
interface Person : Named {
    val firstName: String
    val lastName: String
    
    override val name: String get() = "$firstName $lastName"
}
&#8203;
data class Employee(
    // implementing 'name' is not required
    override val firstName: String,
    override val lastName: String,
    val position: Position
) : Person</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Resolving overriding conflicts<a class="anchor" href="https://kotlinlang.org/docs/reference/interfaces.html#resolving-overriding-conflicts" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">interface A {
    fun foo() { print("A") }
    fun bar()
}
&#8203;
interface B {
    fun foo() { print("B") }
    fun bar() { print("bar") }
}
&#8203;
class C : A {
    override fun bar() { print("bar") }
}
&#8203;
class D : A, B {
    override fun foo() {
        super&#60;A&#62;.foo()
        super&#60;B&#62;.foo()
    }
&#8203;
    override fun bar() {
        super&#60;B&#62;.bar()
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">interface A {
    fun foo() { print("A") }
    fun bar()
}
&#8203;
interface B {
    fun foo() { print("B") }
    fun bar() { print("bar") }
}
&#8203;
class C : A {
    override fun bar() { print("bar") }
}
&#8203;
class D : A, B {
    override fun foo() {
        super&#60;A&#62;.foo()
        super&#60;B&#62;.foo()
    }
&#8203;
    override fun bar() {
        super&#60;B&#62;.bar()
    }
}</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="2_3" style="text-align:center;">Functional (SAM) interfaces<a class="anchor" href="https://kotlinlang.org/docs/reference/fun-interfaces.html#functional-sam-interfaces" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun interface KRunnable {
   fun invoke()
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun interface KRunnable {
   fun invoke()
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>SAM conversions<a class="anchor" href="https://kotlinlang.org/docs/reference/fun-interfaces.html#sam-conversions" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun interface IntPredicate {
   fun accept(i: Int): Boolean
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun interface IntPredicate {
   fun accept(i: Int): Boolean
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Creating an instance of a class
val isEven = object : IntPredicate {
   override fun accept(i: Int): Boolean {
       return i % 2 == 0
   }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Creating an instance of a class
val isEven = object : IntPredicate {
   override fun accept(i: Int): Boolean {
       return i % 2 == 0
   }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Creating an instance using lambda
val isEven = IntPredicate { it % 2 == 0 }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Creating an instance using lambda
val isEven = IntPredicate { it % 2 == 0 }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun interface IntPredicate {
   fun accept(i: Int): Boolean
}
&#8203;
val isEven = IntPredicate { it % 2 == 0 }
&#8203;
fun main() {
   println("Is 7 even? - ${isEven.accept(7)}")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun interface IntPredicate {
   fun accept(i: Int): Boolean
}
&#8203;
val isEven = IntPredicate { it % 2 == 0 }
&#8203;
fun main() {
   println("Is 7 even? - ${isEven.accept(7)}")
}</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="2_4" style="text-align:center;">Visibility Modifiers<a class="anchor" href="https://kotlinlang.org/docs/reference/visibility-modifiers.html#visibility-modifiers" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Packages<a class="anchor" href="https://kotlinlang.org/docs/reference/visibility-modifiers.html#packages" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// file name: example.kt
package foo
&#8203;
fun baz() { ... }
class Bar { ... }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// file name: example.kt
package foo
&#8203;
fun baz() { ... }
class Bar { ... }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// file name: example.kt
package foo
&#8203;
private fun foo() { ... } // visible inside example.kt
&#8203;
public var bar: Int = 5 // property is visible everywhere
    private set         // setter is visible only in example.kt
    
internal val baz = 6    // visible inside the same module</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// file name: example.kt
package foo
&#8203;
private fun foo() { ... } // visible inside example.kt
&#8203;
public var bar: Int = 5 // property is visible everywhere
    private set         // setter is visible only in example.kt
    
internal val baz = 6    // visible inside the same module</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Classes and Interfaces<a class="anchor" href="https://kotlinlang.org/docs/reference/visibility-modifiers.html#classes-and-interfaces" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">open class Outer {
    private val a = 1
    protected open val b = 2
    internal val c = 3
    val d = 4  // public by default
    
    protected class Nested {
        public val e: Int = 5
    }
}
&#8203;
class Subclass : Outer() {
    // a is not visible
    // b, c and d are visible
    // Nested and e are visible
&#8203;
    override val b = 5   // 'b' is protected
}
&#8203;
class Unrelated(o: Outer) {
    // o.a, o.b are not visible
    // o.c and o.d are visible (same module)
    // Outer.Nested is not visible, and Nested::e is not visible either 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">open class Outer {
    private val a = 1
    protected open val b = 2
    internal val c = 3
    val d = 4  // public by default
    
    protected class Nested {
        public val e: Int = 5
    }
}
&#8203;
class Subclass : Outer() {
    // a is not visible
    // b, c and d are visible
    // Nested and e are visible
&#8203;
    override val b = 5   // 'b' is protected
}
&#8203;
class Unrelated(o: Outer) {
    // o.a, o.b are not visible
    // o.c and o.d are visible (same module)
    // Outer.Nested is not visible, and Nested::e is not visible either 
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Constructors<a class="anchor" href="https://kotlinlang.org/docs/reference/visibility-modifiers.html#constructors" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class C private constructor(a: Int) { ... }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class C private constructor(a: Int) { ... }</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="2_5" style="text-align:center;">Extensions<a class="anchor" href="https://kotlinlang.org/docs/reference/extensions.html#extensions" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Extension functions<a class="anchor" href="https://kotlinlang.org/docs/reference/extensions.html#extension-functions" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun MutableList&#60;Int&#62;.swap(index1: Int, index2: Int) {
    val tmp = this[index1] // 'this' corresponds to the list
    this[index1] = this[index2]
    this[index2] = tmp
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun MutableList&#60;Int&#62;.swap(index1: Int, index2: Int) {
    val tmp = this[index1] // 'this' corresponds to the list
    this[index1] = this[index2]
    this[index2] = tmp
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val list = mutableListOf(1, 2, 3)
list.swap(0, 2) // 'this' inside 'swap()' will hold the value of 'list'</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val list = mutableListOf(1, 2, 3)
list.swap(0, 2) // 'this' inside 'swap()' will hold the value of 'list'</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun &#60;T&#62; MutableList&#60;T&#62;.swap(index1: Int, index2: Int) {
    val tmp = this[index1] // 'this' corresponds to the list
    this[index1] = this[index2]
    this[index2] = tmp
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun &#60;T&#62; MutableList&#60;T&#62;.swap(index1: Int, index2: Int) {
    val tmp = this[index1] // 'this' corresponds to the list
    this[index1] = this[index2]
    this[index2] = tmp
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Extensions are resolved statically<a class="anchor" href="https://kotlinlang.org/docs/reference/extensions.html#extensions-are-resolved-statically" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">open class Shape
&#8203;
class Rectangle: Shape()
&#8203;
fun Shape.getName() = "Shape"
&#8203;
fun Rectangle.getName() = "Rectangle"
&#8203;
fun printClassName(s: Shape) {
    println(s.getName())
}    
&#8203;
printClassName(Rectangle())</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">open class Shape
&#8203;
class Rectangle: Shape()
&#8203;
fun Shape.getName() = "Shape"
&#8203;
fun Rectangle.getName() = "Rectangle"
&#8203;
fun printClassName(s: Shape) {
    println(s.getName())
}    
&#8203;
printClassName(Rectangle())</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Example {
    fun printFunctionType() { println("Class method") }
}
&#8203;
fun Example.printFunctionType() { println("Extension function") }
&#8203;
Example().printFunctionType()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Example {
    fun printFunctionType() { println("Class method") }
}
&#8203;
fun Example.printFunctionType() { println("Extension function") }
&#8203;
Example().printFunctionType()</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Example {
    fun printFunctionType() { println("Class method") }
}
&#8203;
fun Example.printFunctionType(i: Int) { println("Extension function") }
&#8203;
Example().printFunctionType(1)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Example {
    fun printFunctionType() { println("Class method") }
}
&#8203;
fun Example.printFunctionType(i: Int) { println("Extension function") }
&#8203;
Example().printFunctionType(1)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Nullable receiver<a class="anchor" href="https://kotlinlang.org/docs/reference/extensions.html#nullable-receiver" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun Any?.toString(): String {
    if (this == null) return "null"
    // after the null check, 'this' is autocast to a non-null type, so the toString() below
    // resolves to the member function of the Any class
    return toString()
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun Any?.toString(): String {
    if (this == null) return "null"
    // after the null check, 'this' is autocast to a non-null type, so the toString() below
    // resolves to the member function of the Any class
    return toString()
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Extension properties<a class="anchor" href="https://kotlinlang.org/docs/reference/extensions.html#extension-properties" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val &#60;T&#62; List&#60;T&#62;.lastIndex: Int
    get() = size - 1</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val &#60;T&#62; List&#60;T&#62;.lastIndex: Int
    get() = size - 1</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val House.number = 1 // error: initializers are not allowed for extension properties</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val House.number = 1 // error: initializers are not allowed for extension properties</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Companion object extensions<a class="anchor" href="https://kotlinlang.org/docs/reference/extensions.html#companion-object-extensions" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class MyClass {
    companion object { }  // will be called "Companion"
}
&#8203;
fun MyClass.Companion.printCompanion() { println("companion") }
&#8203;
fun main() {
    MyClass.printCompanion()
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class MyClass {
    companion object { }  // will be called "Companion"
}
&#8203;
fun MyClass.Companion.printCompanion() { println("companion") }
&#8203;
fun main() {
    MyClass.printCompanion()
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Scope of extensions<a class="anchor" href="https://kotlinlang.org/docs/reference/extensions.html#scope-of-extensions" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">package org.example.declarations
 
fun List&#60;String&#62;.getLongestString() { /*...*/}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">package org.example.declarations
 
fun List&#60;String&#62;.getLongestString() { /*...*/}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">package org.example.usage
&#8203;
import org.example.declarations.getLongestString
&#8203;
fun main() {
    val list = listOf("red", "green", "blue")
    list.getLongestString()
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">package org.example.usage
&#8203;
import org.example.declarations.getLongestString
&#8203;
fun main() {
    val list = listOf("red", "green", "blue")
    list.getLongestString()
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Declaring extensions as members<a class="anchor" href="https://kotlinlang.org/docs/reference/extensions.html#declaring-extensions-as-members" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Host(val hostname: String) {
    fun printHostname() { print(hostname) }
}
&#8203;
class Connection(val host: Host, val port: Int) {
     fun printPort() { print(port) }
&#8203;
     fun Host.printConnectionString() {
         printHostname()   // calls Host.printHostname()
         print(":")
         printPort()   // calls Connection.printPort()
     }
&#8203;
     fun connect() {
         /*...*/
         host.printConnectionString()   // calls the extension function
     }
}
&#8203;
fun main() {
    Connection(Host("kotl.in"), 443).connect()
    //Host("kotl.in").printConnectionString(443)  // error, the extension function is unavailable outside Connection
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Host(val hostname: String) {
    fun printHostname() { print(hostname) }
}
&#8203;
class Connection(val host: Host, val port: Int) {
     fun printPort() { print(port) }
&#8203;
     fun Host.printConnectionString() {
         printHostname()   // calls Host.printHostname()
         print(":")
         printPort()   // calls Connection.printPort()
     }
&#8203;
     fun connect() {
         /*...*/
         host.printConnectionString()   // calls the extension function
     }
}
&#8203;
fun main() {
    Connection(Host("kotl.in"), 443).connect()
    //Host("kotl.in").printConnectionString(443)  // error, the extension function is unavailable outside Connection
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Connection {
    fun Host.getConnectionString() {
        toString()         // calls Host.toString()
        this@Connection.toString()  // calls Connection.toString()
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Connection {
    fun Host.getConnectionString() {
        toString()         // calls Host.toString()
        this@Connection.toString()  // calls Connection.toString()
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">open class Base { }
&#8203;
class Derived : Base() { }
&#8203;
open class BaseCaller {
    open fun Base.printFunctionInfo() {
        println("Base extension function in BaseCaller")
    }
&#8203;
    open fun Derived.printFunctionInfo() {
        println("Derived extension function in BaseCaller")
    }
&#8203;
    fun call(b: Base) {
        b.printFunctionInfo()   // call the extension function
    }
}
&#8203;
class DerivedCaller: BaseCaller() {
    override fun Base.printFunctionInfo() {
        println("Base extension function in DerivedCaller")
    }
&#8203;
    override fun Derived.printFunctionInfo() {
        println("Derived extension function in DerivedCaller")
    }
}
&#8203;
fun main() {
    BaseCaller().call(Base())   // "Base extension function in BaseCaller"
    DerivedCaller().call(Base())  // "Base extension function in DerivedCaller" - dispatch receiver is resolved virtually
    DerivedCaller().call(Derived())  // "Base extension function in DerivedCaller" - extension receiver is resolved statically
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">open class Base { }
&#8203;
class Derived : Base() { }
&#8203;
open class BaseCaller {
    open fun Base.printFunctionInfo() {
        println("Base extension function in BaseCaller")
    }
&#8203;
    open fun Derived.printFunctionInfo() {
        println("Derived extension function in BaseCaller")
    }
&#8203;
    fun call(b: Base) {
        b.printFunctionInfo()   // call the extension function
    }
}
&#8203;
class DerivedCaller: BaseCaller() {
    override fun Base.printFunctionInfo() {
        println("Base extension function in DerivedCaller")
    }
&#8203;
    override fun Derived.printFunctionInfo() {
        println("Derived extension function in DerivedCaller")
    }
}
&#8203;
fun main() {
    BaseCaller().call(Base())   // "Base extension function in BaseCaller"
    DerivedCaller().call(Base())  // "Base extension function in DerivedCaller" - dispatch receiver is resolved virtually
    DerivedCaller().call(Derived())  // "Base extension function in DerivedCaller" - extension receiver is resolved statically
}</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="2_6" style="text-align:center;">Data Classes<a class="anchor" href="https://kotlinlang.org/docs/reference/data-classes.html#data-classes" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">data class User(val name: String, val age: Int)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">data class User(val name: String, val age: Int)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">data class User(val name: String = "", val age: Int = 0)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">data class User(val name: String = "", val age: Int = 0)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Properties Declared in the Class Body<a class="anchor" href="https://kotlinlang.org/docs/reference/data-classes.html#properties-declared-in-the-class-body" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">data class Person(val name: String) {
    var age: Int = 0
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">data class Person(val name: String) {
    var age: Int = 0
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val person1 = Person("John")
val person2 = Person("John")
person1.age = 10
person2.age = 20</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val person1 = Person("John")
val person2 = Person("John")
person1.age = 10
person2.age = 20</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Copying<a class="anchor" href="https://kotlinlang.org/docs/reference/data-classes.html#copying" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun copy(name: String = this.name, age: Int = this.age) = User(name, age)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun copy(name: String = this.name, age: Int = this.age) = User(name, age)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val jack = User(name = "Jack", age = 1)
val olderJack = jack.copy(age = 2)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val jack = User(name = "Jack", age = 1)
val olderJack = jack.copy(age = 2)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">&#8203;
var userJack = User(name="Jack")
var address = Address(user = userJack, city = "London")
var addressCopy = address.copy()
&#8203;
addressCopy.city = "New York"
addressCopy.user.name = "John"  // Propagates to `address.user` because they both point to userJack.
&#8203;</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">&#8203;
var userJack = User(name="Jack")
var address = Address(user = userJack, city = "London")
var addressCopy = address.copy()
&#8203;
addressCopy.city = "New York"
addressCopy.user.name = "John"  // Propagates to `address.user` because they both point to userJack.
&#8203;</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Data Classes and Destructuring Declarations<a class="anchor" href="https://kotlinlang.org/docs/reference/data-classes.html#data-classes-and-destructuring-declarations" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val jane = User("Jane", 35) 
val (name, age) = jane
println("$name, $age years of age") // prints "Jane, 35 years of age"</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val jane = User("Jane", 35) 
val (name, age) = jane
println("$name, $age years of age") // prints "Jane, 35 years of age"</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="2_7" style="text-align:center;">Sealed Classes<a class="anchor" href="https://kotlinlang.org/docs/reference/sealed-classes.html#sealed-classes" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">sealed class Expr
&#8203;
data class Const(val number: Double) : Expr()
data class Sum(val e1: Expr, val e2: Expr) : Expr()
object NotANumber : Expr()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">sealed class Expr
&#8203;
data class Const(val number: Double) : Expr()
data class Sum(val e1: Expr, val e2: Expr) : Expr()
object NotANumber : Expr()</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Sealed interfaces<a class="anchor" href="https://kotlinlang.org/docs/reference/sealed-classes.html#sealed-interfaces" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">sealed interface Expr
&#8203;
sealed class MathExpr(): Expr
&#8203;
data class Const(val number: Double) : MathExpr()
data class Sum(val e1: Expr, val e2: Expr) : MathExpr()
object NotANumber : Expr</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">sealed interface Expr
&#8203;
sealed class MathExpr(): Expr
&#8203;
data class Const(val number: Double) : MathExpr()
data class Sum(val e1: Expr, val e2: Expr) : MathExpr()
object NotANumber : Expr</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Sealed classes and when expression<a class="anchor" href="https://kotlinlang.org/docs/reference/sealed-classes.html#sealed-classes-and-when-expression" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun eval(expr: Expr): Double = when(expr) {
    is Const -&#62; expr.number
    is Sum -&#62; eval(expr.e1) + eval(expr.e2)
    NotANumber -&#62; Double.NaN
    // the `else` clause is not required because we've covered all the cases
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun eval(expr: Expr): Double = when(expr) {
    is Const -&#62; expr.number
    is Sum -&#62; eval(expr.e1) + eval(expr.e2)
    NotANumber -&#62; Double.NaN
    // the `else` clause is not required because we've covered all the cases
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Try sealed interfaces and package-wide hierarchies of sealed classes<a class="anchor" href="https://kotlinlang.org/docs/reference/sealed-classes.html#try-sealed-interfaces-and-package-wide-hierarchies-of-sealed-classes" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">kotlinOptions.languageVersion = "1.5"</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">kotlinOptions.languageVersion = "1.5"</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="2_8" style="text-align:center;">Nested and Inner Classes<a class="anchor" href="https://kotlinlang.org/docs/reference/nested-classes.html#nested-and-inner-classes" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Outer {
    private val bar: Int = 1
    class Nested {
        fun foo() = 2
    }
}
&#8203;
val demo = Outer.Nested().foo() // == 2</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Outer {
    private val bar: Int = 1
    class Nested {
        fun foo() = 2
    }
}
&#8203;
val demo = Outer.Nested().foo() // == 2</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">interface OuterInterface {
    class InnerClass
    interface InnerInterface
}
&#8203;
class OuterClass {
    class InnerClass
    interface InnerInterface
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">interface OuterInterface {
    class InnerClass
    interface InnerInterface
}
&#8203;
class OuterClass {
    class InnerClass
    interface InnerInterface
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Inner classes<a class="anchor" href="https://kotlinlang.org/docs/reference/nested-classes.html#inner-classes" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Outer {
    private val bar: Int = 1
    inner class Inner {
        fun foo() = bar
    }
}
&#8203;
val demo = Outer().Inner().foo() // == 1</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Outer {
    private val bar: Int = 1
    inner class Inner {
        fun foo() = bar
    }
}
&#8203;
val demo = Outer().Inner().foo() // == 1</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Anonymous inner classes<a class="anchor" href="https://kotlinlang.org/docs/reference/nested-classes.html#anonymous-inner-classes" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">window.addMouseListener(object : MouseAdapter() {
&#8203;
    override fun mouseClicked(e: MouseEvent) { ... }
&#8203;
    override fun mouseEntered(e: MouseEvent) { ... }
})</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">window.addMouseListener(object : MouseAdapter() {
&#8203;
    override fun mouseClicked(e: MouseEvent) { ... }
&#8203;
    override fun mouseEntered(e: MouseEvent) { ... }
})</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val listener = ActionListener { println("clicked") }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val listener = ActionListener { println("clicked") }</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="2_9" style="text-align:center;">Enum Classes<a class="anchor" href="https://kotlinlang.org/docs/reference/enum-classes.html#enum-classes" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">enum class Direction {
    NORTH, SOUTH, WEST, EAST
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">enum class Direction {
    NORTH, SOUTH, WEST, EAST
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Initialization<a class="anchor" href="https://kotlinlang.org/docs/reference/enum-classes.html#initialization" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">enum class Color(val rgb: Int) {
        RED(0xFF0000),
        GREEN(0x00FF00),
        BLUE(0x0000FF)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">enum class Color(val rgb: Int) {
        RED(0xFF0000),
        GREEN(0x00FF00),
        BLUE(0x0000FF)
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Anonymous Classes<a class="anchor" href="https://kotlinlang.org/docs/reference/enum-classes.html#anonymous-classes" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">enum class ProtocolState {
    WAITING {
        override fun signal() = TALKING
    },
&#8203;
    TALKING {
        override fun signal() = WAITING
    };
&#8203;
    abstract fun signal(): ProtocolState
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">enum class ProtocolState {
    WAITING {
        override fun signal() = TALKING
    },
&#8203;
    TALKING {
        override fun signal() = WAITING
    };
&#8203;
    abstract fun signal(): ProtocolState
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Implementing Interfaces in Enum Classes<a class="anchor" href="https://kotlinlang.org/docs/reference/enum-classes.html#implementing-interfaces-in-enum-classes" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">enum class IntArithmetics : BinaryOperator&#60;Int&#62;, IntBinaryOperator {
    PLUS {
        override fun apply(t: Int, u: Int): Int = t + u
    },
    TIMES {
        override fun apply(t: Int, u: Int): Int = t * u
    };
&#8203;
    override fun applyAsInt(t: Int, u: Int) = apply(t, u)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">enum class IntArithmetics : BinaryOperator&#60;Int&#62;, IntBinaryOperator {
    PLUS {
        override fun apply(t: Int, u: Int): Int = t + u
    },
    TIMES {
        override fun apply(t: Int, u: Int): Int = t * u
    };
&#8203;
    override fun applyAsInt(t: Int, u: Int) = apply(t, u)
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Working with Enum Constants<a class="anchor" href="https://kotlinlang.org/docs/reference/enum-classes.html#working-with-enum-constants" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">EnumClass.valueOf(value: String): EnumClass
EnumClass.values(): Array&#60;EnumClass&#62;</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">EnumClass.valueOf(value: String): EnumClass
EnumClass.values(): Array&#60;EnumClass&#62;</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">enum class RGB { RED, GREEN, BLUE }
&#8203;
inline fun &#60;reified T : Enum&#60;T&#62;&#62; printAllValues() {
    print(enumValues&#60;T&#62;().joinToString { it.name })
}
&#8203;
printAllValues&#60;RGB&#62;() // prints RED, GREEN, BLUE</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">enum class RGB { RED, GREEN, BLUE }
&#8203;
inline fun &#60;reified T : Enum&#60;T&#62;&#62; printAllValues() {
    print(enumValues&#60;T&#62;().joinToString { it.name })
}
&#8203;
printAllValues&#60;RGB&#62;() // prints RED, GREEN, BLUE</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val name: String
val ordinal: Int</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val name: String
val ordinal: Int</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="2_10" style="text-align:center;">Object Expressions and Declarations<a class="anchor" href="https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions-and-declarations" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Object expressions<a class="anchor" href="https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">window.addMouseListener(object : MouseAdapter() {
    override fun mouseClicked(e: MouseEvent) { /*...*/ }
&#8203;
    override fun mouseEntered(e: MouseEvent) { /*...*/ }
})</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">window.addMouseListener(object : MouseAdapter() {
    override fun mouseClicked(e: MouseEvent) { /*...*/ }
&#8203;
    override fun mouseEntered(e: MouseEvent) { /*...*/ }
})</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">open class A(x: Int) {
    public open val y: Int = x
}
&#8203;
interface B { /*...*/ }
&#8203;
val ab: A = object : A(1), B {
    override val y = 15
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">open class A(x: Int) {
    public open val y: Int = x
}
&#8203;
interface B { /*...*/ }
&#8203;
val ab: A = object : A(1), B {
    override val y = 15
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun foo() {
    val adHoc = object {
        var x: Int = 0
        var y: Int = 0
    }
    print(adHoc.x + adHoc.y)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun foo() {
    val adHoc = object {
        var x: Int = 0
        var y: Int = 0
    }
    print(adHoc.x + adHoc.y)
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class C {
    // Private function, so the return type is the anonymous object type
    private fun foo() = object {
        val x: String = "x"
    }
&#8203;
    // Public function, so the return type is Any
    fun publicFoo() = object {
        val x: String = "x"
    }
&#8203;
    fun bar() {
        val x1 = foo().x        // Works
        val x2 = publicFoo().x  // ERROR: Unresolved reference 'x'
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class C {
    // Private function, so the return type is the anonymous object type
    private fun foo() = object {
        val x: String = "x"
    }
&#8203;
    // Public function, so the return type is Any
    fun publicFoo() = object {
        val x: String = "x"
    }
&#8203;
    fun bar() {
        val x1 = foo().x        // Works
        val x2 = publicFoo().x  // ERROR: Unresolved reference 'x'
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun countClicks(window: JComponent) {
    var clickCount = 0
    var enterCount = 0
&#8203;
    window.addMouseListener(object : MouseAdapter() {
        override fun mouseClicked(e: MouseEvent) {
            clickCount++
        }
&#8203;
        override fun mouseEntered(e: MouseEvent) {
            enterCount++
        }
    })
    // ...
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun countClicks(window: JComponent) {
    var clickCount = 0
    var enterCount = 0
&#8203;
    window.addMouseListener(object : MouseAdapter() {
        override fun mouseClicked(e: MouseEvent) {
            clickCount++
        }
&#8203;
        override fun mouseEntered(e: MouseEvent) {
            enterCount++
        }
    })
    // ...
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Object declarations<a class="anchor" href="https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">object DataProviderManager {
    fun registerDataProvider(provider: DataProvider) {
        // ...
    }
&#8203;
    val allDataProviders: Collection&#60;DataProvider&#62;
        get() = // ...
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">object DataProviderManager {
    fun registerDataProvider(provider: DataProvider) {
        // ...
    }
&#8203;
    val allDataProviders: Collection&#60;DataProvider&#62;
        get() = // ...
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">DataProviderManager.registerDataProvider(...)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">DataProviderManager.registerDataProvider(...)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">object DefaultListener : MouseAdapter() {
    override fun mouseClicked(e: MouseEvent) { ... }
&#8203;
    override fun mouseEntered(e: MouseEvent) { ... }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">object DefaultListener : MouseAdapter() {
    override fun mouseClicked(e: MouseEvent) { ... }
&#8203;
    override fun mouseEntered(e: MouseEvent) { ... }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Companion Objects<a class="anchor" href="https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class MyClass {
    companion object Factory {
        fun create(): MyClass = MyClass()
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class MyClass {
    companion object Factory {
        fun create(): MyClass = MyClass()
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val instance = MyClass.create()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val instance = MyClass.create()</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class MyClass {
    companion object { }
}
&#8203;
val x = MyClass.Companion</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class MyClass {
    companion object { }
}
&#8203;
val x = MyClass.Companion</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class MyClass1 {
    companion object Named { }
}
&#8203;
val x = MyClass1
&#8203;
class MyClass2 {
    companion object { }
}
&#8203;
val y = MyClass2</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class MyClass1 {
    companion object Named { }
}
&#8203;
val x = MyClass1
&#8203;
class MyClass2 {
    companion object { }
}
&#8203;
val y = MyClass2</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">interface Factory&#60;T&#62; {
    fun create(): T
}
&#8203;
class MyClass {
    companion object : Factory&#60;MyClass&#62; {
        override fun create(): MyClass = MyClass()
    }
}
&#8203;
val f: Factory&#60;MyClass&#62; = MyClass</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">interface Factory&#60;T&#62; {
    fun create(): T
}
&#8203;
class MyClass {
    companion object : Factory&#60;MyClass&#62; {
        override fun create(): MyClass = MyClass()
    }
}
&#8203;
val f: Factory&#60;MyClass&#62; = MyClass</code></pre></td>
            </tr>
            
            
            
            
            
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Type aliases<a class="anchor" href="https://kotlinlang.org/docs/reference/type-aliases.html#type-aliases" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">typealias NodeSet = Set&#60;Network.Node&#62;
&#8203;
typealias FileTable&#60;K&#62; = MutableMap&#60;K, MutableList&#60;File&#62;&#62;</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">typealias NodeSet = Set&#60;Network.Node&#62;
&#8203;
typealias FileTable&#60;K&#62; = MutableMap&#60;K, MutableList&#60;File&#62;&#62;</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">typealias MyHandler = (Int, String, Any) -&#62; Unit
&#8203;
typealias Predicate&#60;T&#62; = (T) -&#62; Boolean</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">typealias MyHandler = (Int, String, Any) -&#62; Unit
&#8203;
typealias Predicate&#60;T&#62; = (T) -&#62; Boolean</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class A {
    inner class Inner
}
class B {
    inner class Inner
}
&#8203;
typealias AInner = A.Inner
typealias BInner = B.Inner</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class A {
    inner class Inner
}
class B {
    inner class Inner
}
&#8203;
typealias AInner = A.Inner
typealias BInner = B.Inner</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">typealias Predicate&#60;T&#62; = (T) -&#62; Boolean
&#8203;
fun foo(p: Predicate&#60;Int&#62;) = p(42)
&#8203;
fun main() {
    val f: (Int) -&#62; Boolean = { it &#62; 0 }
    println(foo(f)) // prints "true"
&#8203;
    val p: Predicate&#60;Int&#62; = { it &#62; 0 }
    println(listOf(1, -2).filter(p)) // prints "[1]"
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">typealias Predicate&#60;T&#62; = (T) -&#62; Boolean
&#8203;
fun foo(p: Predicate&#60;Int&#62;) = p(42)
&#8203;
fun main() {
    val f: (Int) -&#62; Boolean = { it &#62; 0 }
    println(foo(f)) // prints "true"
&#8203;
    val p: Predicate&#60;Int&#62; = { it &#62; 0 }
    println(listOf(1, -2).filter(p)) // prints "[1]"
}</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="2_12" style="text-align:center;">Inline classes<a class="anchor" href="https://kotlinlang.org/docs/reference/inline-classes.html#inline-classes" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">inline class Password(val value: String)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">inline class Password(val value: String)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">value class Password(private val s: String)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">value class Password(private val s: String)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// For JVM backends
@JvmInline
value class Password(private val s: String)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// For JVM backends
@JvmInline
value class Password(private val s: String)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// No actual instantiation of class 'Password' happens
// At runtime 'securePassword' contains just 'String'
val securePassword = Password("Don't try this in production")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// No actual instantiation of class 'Password' happens
// At runtime 'securePassword' contains just 'String'
val securePassword = Password("Don't try this in production")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Members<a class="anchor" href="https://kotlinlang.org/docs/reference/inline-classes.html#members" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@JvmInline
value class Name(val s: String) {
    init {
        require(s.length &#62; 0) { }
    }
&#8203;
    val length: Int
        get() = s.length
&#8203;
    fun greet() {
        println("Hello, $s")
    }
}    
&#8203;
fun main() {
    val name = Name("Kotlin")
    name.greet() // method `greet` is called as a static method
    println(name.length) // property getter is called as a static method
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@JvmInline
value class Name(val s: String) {
    init {
        require(s.length &#62; 0) { }
    }
&#8203;
    val length: Int
        get() = s.length
&#8203;
    fun greet() {
        println("Hello, $s")
    }
}    
&#8203;
fun main() {
    val name = Name("Kotlin")
    name.greet() // method `greet` is called as a static method
    println(name.length) // property getter is called as a static method
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Inheritance<a class="anchor" href="https://kotlinlang.org/docs/reference/inline-classes.html#inheritance" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">interface Printable {
    fun prettyPrint(): String
}
&#8203;
@JvmInline
value class Name(val s: String) : Printable {
    override fun prettyPrint(): String = "Let's $s!"
}    
&#8203;
fun main() {
    val name = Name("Kotlin")
    println(name.prettyPrint()) // Still called as a static method
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">interface Printable {
    fun prettyPrint(): String
}
&#8203;
@JvmInline
value class Name(val s: String) : Printable {
    override fun prettyPrint(): String = "Let's $s!"
}    
&#8203;
fun main() {
    val name = Name("Kotlin")
    println(name.prettyPrint()) // Still called as a static method
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Representation<a class="anchor" href="https://kotlinlang.org/docs/reference/inline-classes.html#representation" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">interface I
&#8203;
@JvmInline
value class Foo(val i: Int) : I
&#8203;
fun asInline(f: Foo) {}
fun &#60;T&#62; asGeneric(x: T) {}
fun asInterface(i: I) {}
fun asNullable(i: Foo?) {}
&#8203;
fun &#60;T&#62; id(x: T): T = x
&#8203;
fun main() {
    val f = Foo(42) 
    
    asInline(f)    // unboxed: used as Foo itself
    asGeneric(f)   // boxed: used as generic type T
    asInterface(f) // boxed: used as type I
    asNullable(f)  // boxed: used as Foo?, which is different from Foo
    
    // below, 'f' first is boxed (while being passed to 'id') and then unboxed (when returned from 'id') 
    // In the end, 'c' contains unboxed representation (just '42'), as 'f' 
    val c = id(f)  
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">interface I
&#8203;
@JvmInline
value class Foo(val i: Int) : I
&#8203;
fun asInline(f: Foo) {}
fun &#60;T&#62; asGeneric(x: T) {}
fun asInterface(i: I) {}
fun asNullable(i: Foo?) {}
&#8203;
fun &#60;T&#62; id(x: T): T = x
&#8203;
fun main() {
    val f = Foo(42) 
    
    asInline(f)    // unboxed: used as Foo itself
    asGeneric(f)   // boxed: used as generic type T
    asInterface(f) // boxed: used as type I
    asNullable(f)  // boxed: used as Foo?, which is different from Foo
    
    // below, 'f' first is boxed (while being passed to 'id') and then unboxed (when returned from 'id') 
    // In the end, 'c' contains unboxed representation (just '42'), as 'f' 
    val c = id(f)  
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Mangling<a class="anchor" href="https://kotlinlang.org/docs/reference/inline-classes.html#mangling" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@JvmInline
value class UInt(val x: Int)
&#8203;
// Represented as 'public final void compute(int x)' on the JVM
fun compute(x: Int) { }
&#8203;
// Also represented as 'public final void compute(int x)' on the JVM!
fun compute(x: UInt) { }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@JvmInline
value class UInt(val x: Int)
&#8203;
// Represented as 'public final void compute(int x)' on the JVM
fun compute(x: Int) { }
&#8203;
// Also represented as 'public final void compute(int x)' on the JVM!
fun compute(x: UInt) { }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Calling from Java code<a class="anchor" href="https://kotlinlang.org/docs/reference/inline-classes.html#calling-from-java-code" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@JvmInline
value class UInt(val x: Int)
&#8203;
fun compute(x: Int) { }
&#8203;
@JvmName("computeUInt")
fun compute(x: UInt) { }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@JvmInline
value class UInt(val x: Int)
&#8203;
fun compute(x: Int) { }
&#8203;
@JvmName("computeUInt")
fun compute(x: UInt) { }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Inline classes vs type aliases<a class="anchor" href="https://kotlinlang.org/docs/reference/inline-classes.html#inline-classes-vs-type-aliases" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">typealias NameTypeAlias = String
&#8203;
@JvmInline
value class NameInlineClass(val s: String)
&#8203;
fun acceptString(s: String) {}
fun acceptNameTypeAlias(n: NameTypeAlias) {}
fun acceptNameInlineClass(p: NameInlineClass) {}
&#8203;
fun main() {
    val nameAlias: NameTypeAlias = ""
    val nameInlineClass: NameInlineClass = NameInlineClass("")
    val string: String = ""
&#8203;
    acceptString(nameAlias) // OK: pass alias instead of underlying type
    acceptString(nameInlineClass) // Not OK: can't pass inline class instead of underlying type
&#8203;
    // And vice versa:
    acceptNameTypeAlias(string) // OK: pass underlying type instead of alias
    acceptNameInlineClass(string) // Not OK: can't pass underlying type instead of inline class
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">typealias NameTypeAlias = String
&#8203;
@JvmInline
value class NameInlineClass(val s: String)
&#8203;
fun acceptString(s: String) {}
fun acceptNameTypeAlias(n: NameTypeAlias) {}
fun acceptNameInlineClass(p: NameInlineClass) {}
&#8203;
fun main() {
    val nameAlias: NameTypeAlias = ""
    val nameInlineClass: NameInlineClass = NameInlineClass("")
    val string: String = ""
&#8203;
    acceptString(nameAlias) // OK: pass alias instead of underlying type
    acceptString(nameInlineClass) // Not OK: can't pass inline class instead of underlying type
&#8203;
    // And vice versa:
    acceptNameTypeAlias(string) // OK: pass underlying type instead of alias
    acceptNameInlineClass(string) // Not OK: can't pass underlying type instead of inline class
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Gradle<a class="anchor" href="https://kotlinlang.org/docs/reference/inline-classes.html#gradle" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">kotlin {
    sourceSets.all {
        languageSettings.enableLanguageFeature('InlineClasses')
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">kotlin {
    sourceSets.all {
        languageSettings.enableLanguageFeature('InlineClasses')
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">kotlin {
    sourceSets.all {
        languageSettings.enableLanguageFeature("InlineClasses")
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">kotlin {
    sourceSets.all {
        languageSettings.enableLanguageFeature("InlineClasses")
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Maven<a class="anchor" href="https://kotlinlang.org/docs/reference/inline-classes.html#maven" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">&#60;configuration&#62;
    &#60;args&#62;
        &#60;arg&#62;-Xinline-classes&#60;/arg&#62; 
    &#60;/args&#62;
&#60;/configuration&#62;</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">&#60;configuration&#62;
    &#60;args&#62;
        &#60;arg&#62;-Xinline-classes&#60;/arg&#62; 
    &#60;/args&#62;
&#60;/configuration&#62;</code></pre></td>
            </tr>
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="2_13" style="text-align:center;">Delegation<a class="anchor" href="https://kotlinlang.org/docs/reference/delegation.html#delegation" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Implementation by Delegation<a class="anchor" href="https://kotlinlang.org/docs/reference/delegation.html#implementation-by-delegation" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">interface Base {
    fun print()
}
&#8203;
class BaseImpl(val x: Int) : Base {
    override fun print() { print(x) }
}
&#8203;
class Derived(b: Base) : Base by b
&#8203;
fun main() {
    val b = BaseImpl(10)
    Derived(b).print()
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">interface Base {
    fun print()
}
&#8203;
class BaseImpl(val x: Int) : Base {
    override fun print() { print(x) }
}
&#8203;
class Derived(b: Base) : Base by b
&#8203;
fun main() {
    val b = BaseImpl(10)
    Derived(b).print()
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Overriding a member of an interface implemented by delegation<a class="anchor" href="https://kotlinlang.org/docs/reference/delegation.html#overriding-a-member-of-an-interface-implemented-by-delegation" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">interface Base {
    fun printMessage()
    fun printMessageLine()
}
&#8203;
class BaseImpl(val x: Int) : Base {
    override fun printMessage() { print(x) }
    override fun printMessageLine() { println(x) }
}
&#8203;
class Derived(b: Base) : Base by b {
    override fun printMessage() { print("abc") }
}
&#8203;
fun main() {
    val b = BaseImpl(10)
    Derived(b).printMessage()
    Derived(b).printMessageLine()
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">interface Base {
    fun printMessage()
    fun printMessageLine()
}
&#8203;
class BaseImpl(val x: Int) : Base {
    override fun printMessage() { print(x) }
    override fun printMessageLine() { println(x) }
}
&#8203;
class Derived(b: Base) : Base by b {
    override fun printMessage() { print("abc") }
}
&#8203;
fun main() {
    val b = BaseImpl(10)
    Derived(b).printMessage()
    Derived(b).printMessageLine()
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">interface Base {
    val message: String
    fun print()
}
&#8203;
class BaseImpl(val x: Int) : Base {
    override val message = "BaseImpl: x = $x"
    override fun print() { println(message) }
}
&#8203;
class Derived(b: Base) : Base by b {
    // This property is not accessed from b's implementation of `print`
    override val message = "Message of Derived"
}
&#8203;
fun main() {
    val b = BaseImpl(10)
    val derived = Derived(b)
    derived.print()
    println(derived.message)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">interface Base {
    val message: String
    fun print()
}
&#8203;
class BaseImpl(val x: Int) : Base {
    override val message = "BaseImpl: x = $x"
    override fun print() { println(message) }
}
&#8203;
class Derived(b: Base) : Base by b {
    // This property is not accessed from b's implementation of `print`
    override val message = "Message of Derived"
}
&#8203;
fun main() {
    val b = BaseImpl(10)
    val derived = Derived(b)
    derived.print()
    println(derived.message)
}</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="2_14" style="text-align:center;">Delegated Properties<a class="anchor" href="https://kotlinlang.org/docs/reference/delegated-properties.html#delegated-properties" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Example {
    var p: String by Delegate()
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Example {
    var p: String by Delegate()
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlin.reflect.KProperty
&#8203;
class Delegate {
    operator fun getValue(thisRef: Any?, property: KProperty&#60;*&#62;): String {
        return "$thisRef, thank you for delegating '${property.name}' to me!"
    }
 
    operator fun setValue(thisRef: Any?, property: KProperty&#60;*&#62;, value: String) {
        println("$value has been assigned to '${property.name}' in $thisRef.")
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlin.reflect.KProperty
&#8203;
class Delegate {
    operator fun getValue(thisRef: Any?, property: KProperty&#60;*&#62;): String {
        return "$thisRef, thank you for delegating '${property.name}' to me!"
    }
 
    operator fun setValue(thisRef: Any?, property: KProperty&#60;*&#62;, value: String) {
        println("$value has been assigned to '${property.name}' in $thisRef.")
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val e = Example()
println(e.p)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val e = Example()
println(e.p)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">e.p = "NEW"</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">e.p = "NEW"</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Lazy<a class="anchor" href="https://kotlinlang.org/docs/reference/delegated-properties.html#lazy" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val lazyValue: String by lazy {
    println("computed!")
    "Hello"
}
&#8203;
fun main() {
    println(lazyValue)
    println(lazyValue)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val lazyValue: String by lazy {
    println("computed!")
    "Hello"
}
&#8203;
fun main() {
    println(lazyValue)
    println(lazyValue)
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Observable<a class="anchor" href="https://kotlinlang.org/docs/reference/delegated-properties.html#observable" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlin.properties.Delegates
&#8203;
class User {
    var name: String by Delegates.observable("&#60;no name&#62;") {
        prop, old, new -&#62;
        println("$old -&#62; $new")
    }
}
&#8203;
fun main() {
    val user = User()
    user.name = "first"
    user.name = "second"
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlin.properties.Delegates
&#8203;
class User {
    var name: String by Delegates.observable("&#60;no name&#62;") {
        prop, old, new -&#62;
        println("$old -&#62; $new")
    }
}
&#8203;
fun main() {
    val user = User()
    user.name = "first"
    user.name = "second"
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Delegating to another property<a class="anchor" href="https://kotlinlang.org/docs/reference/delegated-properties.html#delegating-to-another-property" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class MyClass(var memberInt: Int, val anotherClassInstance: ClassWithDelegate) {
    var delegatedToMember: Int by this::memberInt
    var delegatedToTopLevel: Int by ::topLevelInt
    
    val delegatedToAnotherClass: Int by anotherClassInstance::anotherClassInt
}
var MyClass.extDelegated: Int by ::topLevelInt</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class MyClass(var memberInt: Int, val anotherClassInstance: ClassWithDelegate) {
    var delegatedToMember: Int by this::memberInt
    var delegatedToTopLevel: Int by ::topLevelInt
    
    val delegatedToAnotherClass: Int by anotherClassInstance::anotherClassInt
}
var MyClass.extDelegated: Int by ::topLevelInt</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class MyClass {
   var newName: Int = 0
   @Deprecated("Use 'newName' instead", ReplaceWith("newName"))
   var oldName: Int by this::newName
}
&#8203;
fun main() {
   val myClass = MyClass()
   // Notification: 'oldName: Int' is deprecated.
   // Use 'newName' instead
   myClass.oldName = 42
   println(myClass.newName) // 42
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class MyClass {
   var newName: Int = 0
   @Deprecated("Use 'newName' instead", ReplaceWith("newName"))
   var oldName: Int by this::newName
}
&#8203;
fun main() {
   val myClass = MyClass()
   // Notification: 'oldName: Int' is deprecated.
   // Use 'newName' instead
   myClass.oldName = 42
   println(myClass.newName) // 42
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Storing properties in a map<a class="anchor" href="https://kotlinlang.org/docs/reference/delegated-properties.html#storing-properties-in-a-map" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class User(val map: Map&#60;String, Any?&#62;) {
    val name: String by map
    val age: Int     by map
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class User(val map: Map&#60;String, Any?&#62;) {
    val name: String by map
    val age: Int     by map
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val user = User(mapOf(
    "name" to "John Doe",
    "age"  to 25
))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val user = User(mapOf(
    "name" to "John Doe",
    "age"  to 25
))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">println(user.name) // Prints "John Doe"
println(user.age)  // Prints 25</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">println(user.name) // Prints "John Doe"
println(user.age)  // Prints 25</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class MutableUser(val map: MutableMap&#60;String, Any?&#62;) {
    var name: String by map
    var age: Int     by map
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class MutableUser(val map: MutableMap&#60;String, Any?&#62;) {
    var name: String by map
    var age: Int     by map
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Local delegated properties<a class="anchor" href="https://kotlinlang.org/docs/reference/delegated-properties.html#local-delegated-properties" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun example(computeFoo: () -&#62; Foo) {
    val memoizedFoo by lazy(computeFoo)
&#8203;
    if (someCondition &#38;&#38; memoizedFoo.isValid()) {
        memoizedFoo.doSomething()
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun example(computeFoo: () -&#62; Foo) {
    val memoizedFoo by lazy(computeFoo)
&#8203;
    if (someCondition &#38;&#38; memoizedFoo.isValid()) {
        memoizedFoo.doSomething()
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Property delegate requirements<a class="anchor" href="https://kotlinlang.org/docs/reference/delegated-properties.html#property-delegate-requirements" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Resource
&#8203;
class Owner {
    val valResource: Resource by ResourceDelegate()
}
&#8203;
class ResourceDelegate {
    operator fun getValue(thisRef: Owner, property: KProperty&#60;*&#62;): Resource {
        return Resource()
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Resource
&#8203;
class Owner {
    val valResource: Resource by ResourceDelegate()
}
&#8203;
class ResourceDelegate {
    operator fun getValue(thisRef: Owner, property: KProperty&#60;*&#62;): Resource {
        return Resource()
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Resource
&#8203;
class Owner {
    var varResource: Resource by ResourceDelegate()
}
&#8203;
class ResourceDelegate(private var resource: Resource = Resource()) {
    operator fun getValue(thisRef: Owner, property: KProperty&#60;*&#62;): Resource {
        return resource
    }
    operator fun setValue(thisRef: Owner, property: KProperty&#60;*&#62;, value: Any?) {
        if (value is Resource) {
            resource = value
        }
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Resource
&#8203;
class Owner {
    var varResource: Resource by ResourceDelegate()
}
&#8203;
class ResourceDelegate(private var resource: Resource = Resource()) {
    operator fun getValue(thisRef: Owner, property: KProperty&#60;*&#62;): Resource {
        return resource
    }
    operator fun setValue(thisRef: Owner, property: KProperty&#60;*&#62;, value: Any?) {
        if (value is Resource) {
            resource = value
        }
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun resourceDelegate(): ReadWriteProperty&#60;Any?, Int&#62; =
    object : ReadWriteProperty&#60;Any?, Int&#62; {
        var curValue = 0 
        override fun getValue(thisRef: Any?, property: KProperty&#60;*&#62;): Int = curValue
        override fun setValue(thisRef: Any?, property: KProperty&#60;*&#62;, value: Int) {
            curValue = value
        }
    }
&#8203;
val readOnly: Int by resourceDelegate()  // ReadWriteProperty as val
var readWrite: Int by resourceDelegate()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun resourceDelegate(): ReadWriteProperty&#60;Any?, Int&#62; =
    object : ReadWriteProperty&#60;Any?, Int&#62; {
        var curValue = 0 
        override fun getValue(thisRef: Any?, property: KProperty&#60;*&#62;): Int = curValue
        override fun setValue(thisRef: Any?, property: KProperty&#60;*&#62;, value: Int) {
            curValue = value
        }
    }
&#8203;
val readOnly: Int by resourceDelegate()  // ReadWriteProperty as val
var readWrite: Int by resourceDelegate()</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Translation rules<a class="anchor" href="https://kotlinlang.org/docs/reference/delegated-properties.html#translation-rules" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class C {
    var prop: Type by MyDelegate()
}
&#8203;
// this code is generated by the compiler instead:
class C {
    private val prop$delegate = MyDelegate()
    var prop: Type
        get() = prop$delegate.getValue(this, this::prop)
        set(value: Type) = prop$delegate.setValue(this, this::prop, value)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class C {
    var prop: Type by MyDelegate()
}
&#8203;
// this code is generated by the compiler instead:
class C {
    private val prop$delegate = MyDelegate()
    var prop: Type
        get() = prop$delegate.getValue(this, this::prop)
        set(value: Type) = prop$delegate.setValue(this, this::prop, value)
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Providing a delegate<a class="anchor" href="https://kotlinlang.org/docs/reference/delegated-properties.html#providing-a-delegate" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class ResourceDelegate&#60;T&#62; : ReadOnlyProperty&#60;MyUI, T&#62; {
    override fun getValue(thisRef: MyUI, property: KProperty&#60;*&#62;): T { ... }
}
    
class ResourceLoader&#60;T&#62;(id: ResourceID&#60;T&#62;) {
    operator fun provideDelegate(
            thisRef: MyUI,
            prop: KProperty&#60;*&#62;
    ): ReadOnlyProperty&#60;MyUI, T&#62; {
        checkProperty(thisRef, prop.name)
        // create delegate
        return ResourceDelegate()
    }
&#8203;
    private fun checkProperty(thisRef: MyUI, name: String) { ... }
}
&#8203;
class MyUI {
    fun &#60;T&#62; bindResource(id: ResourceID&#60;T&#62;): ResourceLoader&#60;T&#62; { ... }
&#8203;
    val image by bindResource(ResourceID.image_id)
    val text by bindResource(ResourceID.text_id)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class ResourceDelegate&#60;T&#62; : ReadOnlyProperty&#60;MyUI, T&#62; {
    override fun getValue(thisRef: MyUI, property: KProperty&#60;*&#62;): T { ... }
}
    
class ResourceLoader&#60;T&#62;(id: ResourceID&#60;T&#62;) {
    operator fun provideDelegate(
            thisRef: MyUI,
            prop: KProperty&#60;*&#62;
    ): ReadOnlyProperty&#60;MyUI, T&#62; {
        checkProperty(thisRef, prop.name)
        // create delegate
        return ResourceDelegate()
    }
&#8203;
    private fun checkProperty(thisRef: MyUI, name: String) { ... }
}
&#8203;
class MyUI {
    fun &#60;T&#62; bindResource(id: ResourceID&#60;T&#62;): ResourceLoader&#60;T&#62; { ... }
&#8203;
    val image by bindResource(ResourceID.image_id)
    val text by bindResource(ResourceID.text_id)
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Checking the property name without "provideDelegate" functionality
class MyUI {
    val image by bindResource(ResourceID.image_id, "image")
    val text by bindResource(ResourceID.text_id, "text")
}
&#8203;
fun &#60;T&#62; MyUI.bindResource(
        id: ResourceID&#60;T&#62;,
        propertyName: String
): ReadOnlyProperty&#60;MyUI, T&#62; {
   checkProperty(this, propertyName)
   // create delegate
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Checking the property name without "provideDelegate" functionality
class MyUI {
    val image by bindResource(ResourceID.image_id, "image")
    val text by bindResource(ResourceID.text_id, "text")
}
&#8203;
fun &#60;T&#62; MyUI.bindResource(
        id: ResourceID&#60;T&#62;,
        propertyName: String
): ReadOnlyProperty&#60;MyUI, T&#62; {
   checkProperty(this, propertyName)
   // create delegate
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class C {
    var prop: Type by MyDelegate()
}
&#8203;
// this code is generated by the compiler 
// when the 'provideDelegate' function is available:
class C {
    // calling "provideDelegate" to create the additional "delegate" property
    private val prop$delegate = MyDelegate().provideDelegate(this, this::prop)
    var prop: Type
        get() = prop$delegate.getValue(this, this::prop)
        set(value: Type) = prop$delegate.setValue(this, this::prop, value)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class C {
    var prop: Type by MyDelegate()
}
&#8203;
// this code is generated by the compiler 
// when the 'provideDelegate' function is available:
class C {
    // calling "provideDelegate" to create the additional "delegate" property
    private val prop$delegate = MyDelegate().provideDelegate(this, this::prop)
    var prop: Type
        get() = prop$delegate.getValue(this, this::prop)
        set(value: Type) = prop$delegate.setValue(this, this::prop, value)
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val provider = PropertyDelegateProvider { thisRef: Any?, property -&#62;
    ReadOnlyProperty&#60;Any?, Int&#62; {_, property -&#62; 42 }
}
&#8203;
val delegate: Int by provider</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val provider = PropertyDelegateProvider { thisRef: Any?, property -&#62;
    ReadOnlyProperty&#60;Any?, Int&#62; {_, property -&#62; 42 }
}
&#8203;
val delegate: Int by provider</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="3_0" style="text-align:center;">Higher-Order Functions and Lambdas<a class="anchor" href="https://kotlinlang.org/docs/reference/lambdas.html#higher-order-functions-and-lambdas" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Higher-Order Functions<a class="anchor" href="https://kotlinlang.org/docs/reference/lambdas.html#higher-order-functions" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun &#60;T, R&#62; Collection&#60;T&#62;.fold(
    initial: R, 
    combine: (acc: R, nextElement: T) -&#62; R
): R {
    var accumulator: R = initial
    for (element: T in this) {
        accumulator = combine(accumulator, element)
    }
    return accumulator
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun &#60;T, R&#62; Collection&#60;T&#62;.fold(
    initial: R, 
    combine: (acc: R, nextElement: T) -&#62; R
): R {
    var accumulator: R = initial
    for (element: T in this) {
        accumulator = combine(accumulator, element)
    }
    return accumulator
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val items = listOf(1, 2, 3, 4, 5)
&#8203;
// Lambdas are code blocks enclosed in curly braces.
items.fold(0, { 
    // When a lambda has parameters, they go first, followed by '-&#62;'
    acc: Int, i: Int -&#62; 
    print("acc = $acc, i = $i, ") 
    val result = acc + i
    println("result = $result")
    // The last expression in a lambda is considered the return value:
    result
})
&#8203;
// Parameter types in a lambda are optional if they can be inferred:
val joinedToString = items.fold("Elements:", { acc, i -&#62; acc + " " + i })
&#8203;
// Function references can also be used for higher-order function calls:
val product = items.fold(1, Int::times)
&#8203;</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val items = listOf(1, 2, 3, 4, 5)
&#8203;
// Lambdas are code blocks enclosed in curly braces.
items.fold(0, { 
    // When a lambda has parameters, they go first, followed by '-&#62;'
    acc: Int, i: Int -&#62; 
    print("acc = $acc, i = $i, ") 
    val result = acc + i
    println("result = $result")
    // The last expression in a lambda is considered the return value:
    result
})
&#8203;
// Parameter types in a lambda are optional if they can be inferred:
val joinedToString = items.fold("Elements:", { acc, i -&#62; acc + " " + i })
&#8203;
// Function references can also be used for higher-order function calls:
val product = items.fold(1, Int::times)
&#8203;</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Function types<a class="anchor" href="https://kotlinlang.org/docs/reference/lambdas.html#function-types" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">typealias ClickHandler = (Button, ClickEvent) -&#62; Unit</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">typealias ClickHandler = (Button, ClickEvent) -&#62; Unit</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Instantiating a function type<a class="anchor" href="https://kotlinlang.org/docs/reference/lambdas.html#instantiating-a-function-type" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class IntTransformer: (Int) -&#62; Int {
    override operator fun invoke(x: Int): Int = TODO()
}
&#8203;
val intFunction: (Int) -&#62; Int = IntTransformer()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class IntTransformer: (Int) -&#62; Int {
    override operator fun invoke(x: Int): Int = TODO()
}
&#8203;
val intFunction: (Int) -&#62; Int = IntTransformer()</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val a = { i: Int -&#62; i + 1 } // The inferred type is (Int) -&#62; Int</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val a = { i: Int -&#62; i + 1 } // The inferred type is (Int) -&#62; Int</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val repeatFun: String.(Int) -&#62; String = { times -&#62; this.repeat(times) }
val twoParameters: (String, Int) -&#62; String = repeatFun // OK
&#8203;
fun runTransformation(f: (String, Int) -&#62; String): String {
    return f("hello", 3)
}
val result = runTransformation(repeatFun) // OK
&#8203;</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val repeatFun: String.(Int) -&#62; String = { times -&#62; this.repeat(times) }
val twoParameters: (String, Int) -&#62; String = repeatFun // OK
&#8203;
fun runTransformation(f: (String, Int) -&#62; String): String {
    return f("hello", 3)
}
val result = runTransformation(repeatFun) // OK
&#8203;</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Invoking a function type instance<a class="anchor" href="https://kotlinlang.org/docs/reference/lambdas.html#invoking-a-function-type-instance" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val stringPlus: (String, String) -&#62; String = String::plus
val intPlus: Int.(Int) -&#62; Int = Int::plus
&#8203;
println(stringPlus.invoke("&#60;-", "-&#62;"))
println(stringPlus("Hello, ", "world!")) 
&#8203;
println(intPlus.invoke(1, 1))
println(intPlus(1, 2))
println(2.intPlus(3)) // extension-like call
&#8203;</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val stringPlus: (String, String) -&#62; String = String::plus
val intPlus: Int.(Int) -&#62; Int = Int::plus
&#8203;
println(stringPlus.invoke("&#60;-", "-&#62;"))
println(stringPlus("Hello, ", "world!")) 
&#8203;
println(intPlus.invoke(1, 1))
println(intPlus(1, 2))
println(2.intPlus(3)) // extension-like call
&#8203;</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Lambda Expressions and Anonymous Functions<a class="anchor" href="https://kotlinlang.org/docs/reference/lambdas.html#lambda-expressions-and-anonymous-functions" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">max(strings, { a, b -&#62; a.length &#60; b.length })</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">max(strings, { a, b -&#62; a.length &#60; b.length })</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun compare(a: String, b: String): Boolean = a.length &#60; b.length</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun compare(a: String, b: String): Boolean = a.length &#60; b.length</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Lambda expression syntax<a class="anchor" href="https://kotlinlang.org/docs/reference/lambdas.html#lambda-expression-syntax" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val sum: (Int, Int) -&#62; Int = { x: Int, y: Int -&#62; x + y }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val sum: (Int, Int) -&#62; Int = { x: Int, y: Int -&#62; x + y }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val sum = { x: Int, y: Int -&#62; x + y }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val sum = { x: Int, y: Int -&#62; x + y }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Passing trailing lambdas<a class="anchor" href="https://kotlinlang.org/docs/reference/lambdas.html#passing-a-lambda-to-the-last-parameter" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val product = items.fold(1) { acc, e -&#62; acc * e }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val product = items.fold(1) { acc, e -&#62; acc * e }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">run { println("...") }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">run { println("...") }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>it: implicit name of a single parameter<a class="anchor" href="https://kotlinlang.org/docs/reference/lambdas.html#it-implicit-name-of-a-single-parameter" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">ints.filter { it &#62; 0 } // this literal is of type '(it: Int) -&#62; Boolean'</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">ints.filter { it &#62; 0 } // this literal is of type '(it: Int) -&#62; Boolean'</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Returning a value from a lambda expression<a class="anchor" href="https://kotlinlang.org/docs/reference/lambdas.html#returning-a-value-from-a-lambda-expression" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">ints.filter {
    val shouldFilter = it &#62; 0 
    shouldFilter
}
&#8203;
ints.filter {
    val shouldFilter = it &#62; 0 
    return@filter shouldFilter
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">ints.filter {
    val shouldFilter = it &#62; 0 
    shouldFilter
}
&#8203;
ints.filter {
    val shouldFilter = it &#62; 0 
    return@filter shouldFilter
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">strings.filter { it.length == 5 }.sortedBy { it }.map { it.toUpperCase() }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">strings.filter { it.length == 5 }.sortedBy { it }.map { it.toUpperCase() }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Underscore for unused variables (since 1.1)<a class="anchor" href="https://kotlinlang.org/docs/reference/lambdas.html#underscore-for-unused-variables-since-11" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">map.forEach { _, value -&#62; println("$value!") }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">map.forEach { _, value -&#62; println("$value!") }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Anonymous functions<a class="anchor" href="https://kotlinlang.org/docs/reference/lambdas.html#anonymous-functions" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun(x: Int, y: Int): Int = x + y</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun(x: Int, y: Int): Int = x + y</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun(x: Int, y: Int): Int {
    return x + y
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun(x: Int, y: Int): Int {
    return x + y
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">ints.filter(fun(item) = item &#62; 0)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">ints.filter(fun(item) = item &#62; 0)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Closures<a class="anchor" href="https://kotlinlang.org/docs/reference/lambdas.html#closures" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">var sum = 0
ints.filter { it &#62; 0 }.forEach {
    sum += it
}
print(sum)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">var sum = 0
ints.filter { it &#62; 0 }.forEach {
    sum += it
}
print(sum)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Function literals with receiver<a class="anchor" href="https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val sum: Int.(Int) -&#62; Int = { other -&#62; plus(other) }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val sum: Int.(Int) -&#62; Int = { other -&#62; plus(other) }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val sum = fun Int.(other: Int): Int = this + other</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val sum = fun Int.(other: Int): Int = this + other</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class HTML {
    fun body() { ... }
}
&#8203;
fun html(init: HTML.() -&#62; Unit): HTML {
    val html = HTML()  // create the receiver object
    html.init()        // pass the receiver object to the lambda
    return html
}
&#8203;
html {       // lambda with receiver begins here
    body()   // calling a method on the receiver object
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class HTML {
    fun body() { ... }
}
&#8203;
fun html(init: HTML.() -&#62; Unit): HTML {
    val html = HTML()  // create the receiver object
    html.init()        // pass the receiver object to the lambda
    return html
}
&#8203;
html {       // lambda with receiver begins here
    body()   // calling a method on the receiver object
}</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="3_1" style="text-align:center;">Inline Functions<a class="anchor" href="https://kotlinlang.org/docs/reference/inline-functions.html#inline-functions" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">lock(l) { foo() }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">lock(l) { foo() }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">l.lock()
try {
    foo()
}
finally {
    l.unlock()
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">l.lock()
try {
    foo()
}
finally {
    l.unlock()
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">inline fun &#60;T&#62; lock(lock: Lock, body: () -&#62; T): T { ... }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">inline fun &#60;T&#62; lock(lock: Lock, body: () -&#62; T): T { ... }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>noinline<a class="anchor" href="https://kotlinlang.org/docs/reference/inline-functions.html#noinline" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">inline fun foo(inlined: () -&#62; Unit, noinline notInlined: () -&#62; Unit) { ... }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">inline fun foo(inlined: () -&#62; Unit, noinline notInlined: () -&#62; Unit) { ... }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Non-local returns<a class="anchor" href="https://kotlinlang.org/docs/reference/inline-functions.html#non-local-returns" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun foo() {
    ordinaryFunction {
        return // ERROR: cannot make `foo` return here
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun foo() {
    ordinaryFunction {
        return // ERROR: cannot make `foo` return here
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun foo() {
    inlined {
        return // OK: the lambda is inlined
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun foo() {
    inlined {
        return // OK: the lambda is inlined
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun hasZeros(ints: List&#60;Int&#62;): Boolean {
    ints.forEach {
        if (it == 0) return true // returns from hasZeros
    }
    return false
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun hasZeros(ints: List&#60;Int&#62;): Boolean {
    ints.forEach {
        if (it == 0) return true // returns from hasZeros
    }
    return false
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">inline fun f(crossinline body: () -&#62; Unit) {
    val f = object: Runnable {
        override fun run() = body()
    }
    // ...
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">inline fun f(crossinline body: () -&#62; Unit) {
    val f = object: Runnable {
        override fun run() = body()
    }
    // ...
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Reified type parameters<a class="anchor" href="https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun &#60;T&#62; TreeNode.findParentOfType(clazz: Class&#60;T&#62;): T? {
    var p = parent
    while (p != null &#38;&#38; !clazz.isInstance(p)) {
        p = p.parent
    }
    @Suppress("UNCHECKED_CAST")
    return p as T?
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun &#60;T&#62; TreeNode.findParentOfType(clazz: Class&#60;T&#62;): T? {
    var p = parent
    while (p != null &#38;&#38; !clazz.isInstance(p)) {
        p = p.parent
    }
    @Suppress("UNCHECKED_CAST")
    return p as T?
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">treeNode.findParentOfType(MyTreeNode::class.java)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">treeNode.findParentOfType(MyTreeNode::class.java)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">treeNode.findParentOfType&#60;MyTreeNode&#62;()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">treeNode.findParentOfType&#60;MyTreeNode&#62;()</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">inline fun &#60;reified T&#62; TreeNode.findParentOfType(): T? {
    var p = parent
    while (p != null &#38;&#38; p !is T) {
        p = p.parent
    }
    return p as T?
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">inline fun &#60;reified T&#62; TreeNode.findParentOfType(): T? {
    var p = parent
    while (p != null &#38;&#38; p !is T) {
        p = p.parent
    }
    return p as T?
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">inline fun &#60;reified T&#62; membersOf() = T::class.members
&#8203;
fun main(s: Array&#60;String&#62;) {
    println(membersOf&#60;StringBuilder&#62;().joinToString("\n"))
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">inline fun &#60;reified T&#62; membersOf() = T::class.members
&#8203;
fun main(s: Array&#60;String&#62;) {
    println(membersOf&#60;StringBuilder&#62;().joinToString("\n"))
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Inline properties (since 1.1)<a class="anchor" href="https://kotlinlang.org/docs/reference/inline-functions.html#inline-properties" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val foo: Foo
    inline get() = Foo()
&#8203;
var bar: Bar
    get() = ...
    inline set(v) { ... }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val foo: Foo
    inline get() = Foo()
&#8203;
var bar: Bar
    get() = ...
    inline set(v) { ... }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">inline var bar: Bar
    get() = ...
    set(v) { ... }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">inline var bar: Bar
    get() = ...
    set(v) { ... }</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_0" style="text-align:center;">Kotlin Collections Overview<a class="anchor" href="https://kotlinlang.org/docs/reference/collections-overview.html#kotlin-collections-overview" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Collection types<a class="anchor" href="https://kotlinlang.org/docs/reference/collections-overview.html#collection-types" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "two", "three", "four")
numbers.add("five")   // this is OK    
//numbers = mutableListOf("six", "seven")      // compilation error</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "two", "three", "four")
numbers.add("five")   // this is OK    
//numbers = mutableListOf("six", "seven")      // compilation error</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Collection<a class="anchor" href="https://kotlinlang.org/docs/reference/collections-overview.html#collection" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun printAll(strings: Collection&#60;String&#62;) {
        for(s in strings) print("$s ")
        println()
    }
    
fun main() {
    val stringList = listOf("one", "two", "one")
    printAll(stringList)
    
    val stringSet = setOf("one", "two", "three")
    printAll(stringSet)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun printAll(strings: Collection&#60;String&#62;) {
        for(s in strings) print("$s ")
        println()
    }
    
fun main() {
    val stringList = listOf("one", "two", "one")
    printAll(stringList)
    
    val stringSet = setOf("one", "two", "three")
    printAll(stringSet)
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun List&#60;String&#62;.getShortWordsTo(shortWords: MutableList&#60;String&#62;, maxLength: Int) {
    this.filterTo(shortWords) { it.length &#60;= maxLength }
    // throwing away the articles
    val articles = setOf("a", "A", "an", "An", "the", "The")
    shortWords -= articles
}
&#8203;
fun main() {
    val words = "A long time ago in a galaxy far far away".split(" ")
    val shortWords = mutableListOf&#60;String&#62;()
    words.getShortWordsTo(shortWords, 3)
    println(shortWords)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun List&#60;String&#62;.getShortWordsTo(shortWords: MutableList&#60;String&#62;, maxLength: Int) {
    this.filterTo(shortWords) { it.length &#60;= maxLength }
    // throwing away the articles
    val articles = setOf("a", "A", "an", "An", "the", "The")
    shortWords -= articles
}
&#8203;
fun main() {
    val words = "A long time ago in a galaxy far far away".split(" ")
    val shortWords = mutableListOf&#60;String&#62;()
    words.getShortWordsTo(shortWords, 3)
    println(shortWords)
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>List<a class="anchor" href="https://kotlinlang.org/docs/reference/collections-overview.html#list" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
println("Number of elements: ${numbers.size}")
println("Third element: ${numbers.get(2)}")
println("Fourth element: ${numbers[3]}")
println("Index of element \"two\" ${numbers.indexOf("two")}")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
println("Number of elements: ${numbers.size}")
println("Third element: ${numbers.get(2)}")
println("Fourth element: ${numbers[3]}")
println("Index of element \"two\" ${numbers.indexOf("two")}")</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val bob = Person("Bob", 31)
val people = listOf(Person("Adam", 20), bob, bob)
val people2 = listOf(Person("Adam", 20), Person("Bob", 31), bob)
println(people == people2)
bob.age = 32
println(people == people2)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val bob = Person("Bob", 31)
val people = listOf(Person("Adam", 20), bob, bob)
val people2 = listOf(Person("Adam", 20), Person("Bob", 31), bob)
println(people == people2)
bob.age = 32
println(people == people2)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf(1, 2, 3, 4)
numbers.add(5)
numbers.removeAt(1)
numbers[0] = 0
numbers.shuffle()
println(numbers)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf(1, 2, 3, 4)
numbers.add(5)
numbers.removeAt(1)
numbers[0] = 0
numbers.shuffle()
println(numbers)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Set<a class="anchor" href="https://kotlinlang.org/docs/reference/collections-overview.html#set" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = setOf(1, 2, 3, 4)
println("Number of elements: ${numbers.size}")
if (numbers.contains(1)) println("1 is in the set")
&#8203;
val numbersBackwards = setOf(4, 3, 2, 1)
println("The sets are equal: ${numbers == numbersBackwards}")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = setOf(1, 2, 3, 4)
println("Number of elements: ${numbers.size}")
if (numbers.contains(1)) println("1 is in the set")
&#8203;
val numbersBackwards = setOf(4, 3, 2, 1)
println("The sets are equal: ${numbers == numbersBackwards}")</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = setOf(1, 2, 3, 4)  // LinkedHashSet is the default implementation
val numbersBackwards = setOf(4, 3, 2, 1)
&#8203;
println(numbers.first() == numbersBackwards.first())
println(numbers.first() == numbersBackwards.last())</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = setOf(1, 2, 3, 4)  // LinkedHashSet is the default implementation
val numbersBackwards = setOf(4, 3, 2, 1)
&#8203;
println(numbers.first() == numbersBackwards.first())
println(numbers.first() == numbersBackwards.last())</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Map<a class="anchor" href="https://kotlinlang.org/docs/reference/collections-overview.html#map" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key4" to 1)
&#8203;
println("All keys: ${numbersMap.keys}")
println("All values: ${numbersMap.values}")
if ("key2" in numbersMap) println("Value by key \"key2\": ${numbersMap["key2"]}")    
if (1 in numbersMap.values) println("The value 1 is in the map")
if (numbersMap.containsValue(1)) println("The value 1 is in the map") // same as previous</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key4" to 1)
&#8203;
println("All keys: ${numbersMap.keys}")
println("All values: ${numbersMap.values}")
if ("key2" in numbersMap) println("Value by key \"key2\": ${numbersMap["key2"]}")    
if (1 in numbersMap.values) println("The value 1 is in the map")
if (numbersMap.containsValue(1)) println("The value 1 is in the map") // same as previous</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key4" to 1)    
val anotherMap = mapOf("key2" to 2, "key1" to 1, "key4" to 1, "key3" to 3)
&#8203;
println("The maps are equal: ${numbersMap == anotherMap}")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key4" to 1)    
val anotherMap = mapOf("key2" to 2, "key1" to 1, "key4" to 1, "key3" to 3)
&#8203;
println("The maps are equal: ${numbersMap == anotherMap}")</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mutableMapOf("one" to 1, "two" to 2)
numbersMap.put("three", 3)
numbersMap["one"] = 11
&#8203;
println(numbersMap)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mutableMapOf("one" to 1, "two" to 2)
numbersMap.put("three", 3)
numbersMap["one"] = 11
&#8203;
println(numbersMap)</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_1" style="text-align:center;">Constructing Collections<a class="anchor" href="https://kotlinlang.org/docs/reference/constructing-collections.html#constructing-collections" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Constructing from elements<a class="anchor" href="https://kotlinlang.org/docs/reference/constructing-collections.html#constructing-from-elements" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersSet = setOf("one", "two", "three", "four")
val emptySet = mutableSetOf&#60;String&#62;()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersSet = setOf("one", "two", "three", "four")
val emptySet = mutableSetOf&#60;String&#62;()</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key4" to 1)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key4" to 1)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mutableMapOf&#60;String, String&#62;().apply { this["one"] = "1"; this["two"] = "2" }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mutableMapOf&#60;String, String&#62;().apply { this["one"] = "1"; this["two"] = "2" }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Empty collections<a class="anchor" href="https://kotlinlang.org/docs/reference/constructing-collections.html#empty-collections" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val empty = emptyList&#60;String&#62;()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val empty = emptyList&#60;String&#62;()</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Initializer functions for lists<a class="anchor" href="https://kotlinlang.org/docs/reference/constructing-collections.html#initializer-functions-for-lists" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val doubled = List(3, { it * 2 })  // or MutableList if you want to change its content later
println(doubled)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val doubled = List(3, { it * 2 })  // or MutableList if you want to change its content later
println(doubled)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Concrete type constructors<a class="anchor" href="https://kotlinlang.org/docs/reference/constructing-collections.html#concrete-type-constructors" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val linkedList = LinkedList&#60;String&#62;(listOf("one", "two", "three"))
val presizedSet = HashSet&#60;Int&#62;(32)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val linkedList = LinkedList&#60;String&#62;(listOf("one", "two", "three"))
val presizedSet = HashSet&#60;Int&#62;(32)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Copying<a class="anchor" href="https://kotlinlang.org/docs/reference/constructing-collections.html#copying" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val sourceList = mutableListOf(1, 2, 3)
val copyList = sourceList.toMutableList()
val readOnlyCopyList = sourceList.toList()
sourceList.add(4)
println("Copy size: ${copyList.size}")   
&#8203;
//readOnlyCopyList.add(4)             // compilation error
println("Read-only copy size: ${readOnlyCopyList.size}")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val sourceList = mutableListOf(1, 2, 3)
val copyList = sourceList.toMutableList()
val readOnlyCopyList = sourceList.toList()
sourceList.add(4)
println("Copy size: ${copyList.size}")   
&#8203;
//readOnlyCopyList.add(4)             // compilation error
println("Read-only copy size: ${readOnlyCopyList.size}")</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val sourceList = mutableListOf(1, 2, 3)    
val copySet = sourceList.toMutableSet()
copySet.add(3)
copySet.add(4)    
println(copySet)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val sourceList = mutableListOf(1, 2, 3)    
val copySet = sourceList.toMutableSet()
copySet.add(3)
copySet.add(4)    
println(copySet)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val sourceList = mutableListOf(1, 2, 3)
val referenceList = sourceList
referenceList.add(4)
println("Source size: ${sourceList.size}")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val sourceList = mutableListOf(1, 2, 3)
val referenceList = sourceList
referenceList.add(4)
println("Source size: ${sourceList.size}")</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">&#8203;
val sourceList = mutableListOf(1, 2, 3)
val referenceList: List&#60;Int&#62; = sourceList
//referenceList.add(4)            //compilation error
sourceList.add(4)
println(referenceList) // shows the current state of sourceList</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">&#8203;
val sourceList = mutableListOf(1, 2, 3)
val referenceList: List&#60;Int&#62; = sourceList
//referenceList.add(4)            //compilation error
sourceList.add(4)
println(referenceList) // shows the current state of sourceList</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Invoking functions on other collections<a class="anchor" href="https://kotlinlang.org/docs/reference/constructing-collections.html#invoking-functions-on-other-collections" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">&#8203;
val numbers = listOf("one", "two", "three", "four")  
val longerThan3 = numbers.filter { it.length &#62; 3 }
println(longerThan3)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">&#8203;
val numbers = listOf("one", "two", "three", "four")  
val longerThan3 = numbers.filter { it.length &#62; 3 }
println(longerThan3)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">&#8203;
val numbers = setOf(1, 2, 3)
println(numbers.map { it * 3 })
println(numbers.mapIndexed { idx, value -&#62; value * idx })</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">&#8203;
val numbers = setOf(1, 2, 3)
println(numbers.map { it * 3 })
println(numbers.mapIndexed { idx, value -&#62; value * idx })</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
println(numbers.associateWith { it.length })</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
println(numbers.associateWith { it.length })</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_2" style="text-align:center;">Iterators<a class="anchor" href="https://kotlinlang.org/docs/reference/iterators.html#iterators" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
val numbersIterator = numbers.iterator()
while (numbersIterator.hasNext()) {
    println(numbersIterator.next())
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
val numbersIterator = numbers.iterator()
while (numbersIterator.hasNext()) {
    println(numbersIterator.next())
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
for (item in numbers) {
    println(item)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
for (item in numbers) {
    println(item)
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
numbers.forEach {
    println(it)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
numbers.forEach {
    println(it)
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>List iterators<a class="anchor" href="https://kotlinlang.org/docs/reference/iterators.html#list-iterators" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
val listIterator = numbers.listIterator()
while (listIterator.hasNext()) listIterator.next()
println("Iterating backwards:")
while (listIterator.hasPrevious()) {
    print("Index: ${listIterator.previousIndex()}")
    println(", value: ${listIterator.previous()}")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
val listIterator = numbers.listIterator()
while (listIterator.hasNext()) listIterator.next()
println("Iterating backwards:")
while (listIterator.hasPrevious()) {
    print("Index: ${listIterator.previousIndex()}")
    println(", value: ${listIterator.previous()}")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Mutable iterators<a class="anchor" href="https://kotlinlang.org/docs/reference/iterators.html#mutable-iterators" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "two", "three", "four") 
val mutableIterator = numbers.iterator()
&#8203;
mutableIterator.next()
mutableIterator.remove()    
println("After removal: $numbers")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "two", "three", "four") 
val mutableIterator = numbers.iterator()
&#8203;
mutableIterator.next()
mutableIterator.remove()    
println("After removal: $numbers")</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "four", "four") 
val mutableListIterator = numbers.listIterator()
&#8203;
mutableListIterator.next()
mutableListIterator.add("two")
mutableListIterator.next()
mutableListIterator.set("three")   
println(numbers)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "four", "four") 
val mutableListIterator = numbers.listIterator()
&#8203;
mutableListIterator.next()
mutableListIterator.add("two")
mutableListIterator.next()
mutableListIterator.set("three")   
println(numbers)</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_3" style="text-align:center;">Ranges and Progressions<a class="anchor" href="https://kotlinlang.org/docs/reference/ranges.html#ranges-and-progressions" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">if (i in 1..4) {  // equivalent of 1 &#60;= i &#38;&#38; i &#60;= 4
    print(i)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">if (i in 1..4) {  // equivalent of 1 &#60;= i &#38;&#38; i &#60;= 4
    print(i)
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (i in 1..4) print(i)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (i in 1..4) print(i)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (i in 4 downTo 1) print(i)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (i in 4 downTo 1) print(i)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (i in 1..8 step 2) print(i)
println()
for (i in 8 downTo 1 step 2) print(i)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (i in 1..8 step 2) print(i)
println()
for (i in 8 downTo 1 step 2) print(i)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (i in 1 until 10) {       // i in [1, 10), 10 is excluded
    print(i)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (i in 1 until 10) {       // i in [1, 10), 10 is excluded
    print(i)
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Range<a class="anchor" href="https://kotlinlang.org/docs/reference/ranges.html#range" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val versionRange = Version(1, 11)..Version(1, 30)
println(Version(0, 9) in versionRange)
println(Version(1, 20) in versionRange)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val versionRange = Version(1, 11)..Version(1, 30)
println(Version(0, 9) in versionRange)
println(Version(1, 20) in versionRange)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Progression<a class="anchor" href="https://kotlinlang.org/docs/reference/ranges.html#progression" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (int i = first; i &#60;= last; i += step) {
  // ...
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (int i = first; i &#60;= last; i += step) {
  // ...
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (i in 1..10) print(i)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (i in 1..10) print(i)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (i in 1..8 step 2) print(i)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (i in 1..8 step 2) print(i)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (i in 1..9 step 3) print(i) // the last element is 7</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (i in 1..9 step 3) print(i) // the last element is 7</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for (i in 4 downTo 1) print(i)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for (i in 4 downTo 1) print(i)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">println((1..10).filter { it % 2 == 0 })</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">println((1..10).filter { it % 2 == 0 })</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_4" style="text-align:center;">Sequences<a class="anchor" href="https://kotlinlang.org/docs/reference/sequences.html#sequences" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>From elements<a class="anchor" href="https://kotlinlang.org/docs/reference/sequences.html#from-elements" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersSequence = sequenceOf("four", "three", "two", "one")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersSequence = sequenceOf("four", "three", "two", "one")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>From Iterable<a class="anchor" href="https://kotlinlang.org/docs/reference/sequences.html#from-iterable" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
val numbersSequence = numbers.asSequence()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
val numbersSequence = numbers.asSequence()</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>From function<a class="anchor" href="https://kotlinlang.org/docs/reference/sequences.html#from-function" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val oddNumbers = generateSequence(1) { it + 2 } // `it` is the previous element
println(oddNumbers.take(5).toList())
//println(oddNumbers.count())     // error: the sequence is infinite</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val oddNumbers = generateSequence(1) { it + 2 } // `it` is the previous element
println(oddNumbers.take(5).toList())
//println(oddNumbers.count())     // error: the sequence is infinite</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val oddNumbersLessThan10 = generateSequence(1) { if (it + 2 &#60; 10) it + 2 else null }
println(oddNumbersLessThan10.count())</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val oddNumbersLessThan10 = generateSequence(1) { if (it + 2 &#60; 10) it + 2 else null }
println(oddNumbersLessThan10.count())</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>From chunks<a class="anchor" href="https://kotlinlang.org/docs/reference/sequences.html#from-chunks" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val oddNumbers = sequence {
    yield(1)
    yieldAll(listOf(3, 5))
    yieldAll(generateSequence(7) { it + 2 })
}
println(oddNumbers.take(5).toList())</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val oddNumbers = sequence {
    yield(1)
    yieldAll(listOf(3, 5))
    yieldAll(generateSequence(7) { it + 2 })
}
println(oddNumbers.take(5).toList())</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Iterable<a class="anchor" href="https://kotlinlang.org/docs/reference/sequences.html#iterable" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val words = "The quick brown fox jumps over the lazy dog".split(" ")
val lengthsList = words.filter { println("filter: $it"); it.length &#62; 3 }
    .map { println("length: ${it.length}"); it.length }
    .take(4)
&#8203;
println("Lengths of first 4 words longer than 3 chars:")
println(lengthsList)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val words = "The quick brown fox jumps over the lazy dog".split(" ")
val lengthsList = words.filter { println("filter: $it"); it.length &#62; 3 }
    .map { println("length: ${it.length}"); it.length }
    .take(4)
&#8203;
println("Lengths of first 4 words longer than 3 chars:")
println(lengthsList)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Sequence<a class="anchor" href="https://kotlinlang.org/docs/reference/sequences.html#sequence" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val words = "The quick brown fox jumps over the lazy dog".split(" ")
//convert the List to a Sequence
val wordsSequence = words.asSequence()
&#8203;
val lengthsSequence = wordsSequence.filter { println("filter: $it"); it.length &#62; 3 }
    .map { println("length: ${it.length}"); it.length }
    .take(4)
&#8203;
println("Lengths of first 4 words longer than 3 chars")
// terminal operation: obtaining the result as a List
println(lengthsSequence.toList())</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val words = "The quick brown fox jumps over the lazy dog".split(" ")
//convert the List to a Sequence
val wordsSequence = words.asSequence()
&#8203;
val lengthsSequence = wordsSequence.filter { println("filter: $it"); it.length &#62; 3 }
    .map { println("length: ${it.length}"); it.length }
    .take(4)
&#8203;
println("Lengths of first 4 words longer than 3 chars")
// terminal operation: obtaining the result as a List
println(lengthsSequence.toList())</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_5" style="text-align:center;">Collection Operations Overview<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-operations.html#collection-operations-overview" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Common operations<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-operations.html#common-operations" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")  
numbers.filter { it.length &#62; 3 }  // nothing happens with `numbers`, result is lost
println("numbers are still $numbers")
val longerThan3 = numbers.filter { it.length &#62; 3 } // result is stored in `longerThan3`
println("numbers longer than 3 chars are $longerThan3")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")  
numbers.filter { it.length &#62; 3 }  // nothing happens with `numbers`, result is lost
println("numbers are still $numbers")
val longerThan3 = numbers.filter { it.length &#62; 3 } // result is stored in `longerThan3`
println("numbers longer than 3 chars are $longerThan3")</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
val filterResults = mutableListOf&#60;String&#62;()  //destination object
numbers.filterTo(filterResults) { it.length &#62; 3 }
numbers.filterIndexedTo(filterResults) { index, _ -&#62; index == 0 }
println(filterResults) // contains results of both operations</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
val filterResults = mutableListOf&#60;String&#62;()  //destination object
numbers.filterTo(filterResults) { it.length &#62; 3 }
numbers.filterIndexedTo(filterResults) { index, _ -&#62; index == 0 }
println(filterResults) // contains results of both operations</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// filter numbers right into a new hash set, 
// thus eliminating duplicates in the result
val result = numbers.mapTo(HashSet()) { it.length }
println("distinct item lengths are $result")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// filter numbers right into a new hash set, 
// thus eliminating duplicates in the result
val result = numbers.mapTo(HashSet()) { it.length }
println("distinct item lengths are $result")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Write operations<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-operations.html#write-operations" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "two", "three", "four")
val sortedNumbers = numbers.sorted()
println(numbers == sortedNumbers)  // false
numbers.sort()
println(numbers == sortedNumbers)  // true</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "two", "three", "four")
val sortedNumbers = numbers.sorted()
println(numbers == sortedNumbers)  // false
numbers.sort()
println(numbers == sortedNumbers)  // true</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_6" style="text-align:center;">Collection Transformations<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-transformations.html#collection-transformations" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Mapping<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-transformations.html#mapping" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = setOf(1, 2, 3)
println(numbers.map { it * 3 })
println(numbers.mapIndexed { idx, value -&#62; value * idx })</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = setOf(1, 2, 3)
println(numbers.map { it * 3 })
println(numbers.mapIndexed { idx, value -&#62; value * idx })</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = setOf(1, 2, 3)
println(numbers.mapNotNull { if ( it == 2) null else it * 3 })
println(numbers.mapIndexedNotNull { idx, value -&#62; if (idx == 0) null else value * idx })</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = setOf(1, 2, 3)
println(numbers.mapNotNull { if ( it == 2) null else it * 3 })
println(numbers.mapIndexedNotNull { idx, value -&#62; if (idx == 0) null else value * idx })</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key11" to 11)
println(numbersMap.mapKeys { it.key.toUpperCase() })
println(numbersMap.mapValues { it.value + it.key.length })</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key11" to 11)
println(numbersMap.mapKeys { it.key.toUpperCase() })
println(numbersMap.mapValues { it.value + it.key.length })</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Zipping<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-transformations.html#zipping" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val colors = listOf("red", "brown", "grey")
val animals = listOf("fox", "bear", "wolf")
println(colors zip animals)
&#8203;
val twoAnimals = listOf("fox", "bear")
println(colors.zip(twoAnimals))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val colors = listOf("red", "brown", "grey")
val animals = listOf("fox", "bear", "wolf")
println(colors zip animals)
&#8203;
val twoAnimals = listOf("fox", "bear")
println(colors.zip(twoAnimals))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val colors = listOf("red", "brown", "grey")
val animals = listOf("fox", "bear", "wolf")
&#8203;
println(colors.zip(animals) { color, animal -&#62; "The ${animal.capitalize()} is $color"})</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val colors = listOf("red", "brown", "grey")
val animals = listOf("fox", "bear", "wolf")
&#8203;
println(colors.zip(animals) { color, animal -&#62; "The ${animal.capitalize()} is $color"})</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numberPairs = listOf("one" to 1, "two" to 2, "three" to 3, "four" to 4)
println(numberPairs.unzip())</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numberPairs = listOf("one" to 1, "two" to 2, "three" to 3, "four" to 4)
println(numberPairs.unzip())</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Association<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-transformations.html#association" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
println(numbers.associateWith { it.length })</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
println(numbers.associateWith { it.length })</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
&#8203;
println(numbers.associateBy { it.first().toUpperCase() })
println(numbers.associateBy(keySelector = { it.first().toUpperCase() }, valueTransform = { it.length }))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
&#8203;
println(numbers.associateBy { it.first().toUpperCase() })
println(numbers.associateBy(keySelector = { it.first().toUpperCase() }, valueTransform = { it.length }))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val names = listOf("Alice Adams", "Brian Brown", "Clara Campbell")
println(names.associate { name -&#62; parseFullName(name).let { it.lastName to it.firstName } })</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val names = listOf("Alice Adams", "Brian Brown", "Clara Campbell")
println(names.associate { name -&#62; parseFullName(name).let { it.lastName to it.firstName } })</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Flattening<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-transformations.html#flattening" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numberSets = listOf(setOf(1, 2, 3), setOf(4, 5, 6), setOf(1, 2))
println(numberSets.flatten())</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numberSets = listOf(setOf(1, 2, 3), setOf(4, 5, 6), setOf(1, 2))
println(numberSets.flatten())</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val containers = listOf(
    StringContainer(listOf("one", "two", "three")),
    StringContainer(listOf("four", "five", "six")),
    StringContainer(listOf("seven", "eight"))
)
println(containers.flatMap { it.values })</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val containers = listOf(
    StringContainer(listOf("one", "two", "three")),
    StringContainer(listOf("four", "five", "six")),
    StringContainer(listOf("seven", "eight"))
)
println(containers.flatMap { it.values })</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>String representation<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-transformations.html#string-representation" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
&#8203;
println(numbers)         
println(numbers.joinToString())
&#8203;
val listString = StringBuffer("The list of numbers: ")
numbers.joinTo(listString)
println(listString)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
&#8203;
println(numbers)         
println(numbers.joinToString())
&#8203;
val listString = StringBuffer("The list of numbers: ")
numbers.joinTo(listString)
println(listString)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")    
println(numbers.joinToString(separator = " | ", prefix = "start: ", postfix = ": end"))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")    
println(numbers.joinToString(separator = " | ", prefix = "start: ", postfix = ": end"))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = (1..100).toList()
println(numbers.joinToString(limit = 10, truncated = "&#60;...&#62;"))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = (1..100).toList()
println(numbers.joinToString(limit = 10, truncated = "&#60;...&#62;"))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
println(numbers.joinToString { "Element: ${it.toUpperCase()}"})</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
println(numbers.joinToString { "Element: ${it.toUpperCase()}"})</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_7" style="text-align:center;">Filtering<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-filtering.html#filtering" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Filtering by predicate<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-filtering.html#filtering-by-predicate" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")  
val longerThan3 = numbers.filter { it.length &#62; 3 }
println(longerThan3)
&#8203;
val numbersMap = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key11" to 11)
val filteredMap = numbersMap.filter { (key, value) -&#62; key.endsWith("1") &#38;&#38; value &#62; 10}
println(filteredMap)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")  
val longerThan3 = numbers.filter { it.length &#62; 3 }
println(longerThan3)
&#8203;
val numbersMap = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key11" to 11)
val filteredMap = numbersMap.filter { (key, value) -&#62; key.endsWith("1") &#38;&#38; value &#62; 10}
println(filteredMap)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
&#8203;
val filteredIdx = numbers.filterIndexed { index, s -&#62; (index != 0) &#38;&#38; (s.length &#60; 5)  }
val filteredNot = numbers.filterNot { it.length &#60;= 3 }
&#8203;
println(filteredIdx)
println(filteredNot)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
&#8203;
val filteredIdx = numbers.filterIndexed { index, s -&#62; (index != 0) &#38;&#38; (s.length &#60; 5)  }
val filteredNot = numbers.filterNot { it.length &#60;= 3 }
&#8203;
println(filteredIdx)
println(filteredNot)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf(null, 1, "two", 3.0, "four")
println("All String elements in upper case:")
numbers.filterIsInstance&#60;String&#62;().forEach {
    println(it.toUpperCase())
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf(null, 1, "two", 3.0, "four")
println("All String elements in upper case:")
numbers.filterIsInstance&#60;String&#62;().forEach {
    println(it.toUpperCase())
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf(null, "one", "two", null)
numbers.filterNotNull().forEach {
    println(it.length)   // length is unavailable for nullable Strings
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf(null, "one", "two", null)
numbers.filterNotNull().forEach {
    println(it.length)   // length is unavailable for nullable Strings
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Partitioning<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-filtering.html#partitioning" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
val (match, rest) = numbers.partition { it.length &#62; 3 }
&#8203;
println(match)
println(rest)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
val (match, rest) = numbers.partition { it.length &#62; 3 }
&#8203;
println(match)
println(rest)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Testing predicates<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-filtering.html#testing-predicates" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
&#8203;
println(numbers.any { it.endsWith("e") })
println(numbers.none { it.endsWith("a") })
println(numbers.all { it.endsWith("e") })
&#8203;
println(emptyList&#60;Int&#62;().all { it &#62; 5 })   // vacuous truth</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
&#8203;
println(numbers.any { it.endsWith("e") })
println(numbers.none { it.endsWith("a") })
println(numbers.all { it.endsWith("e") })
&#8203;
println(emptyList&#60;Int&#62;().all { it &#62; 5 })   // vacuous truth</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
val empty = emptyList&#60;String&#62;()
&#8203;
println(numbers.any())
println(empty.any())
&#8203;
println(numbers.none())
println(empty.none())</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
val empty = emptyList&#60;String&#62;()
&#8203;
println(numbers.any())
println(empty.any())
&#8203;
println(numbers.none())
println(empty.none())</code></pre></td>
            </tr>
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_8" style="text-align:center;">plus and minus Operators<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-plus-minus.html#plus-and-minus-operators" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
&#8203;
val plusList = numbers + "five"
val minusList = numbers - listOf("three", "four")
println(plusList)
println(minusList)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
&#8203;
val plusList = numbers + "five"
val minusList = numbers - listOf("three", "four")
println(plusList)
println(minusList)</code></pre></td>
            </tr>
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_9" style="text-align:center;">Grouping<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-grouping.html#grouping" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four", "five")
&#8203;
println(numbers.groupBy { it.first().toUpperCase() })
println(numbers.groupBy(keySelector = { it.first() }, valueTransform = { it.toUpperCase() }))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four", "five")
&#8203;
println(numbers.groupBy { it.first().toUpperCase() })
println(numbers.groupBy(keySelector = { it.first() }, valueTransform = { it.toUpperCase() }))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four", "five", "six")
println(numbers.groupingBy { it.first() }.eachCount())</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four", "five", "six")
println(numbers.groupingBy { it.first() }.eachCount())</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_10" style="text-align:center;">Retrieving Collection Parts<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-parts.html#retrieving-collection-parts" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Slice<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-parts.html#slice" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">&#8203;
val numbers = listOf("one", "two", "three", "four", "five", "six")    
println(numbers.slice(1..3))
println(numbers.slice(0..4 step 2))
println(numbers.slice(setOf(3, 5, 0)))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">&#8203;
val numbers = listOf("one", "two", "three", "four", "five", "six")    
println(numbers.slice(1..3))
println(numbers.slice(0..4 step 2))
println(numbers.slice(setOf(3, 5, 0)))</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Take and drop<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-parts.html#take-and-drop" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four", "five", "six")
println(numbers.take(3))
println(numbers.takeLast(3))
println(numbers.drop(1))
println(numbers.dropLast(5))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four", "five", "six")
println(numbers.take(3))
println(numbers.takeLast(3))
println(numbers.drop(1))
println(numbers.dropLast(5))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four", "five", "six")
println(numbers.takeWhile { !it.startsWith('f') })
println(numbers.takeLastWhile { it != "three" })
println(numbers.dropWhile { it.length == 3 })
println(numbers.dropLastWhile { it.contains('i') })</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four", "five", "six")
println(numbers.takeWhile { !it.startsWith('f') })
println(numbers.takeLastWhile { it != "three" })
println(numbers.dropWhile { it.length == 3 })
println(numbers.dropLastWhile { it.contains('i') })</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Chunked<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-parts.html#chunked" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = (0..13).toList()
println(numbers.chunked(3))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = (0..13).toList()
println(numbers.chunked(3))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = (0..13).toList() 
println(numbers.chunked(3) { it.sum() })  // `it` is a chunk of the original collection</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = (0..13).toList() 
println(numbers.chunked(3) { it.sum() })  // `it` is a chunk of the original collection</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Windowed<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-parts.html#windowed" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four", "five")    
println(numbers.windowed(3))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four", "five")    
println(numbers.windowed(3))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = (1..10).toList()
println(numbers.windowed(3, step = 2, partialWindows = true))
println(numbers.windowed(3) { it.sum() })</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = (1..10).toList()
println(numbers.windowed(3, step = 2, partialWindows = true))
println(numbers.windowed(3) { it.sum() })</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four", "five")    
println(numbers.zipWithNext())
println(numbers.zipWithNext() { s1, s2 -&#62; s1.length &#62; s2.length})</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four", "five")    
println(numbers.zipWithNext())
println(numbers.zipWithNext() { s1, s2 -&#62; s1.length &#62; s2.length})</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_11" style="text-align:center;">Retrieving Single Elements<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-elements.html#retrieving-single-elements" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Retrieving by position<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-elements.html#retrieving-by-position" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = linkedSetOf("one", "two", "three", "four", "five")
println(numbers.elementAt(3))    
&#8203;
val numbersSortedSet = sortedSetOf("one", "two", "three", "four")
println(numbersSortedSet.elementAt(0)) // elements are stored in the ascending order</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = linkedSetOf("one", "two", "three", "four", "five")
println(numbers.elementAt(3))    
&#8203;
val numbersSortedSet = sortedSetOf("one", "two", "three", "four")
println(numbersSortedSet.elementAt(0)) // elements are stored in the ascending order</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four", "five")
println(numbers.first())    
println(numbers.last())</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four", "five")
println(numbers.first())    
println(numbers.last())</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four", "five")
println(numbers.elementAtOrNull(5))
println(numbers.elementAtOrElse(5) { index -&#62; "The value for index $index is undefined"})</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four", "five")
println(numbers.elementAtOrNull(5))
println(numbers.elementAtOrElse(5) { index -&#62; "The value for index $index is undefined"})</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Retrieving by condition<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-elements.html#retrieving-by-condition" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four", "five", "six")
println(numbers.first { it.length &#62; 3 })
println(numbers.last { it.startsWith("f") })</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four", "five", "six")
println(numbers.first { it.length &#62; 3 })
println(numbers.last { it.startsWith("f") })</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four", "five", "six")
println(numbers.firstOrNull { it.length &#62; 6 })</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four", "five", "six")
println(numbers.firstOrNull { it.length &#62; 6 })</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf(1, 2, 3, 4)
println(numbers.find { it % 2 == 0 })
println(numbers.findLast { it % 2 == 0 })</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf(1, 2, 3, 4)
println(numbers.find { it % 2 == 0 })
println(numbers.findLast { it % 2 == 0 })</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Random element<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-elements.html#random-element" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf(1, 2, 3, 4)
println(numbers.random())</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf(1, 2, 3, 4)
println(numbers.random())</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Checking existence<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-elements.html#checking-existence" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four", "five", "six")
println(numbers.contains("four"))
println("zero" in numbers)
&#8203;
println(numbers.containsAll(listOf("four", "two")))
println(numbers.containsAll(listOf("one", "zero")))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four", "five", "six")
println(numbers.contains("four"))
println("zero" in numbers)
&#8203;
println(numbers.containsAll(listOf("four", "two")))
println(numbers.containsAll(listOf("one", "zero")))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four", "five", "six")
println(numbers.isEmpty())
println(numbers.isNotEmpty())
&#8203;
val empty = emptyList&#60;String&#62;()
println(empty.isEmpty())
println(empty.isNotEmpty())</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four", "five", "six")
println(numbers.isEmpty())
println(numbers.isNotEmpty())
&#8203;
val empty = emptyList&#60;String&#62;()
println(empty.isEmpty())
println(empty.isNotEmpty())</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_12" style="text-align:center;">Collection Ordering<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-ordering.html#collection-ordering" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Version(val major: Int, val minor: Int): Comparable&#60;Version&#62; {
    override fun compareTo(other: Version): Int {
        if (this.major != other.major) {
            return this.major - other.major
        } else if (this.minor != other.minor) {
            return this.minor - other.minor
        } else return 0
    }
}
&#8203;
fun main() {    
    println(Version(1, 2) &#62; Version(1, 3))
    println(Version(2, 0) &#62; Version(1, 5))
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Version(val major: Int, val minor: Int): Comparable&#60;Version&#62; {
    override fun compareTo(other: Version): Int {
        if (this.major != other.major) {
            return this.major - other.major
        } else if (this.minor != other.minor) {
            return this.minor - other.minor
        } else return 0
    }
}
&#8203;
fun main() {    
    println(Version(1, 2) &#62; Version(1, 3))
    println(Version(2, 0) &#62; Version(1, 5))
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val lengthComparator = Comparator { str1: String, str2: String -&#62; str1.length - str2.length }
println(listOf("aaa", "bb", "c").sortedWith(lengthComparator))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val lengthComparator = Comparator { str1: String, str2: String -&#62; str1.length - str2.length }
println(listOf("aaa", "bb", "c").sortedWith(lengthComparator))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">&#8203;
println(listOf("aaa", "bb", "c").sortedWith(compareBy { it.length }))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">&#8203;
println(listOf("aaa", "bb", "c").sortedWith(compareBy { it.length }))</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Natural order<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-ordering.html#natural-order" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
&#8203;
println("Sorted ascending: ${numbers.sorted()}")
println("Sorted descending: ${numbers.sortedDescending()}")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
&#8203;
println("Sorted ascending: ${numbers.sorted()}")
println("Sorted descending: ${numbers.sortedDescending()}")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Custom orders<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-ordering.html#custom-orders" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
&#8203;
val sortedNumbers = numbers.sortedBy { it.length }
println("Sorted by length ascending: $sortedNumbers")
val sortedByLast = numbers.sortedByDescending { it.last() }
println("Sorted by the last letter descending: $sortedByLast")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
&#8203;
val sortedNumbers = numbers.sortedBy { it.length }
println("Sorted by length ascending: $sortedNumbers")
val sortedByLast = numbers.sortedByDescending { it.last() }
println("Sorted by the last letter descending: $sortedByLast")</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
println("Sorted by length ascending: ${numbers.sortedWith(compareBy { it.length })}")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
println("Sorted by length ascending: ${numbers.sortedWith(compareBy { it.length })}")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Reverse order<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-ordering.html#reverse-order" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
println(numbers.reversed())</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
println(numbers.reversed())</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
val reversedNumbers = numbers.asReversed()
println(reversedNumbers)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
val reversedNumbers = numbers.asReversed()
println(reversedNumbers)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "two", "three", "four")
val reversedNumbers = numbers.asReversed()
println(reversedNumbers)
numbers.add("five")
println(reversedNumbers)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "two", "three", "four")
val reversedNumbers = numbers.asReversed()
println(reversedNumbers)
numbers.add("five")
println(reversedNumbers)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Random order<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-ordering.html#random-order" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
println(numbers.shuffled())</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
println(numbers.shuffled())</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_13" style="text-align:center;">Collection Aggregate Operations<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-aggregate.html#collection-aggregate-operations" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf(6, 42, 10, 4)
&#8203;
println("Count: ${numbers.count()}")
println("Max: ${numbers.maxOrNull()}")
println("Min: ${numbers.minOrNull()}")
println("Average: ${numbers.average()}")
println("Sum: ${numbers.sum()}")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf(6, 42, 10, 4)
&#8203;
println("Count: ${numbers.count()}")
println("Max: ${numbers.maxOrNull()}")
println("Min: ${numbers.minOrNull()}")
println("Average: ${numbers.average()}")
println("Sum: ${numbers.sum()}")</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf(5, 42, 10, 4)
val min3Remainder = numbers.minByOrNull { it % 3 }
println(min3Remainder)
&#8203;
val strings = listOf("one", "two", "three", "four")
val longestString = strings.maxWithOrNull(compareBy { it.length })
println(longestString)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf(5, 42, 10, 4)
val min3Remainder = numbers.minByOrNull { it % 3 }
println(min3Remainder)
&#8203;
val strings = listOf("one", "two", "three", "four")
val longestString = strings.maxWithOrNull(compareBy { it.length })
println(longestString)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">&#8203;
val numbers = listOf(5, 42, 10, 4)
println(numbers.sumBy { it * 2 })
println(numbers.sumByDouble { it.toDouble() / 2 })</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">&#8203;
val numbers = listOf(5, 42, 10, 4)
println(numbers.sumBy { it * 2 })
println(numbers.sumByDouble { it.toDouble() / 2 })</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Fold and reduce<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-aggregate.html#fold-and-reduce" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf(5, 2, 10, 4)
&#8203;
val sum = numbers.reduce { sum, element -&#62; sum + element }
println(sum)
val sumDoubled = numbers.fold(0) { sum, element -&#62; sum + element * 2 }
println(sumDoubled)
&#8203;
//val sumDoubledReduce = numbers.reduce { sum, element -&#62; sum + element * 2 } //incorrect: the first element isn't doubled in the result
//println(sumDoubledReduce)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf(5, 2, 10, 4)
&#8203;
val sum = numbers.reduce { sum, element -&#62; sum + element }
println(sum)
val sumDoubled = numbers.fold(0) { sum, element -&#62; sum + element * 2 }
println(sumDoubled)
&#8203;
//val sumDoubledReduce = numbers.reduce { sum, element -&#62; sum + element * 2 } //incorrect: the first element isn't doubled in the result
//println(sumDoubledReduce)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf(5, 2, 10, 4)
val sumDoubledRight = numbers.foldRight(0) { element, sum -&#62; sum + element * 2 }
println(sumDoubledRight)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf(5, 2, 10, 4)
val sumDoubledRight = numbers.foldRight(0) { element, sum -&#62; sum + element * 2 }
println(sumDoubledRight)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf(5, 2, 10, 4)
val sumEven = numbers.foldIndexed(0) { idx, sum, element -&#62; if (idx % 2 == 0) sum + element else sum }
println(sumEven)
&#8203;
val sumEvenRight = numbers.foldRightIndexed(0) { idx, element, sum -&#62; if (idx % 2 == 0) sum + element else sum }
println(sumEvenRight)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf(5, 2, 10, 4)
val sumEven = numbers.foldIndexed(0) { idx, sum, element -&#62; if (idx % 2 == 0) sum + element else sum }
println(sumEven)
&#8203;
val sumEvenRight = numbers.foldRightIndexed(0) { idx, element, sum -&#62; if (idx % 2 == 0) sum + element else sum }
println(sumEvenRight)</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_14" style="text-align:center;">Collection Write Operations<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-write.html#collection-write-operations" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Adding elements<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-write.html#adding-elements" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf(1, 2, 3, 4)
numbers.add(5)
println(numbers)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf(1, 2, 3, 4)
numbers.add(5)
println(numbers)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf(1, 2, 5, 6)
numbers.addAll(arrayOf(7, 8))
println(numbers)
numbers.addAll(2, setOf(3, 4))
println(numbers)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf(1, 2, 5, 6)
numbers.addAll(arrayOf(7, 8))
println(numbers)
numbers.addAll(2, setOf(3, 4))
println(numbers)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "two")
numbers += "three"
println(numbers)
numbers += listOf("four", "five")    
println(numbers)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "two")
numbers += "three"
println(numbers)
numbers += listOf("four", "five")    
println(numbers)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Removing elements<a class="anchor" href="https://kotlinlang.org/docs/reference/collection-write.html#removing-elements" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf(1, 2, 3, 4, 3)
numbers.remove(3)                    // removes the first `3`
println(numbers)
numbers.remove(5)                    // removes nothing
println(numbers)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf(1, 2, 3, 4, 3)
numbers.remove(3)                    // removes the first `3`
println(numbers)
numbers.remove(5)                    // removes nothing
println(numbers)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf(1, 2, 3, 4)
println(numbers)
numbers.retainAll { it &#62;= 3 }
println(numbers)
numbers.clear()
println(numbers)
&#8203;
val numbersSet = mutableSetOf("one", "two", "three", "four")
numbersSet.removeAll(setOf("one", "two"))
println(numbersSet)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf(1, 2, 3, 4)
println(numbers)
numbers.retainAll { it &#62;= 3 }
println(numbers)
numbers.clear()
println(numbers)
&#8203;
val numbersSet = mutableSetOf("one", "two", "three", "four")
numbersSet.removeAll(setOf("one", "two"))
println(numbersSet)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "two", "three", "three", "four")
numbers -= "three"
println(numbers)
numbers -= listOf("four", "five")    
//numbers -= listOf("four")    // does the same as above
println(numbers)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "two", "three", "three", "four")
numbers -= "three"
println(numbers)
numbers -= listOf("four", "five")    
//numbers -= listOf("four")    // does the same as above
println(numbers)</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_15" style="text-align:center;">List Specific Operations<a class="anchor" href="https://kotlinlang.org/docs/reference/list-operations.html#list-specific-operations" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Retrieving elements by index<a class="anchor" href="https://kotlinlang.org/docs/reference/list-operations.html#retrieving-elements-by-index" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf(1, 2, 3, 4)
println(numbers.get(0))
println(numbers[0])
//numbers.get(5)                         // exception!
println(numbers.getOrNull(5))             // null
println(numbers.getOrElse(5, {it}))        // 5</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf(1, 2, 3, 4)
println(numbers.get(0))
println(numbers[0])
//numbers.get(5)                         // exception!
println(numbers.getOrNull(5))             // null
println(numbers.getOrElse(5, {it}))        // 5</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Retrieving list parts<a class="anchor" href="https://kotlinlang.org/docs/reference/list-operations.html#retrieving-list-parts" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = (0..13).toList()
println(numbers.subList(3, 6))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = (0..13).toList()
println(numbers.subList(3, 6))</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Linear search<a class="anchor" href="https://kotlinlang.org/docs/reference/list-operations.html#linear-search" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf(1, 2, 3, 4, 2, 5)
println(numbers.indexOf(2))
println(numbers.lastIndexOf(2))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf(1, 2, 3, 4, 2, 5)
println(numbers.indexOf(2))
println(numbers.lastIndexOf(2))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf(1, 2, 3, 4)
println(numbers.indexOfFirst { it &#62; 2})
println(numbers.indexOfLast { it % 2 == 1})</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf(1, 2, 3, 4)
println(numbers.indexOfFirst { it &#62; 2})
println(numbers.indexOfLast { it % 2 == 1})</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Binary search in sorted lists<a class="anchor" href="https://kotlinlang.org/docs/reference/list-operations.html#binary-search-in-sorted-lists" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "two", "three", "four")
numbers.sort()
println(numbers)
println(numbers.binarySearch("two"))  // 3
println(numbers.binarySearch("z")) // -5
println(numbers.binarySearch("two", 0, 2))  // -3</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "two", "three", "four")
numbers.sort()
println(numbers)
println(numbers.binarySearch("two"))  // 3
println(numbers.binarySearch("z")) // -5
println(numbers.binarySearch("two", 0, 2))  // -3</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Comparator binary search<a class="anchor" href="https://kotlinlang.org/docs/reference/list-operations.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val productList = listOf(
    Product("WebStorm", 49.0),
    Product("AppCode", 99.0),
    Product("DotTrace", 129.0),
    Product("ReSharper", 149.0))
&#8203;
println(productList.binarySearch(Product("AppCode", 99.0), compareBy&#60;Product&#62; { it.price }.thenBy { it.name }))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val productList = listOf(
    Product("WebStorm", 49.0),
    Product("AppCode", 99.0),
    Product("DotTrace", 129.0),
    Product("ReSharper", 149.0))
&#8203;
println(productList.binarySearch(Product("AppCode", 99.0), compareBy&#60;Product&#62; { it.price }.thenBy { it.name }))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val colors = listOf("Blue", "green", "ORANGE", "Red", "yellow")
println(colors.binarySearch("RED", String.CASE_INSENSITIVE_ORDER)) // 3</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val colors = listOf("Blue", "green", "ORANGE", "Red", "yellow")
println(colors.binarySearch("RED", String.CASE_INSENSITIVE_ORDER)) // 3</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Comparison binary search<a class="anchor" href="https://kotlinlang.org/docs/reference/list-operations.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">data class Product(val name: String, val price: Double)
&#8203;
fun priceComparison(product: Product, price: Double) = sign(product.price - price).toInt()
&#8203;
fun main() {
    val productList = listOf(
        Product("WebStorm", 49.0),
        Product("AppCode", 99.0),
        Product("DotTrace", 129.0),
        Product("ReSharper", 149.0))
&#8203;
    println(productList.binarySearch { priceComparison(it, 99.0) })
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">data class Product(val name: String, val price: Double)
&#8203;
fun priceComparison(product: Product, price: Double) = sign(product.price - price).toInt()
&#8203;
fun main() {
    val productList = listOf(
        Product("WebStorm", 49.0),
        Product("AppCode", 99.0),
        Product("DotTrace", 129.0),
        Product("ReSharper", 149.0))
&#8203;
    println(productList.binarySearch { priceComparison(it, 99.0) })
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Adding<a class="anchor" href="https://kotlinlang.org/docs/reference/list-operations.html#adding" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "five", "six")
numbers.add(1, "two")
numbers.addAll(2, listOf("three", "four"))
println(numbers)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "five", "six")
numbers.add(1, "two")
numbers.addAll(2, listOf("three", "four"))
println(numbers)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Updating<a class="anchor" href="https://kotlinlang.org/docs/reference/list-operations.html#updating" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "five", "three")
numbers[1] =  "two"
println(numbers)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "five", "three")
numbers[1] =  "two"
println(numbers)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf(1, 2, 3, 4)
numbers.fill(3)
println(numbers)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf(1, 2, 3, 4)
numbers.fill(3)
println(numbers)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Removing<a class="anchor" href="https://kotlinlang.org/docs/reference/list-operations.html#removing" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf(1, 2, 3, 4, 3)    
numbers.removeAt(1)
println(numbers)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf(1, 2, 3, 4, 3)    
numbers.removeAt(1)
println(numbers)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf(1, 2, 3, 4, 3)    
numbers.removeFirst()
numbers.removeLast()
println(numbers)
&#8203;
val empty = mutableListOf&#60;Int&#62;()
// empty.removeFirst() // NoSuchElementException: List is empty.
empty.removeFirstOrNull() //null</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf(1, 2, 3, 4, 3)    
numbers.removeFirst()
numbers.removeLast()
println(numbers)
&#8203;
val empty = mutableListOf&#60;Int&#62;()
// empty.removeFirst() // NoSuchElementException: List is empty.
empty.removeFirstOrNull() //null</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Sorting<a class="anchor" href="https://kotlinlang.org/docs/reference/list-operations.html#sorting" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "two", "three", "four")
&#8203;
numbers.sort()
println("Sort into ascending: $numbers")
numbers.sortDescending()
println("Sort into descending: $numbers")
&#8203;
numbers.sortBy { it.length }
println("Sort into ascending by length: $numbers")
numbers.sortByDescending { it.last() }
println("Sort into descending by the last letter: $numbers")
&#8203;
numbers.sortWith(compareBy&#60;String&#62; { it.length }.thenBy { it })
println("Sort by Comparator: $numbers")
&#8203;
numbers.shuffle()
println("Shuffle: $numbers")
&#8203;
numbers.reverse()
println("Reverse: $numbers")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "two", "three", "four")
&#8203;
numbers.sort()
println("Sort into ascending: $numbers")
numbers.sortDescending()
println("Sort into descending: $numbers")
&#8203;
numbers.sortBy { it.length }
println("Sort into ascending by length: $numbers")
numbers.sortByDescending { it.last() }
println("Sort into descending by the last letter: $numbers")
&#8203;
numbers.sortWith(compareBy&#60;String&#62; { it.length }.thenBy { it })
println("Sort by Comparator: $numbers")
&#8203;
numbers.shuffle()
println("Shuffle: $numbers")
&#8203;
numbers.reverse()
println("Reverse: $numbers")</code></pre></td>
            </tr>
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_16" style="text-align:center;">Set Specific Operations<a class="anchor" href="https://kotlinlang.org/docs/reference/set-operations.html#set-specific-operations" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = setOf("one", "two", "three")
&#8203;
println(numbers union setOf("four", "five"))
println(setOf("four", "five") union numbers)
&#8203;
println(numbers intersect setOf("two", "one"))
println(numbers subtract setOf("three", "four"))
println(numbers subtract setOf("four", "three")) // same output</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = setOf("one", "two", "three")
&#8203;
println(numbers union setOf("four", "five"))
println(setOf("four", "five") union numbers)
&#8203;
println(numbers intersect setOf("two", "one"))
println(numbers subtract setOf("three", "four"))
println(numbers subtract setOf("four", "three")) // same output</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="4_17" style="text-align:center;">Map Specific Operations<a class="anchor" href="https://kotlinlang.org/docs/reference/map-operations.html#map-specific-operations" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Retrieving keys and values<a class="anchor" href="https://kotlinlang.org/docs/reference/map-operations.html#retrieving-keys-and-values" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mapOf("one" to 1, "two" to 2, "three" to 3)
println(numbersMap.get("one"))
println(numbersMap["one"])
println(numbersMap.getOrDefault("four", 10))
println(numbersMap["five"])               // null
//numbersMap.getValue("six")      // exception!</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mapOf("one" to 1, "two" to 2, "three" to 3)
println(numbersMap.get("one"))
println(numbersMap["one"])
println(numbersMap.getOrDefault("four", 10))
println(numbersMap["five"])               // null
//numbersMap.getValue("six")      // exception!</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mapOf("one" to 1, "two" to 2, "three" to 3)
println(numbersMap.keys)
println(numbersMap.values)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mapOf("one" to 1, "two" to 2, "three" to 3)
println(numbersMap.keys)
println(numbersMap.values)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Filtering<a class="anchor" href="https://kotlinlang.org/docs/reference/map-operations.html#filtering" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key11" to 11)
val filteredMap = numbersMap.filter { (key, value) -&#62; key.endsWith("1") &#38;&#38; value &#62; 10}
println(filteredMap)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key11" to 11)
val filteredMap = numbersMap.filter { (key, value) -&#62; key.endsWith("1") &#38;&#38; value &#62; 10}
println(filteredMap)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key11" to 11)
val filteredKeysMap = numbersMap.filterKeys { it.endsWith("1") }
val filteredValuesMap = numbersMap.filterValues { it &#60; 10 }
&#8203;
println(filteredKeysMap)
println(filteredValuesMap)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key11" to 11)
val filteredKeysMap = numbersMap.filterKeys { it.endsWith("1") }
val filteredValuesMap = numbersMap.filterValues { it &#60; 10 }
&#8203;
println(filteredKeysMap)
println(filteredValuesMap)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>plus and minus operators<a class="anchor" href="https://kotlinlang.org/docs/reference/map-operations.html#plus-and-minus-operators" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mapOf("one" to 1, "two" to 2, "three" to 3)
println(numbersMap + Pair("four", 4))
println(numbersMap + Pair("one", 10))
println(numbersMap + mapOf("five" to 5, "one" to 11))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mapOf("one" to 1, "two" to 2, "three" to 3)
println(numbersMap + Pair("four", 4))
println(numbersMap + Pair("one", 10))
println(numbersMap + mapOf("five" to 5, "one" to 11))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mapOf("one" to 1, "two" to 2, "three" to 3)
println(numbersMap - "one")
println(numbersMap - listOf("two", "four"))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mapOf("one" to 1, "two" to 2, "three" to 3)
println(numbersMap - "one")
println(numbersMap - listOf("two", "four"))</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Adding and updating entries<a class="anchor" href="https://kotlinlang.org/docs/reference/map-operations.html#adding-and-updating-entries" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mutableMapOf("one" to 1, "two" to 2)
numbersMap.put("three", 3)
println(numbersMap)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mutableMapOf("one" to 1, "two" to 2)
numbersMap.put("three", 3)
println(numbersMap)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mutableMapOf("one" to 1, "two" to 2, "three" to 3)
numbersMap.putAll(setOf("four" to 4, "five" to 5))
println(numbersMap)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mutableMapOf("one" to 1, "two" to 2, "three" to 3)
numbersMap.putAll(setOf("four" to 4, "five" to 5))
println(numbersMap)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mutableMapOf("one" to 1, "two" to 2)
val previousValue = numbersMap.put("one", 11)
println("value associated with 'one', before: $previousValue, after: ${numbersMap["one"]}")
println(numbersMap)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mutableMapOf("one" to 1, "two" to 2)
val previousValue = numbersMap.put("one", 11)
println("value associated with 'one', before: $previousValue, after: ${numbersMap["one"]}")
println(numbersMap)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mutableMapOf("one" to 1, "two" to 2)
numbersMap["three"] = 3     // calls numbersMap.set("three", 3)
numbersMap += mapOf("four" to 4, "five" to 5)
println(numbersMap)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mutableMapOf("one" to 1, "two" to 2)
numbersMap["three"] = 3     // calls numbersMap.set("three", 3)
numbersMap += mapOf("four" to 4, "five" to 5)
println(numbersMap)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Removing entries<a class="anchor" href="https://kotlinlang.org/docs/reference/map-operations.html#removing-entries" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mutableMapOf("one" to 1, "two" to 2, "three" to 3)
numbersMap.remove("one")
println(numbersMap)
numbersMap.remove("three", 4)            //doesn't remove anything
println(numbersMap)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mutableMapOf("one" to 1, "two" to 2, "three" to 3)
numbersMap.remove("one")
println(numbersMap)
numbersMap.remove("three", 4)            //doesn't remove anything
println(numbersMap)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mutableMapOf("one" to 1, "two" to 2, "three" to 3, "threeAgain" to 3)
numbersMap.keys.remove("one")
println(numbersMap)
numbersMap.values.remove(3)
println(numbersMap)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mutableMapOf("one" to 1, "two" to 2, "three" to 3, "threeAgain" to 3)
numbersMap.keys.remove("one")
println(numbersMap)
numbersMap.values.remove(3)
println(numbersMap)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbersMap = mutableMapOf("one" to 1, "two" to 2, "three" to 3)
numbersMap -= "two"
println(numbersMap)
numbersMap -= "five"             //doesn't remove anything
println(numbersMap)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbersMap = mutableMapOf("one" to 1, "two" to 2, "three" to 3)
numbersMap -= "two"
println(numbersMap)
numbersMap -= "five"             //doesn't remove anything
println(numbersMap)</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Your first coroutine<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/basics.html#your-first-coroutine" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlinx.coroutines.*
&#8203;
fun main() {
    GlobalScope.launch { // launch a new coroutine in background and continue
        delay(1000L) // non-blocking delay for 1 second (default time unit is ms)
        println("World!") // print after delay
    }
    println("Hello,") // main thread continues while coroutine is delayed
    Thread.sleep(2000L) // block main thread for 2 seconds to keep JVM alive
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlinx.coroutines.*
&#8203;
fun main() {
    GlobalScope.launch { // launch a new coroutine in background and continue
        delay(1000L) // non-blocking delay for 1 second (default time unit is ms)
        println("World!") // print after delay
    }
    println("Hello,") // main thread continues while coroutine is delayed
    Thread.sleep(2000L) // block main thread for 2 seconds to keep JVM alive
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Bridging blocking and non-blocking worlds<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/basics.html#bridging-blocking-and-non-blocking-worlds" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlinx.coroutines.*
&#8203;
fun main() { 
    GlobalScope.launch { // launch a new coroutine in background and continue
        delay(1000L)
        println("World!")
    }
    println("Hello,") // main thread continues here immediately
    runBlocking {     // but this expression blocks the main thread
        delay(2000L)  // ... while we delay for 2 seconds to keep JVM alive
    } 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlinx.coroutines.*
&#8203;
fun main() { 
    GlobalScope.launch { // launch a new coroutine in background and continue
        delay(1000L)
        println("World!")
    }
    println("Hello,") // main thread continues here immediately
    runBlocking {     // but this expression blocks the main thread
        delay(2000L)  // ... while we delay for 2 seconds to keep JVM alive
    } 
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking&#60;Unit&#62; { // start main coroutine
    GlobalScope.launch { // launch a new coroutine in background and continue
        delay(1000L)
        println("World!")
    }
    println("Hello,") // main coroutine continues here immediately
    delay(2000L)      // delaying for 2 seconds to keep JVM alive
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking&#60;Unit&#62; { // start main coroutine
    GlobalScope.launch { // launch a new coroutine in background and continue
        delay(1000L)
        println("World!")
    }
    println("Hello,") // main coroutine continues here immediately
    delay(2000L)      // delaying for 2 seconds to keep JVM alive
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class MyTest {
    @Test
    fun testMySuspendingFunction() = runBlocking&#60;Unit&#62; {
        // here we can use suspending functions using any assertion style that we like
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class MyTest {
    @Test
    fun testMySuspendingFunction() = runBlocking&#60;Unit&#62; {
        // here we can use suspending functions using any assertion style that we like
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Waiting for a job<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/basics.html#waiting-for-a-job" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val job = GlobalScope.launch { // launch a new coroutine and keep a reference to its Job
    delay(1000L)
    println("World!")
}
println("Hello,")
job.join() // wait until child coroutine completes</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val job = GlobalScope.launch { // launch a new coroutine and keep a reference to its Job
    delay(1000L)
    println("World!")
}
println("Hello,")
job.join() // wait until child coroutine completes</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Structured concurrency<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/basics.html#structured-concurrency" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking { // this: CoroutineScope
    launch { // launch a new coroutine in the scope of runBlocking
        delay(1000L)
        println("World!")
    }
    println("Hello,")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking { // this: CoroutineScope
    launch { // launch a new coroutine in the scope of runBlocking
        delay(1000L)
        println("World!")
    }
    println("Hello,")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Scope builder<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/basics.html#scope-builder" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking { // this: CoroutineScope
    launch { 
        delay(200L)
        println("Task from runBlocking")
    }
    
    coroutineScope { // Creates a coroutine scope
        launch {
            delay(500L) 
            println("Task from nested launch")
        }
    
        delay(100L)
        println("Task from coroutine scope") // This line will be printed before the nested launch
    }
    
    println("Coroutine scope is over") // This line is not printed until the nested launch completes
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking { // this: CoroutineScope
    launch { 
        delay(200L)
        println("Task from runBlocking")
    }
    
    coroutineScope { // Creates a coroutine scope
        launch {
            delay(500L) 
            println("Task from nested launch")
        }
    
        delay(100L)
        println("Task from coroutine scope") // This line will be printed before the nested launch
    }
    
    println("Coroutine scope is over") // This line is not printed until the nested launch completes
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Extract function refactoring<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/basics.html#extract-function-refactoring" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking {
    launch { doWorld() }
    println("Hello,")
}
&#8203;
// this is your first suspending function
suspend fun doWorld() {
    delay(1000L)
    println("World!")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking {
    launch { doWorld() }
    println("Hello,")
}
&#8203;
// this is your first suspending function
suspend fun doWorld() {
    delay(1000L)
    println("World!")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Coroutines ARE light-weight<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/basics.html#coroutines-are-light-weight" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking {
    repeat(100_000) { // launch a lot of coroutines
        launch {
            delay(5000L)
            print(".")
        }
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking {
    repeat(100_000) { // launch a lot of coroutines
        launch {
            delay(5000L)
            print(".")
        }
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Global coroutines are like daemon threads<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/basics.html#global-coroutines-are-like-daemon-threads" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">GlobalScope.launch {
    repeat(1000) { i -&#62;
        println("I'm sleeping $i ...")
        delay(500L)
    }
}
delay(1300L) // just quit after delay</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">GlobalScope.launch {
    repeat(1000) { i -&#62;
        println("I'm sleeping $i ...")
        delay(500L)
    }
}
delay(1300L) // just quit after delay</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Cancelling coroutine execution<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/cancellation-and-timeouts.html#cancelling-coroutine-execution" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val job = launch {
    repeat(1000) { i -&#62;
        println("job: I'm sleeping $i ...")
        delay(500L)
    }
}
delay(1300L) // delay a bit
println("main: I'm tired of waiting!")
job.cancel() // cancels the job
job.join() // waits for job's completion 
println("main: Now I can quit.")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val job = launch {
    repeat(1000) { i -&#62;
        println("job: I'm sleeping $i ...")
        delay(500L)
    }
}
delay(1300L) // delay a bit
println("main: I'm tired of waiting!")
job.cancel() // cancels the job
job.join() // waits for job's completion 
println("main: Now I can quit.")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Cancellation is cooperative<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/cancellation-and-timeouts.html#cancellation-is-cooperative" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val startTime = System.currentTimeMillis()
val job = launch(Dispatchers.Default) {
    var nextPrintTime = startTime
    var i = 0
    while (i &#60; 5) { // computation loop, just wastes CPU
        // print a message twice a second
        if (System.currentTimeMillis() &#62;= nextPrintTime) {
            println("job: I'm sleeping ${i++} ...")
            nextPrintTime += 500L
        }
    }
}
delay(1300L) // delay a bit
println("main: I'm tired of waiting!")
job.cancelAndJoin() // cancels the job and waits for its completion
println("main: Now I can quit.")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val startTime = System.currentTimeMillis()
val job = launch(Dispatchers.Default) {
    var nextPrintTime = startTime
    var i = 0
    while (i &#60; 5) { // computation loop, just wastes CPU
        // print a message twice a second
        if (System.currentTimeMillis() &#62;= nextPrintTime) {
            println("job: I'm sleeping ${i++} ...")
            nextPrintTime += 500L
        }
    }
}
delay(1300L) // delay a bit
println("main: I'm tired of waiting!")
job.cancelAndJoin() // cancels the job and waits for its completion
println("main: Now I can quit.")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Making computation code cancellable<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/cancellation-and-timeouts.html#making-computation-code-cancellable" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val startTime = System.currentTimeMillis()
val job = launch(Dispatchers.Default) {
    var nextPrintTime = startTime
    var i = 0
    while (isActive) { // cancellable computation loop
        // print a message twice a second
        if (System.currentTimeMillis() &#62;= nextPrintTime) {
            println("job: I'm sleeping ${i++} ...")
            nextPrintTime += 500L
        }
    }
}
delay(1300L) // delay a bit
println("main: I'm tired of waiting!")
job.cancelAndJoin() // cancels the job and waits for its completion
println("main: Now I can quit.")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val startTime = System.currentTimeMillis()
val job = launch(Dispatchers.Default) {
    var nextPrintTime = startTime
    var i = 0
    while (isActive) { // cancellable computation loop
        // print a message twice a second
        if (System.currentTimeMillis() &#62;= nextPrintTime) {
            println("job: I'm sleeping ${i++} ...")
            nextPrintTime += 500L
        }
    }
}
delay(1300L) // delay a bit
println("main: I'm tired of waiting!")
job.cancelAndJoin() // cancels the job and waits for its completion
println("main: Now I can quit.")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Closing resources with finally<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/cancellation-and-timeouts.html#closing-resources-with-finally" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val job = launch {
    try {
        repeat(1000) { i -&#62;
            println("job: I'm sleeping $i ...")
            delay(500L)
        }
    } finally {
        println("job: I'm running finally")
    }
}
delay(1300L) // delay a bit
println("main: I'm tired of waiting!")
job.cancelAndJoin() // cancels the job and waits for its completion
println("main: Now I can quit.")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val job = launch {
    try {
        repeat(1000) { i -&#62;
            println("job: I'm sleeping $i ...")
            delay(500L)
        }
    } finally {
        println("job: I'm running finally")
    }
}
delay(1300L) // delay a bit
println("main: I'm tired of waiting!")
job.cancelAndJoin() // cancels the job and waits for its completion
println("main: Now I can quit.")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Run non-cancellable block<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/cancellation-and-timeouts.html#run-non-cancellable-block" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val job = launch {
    try {
        repeat(1000) { i -&#62;
            println("job: I'm sleeping $i ...")
            delay(500L)
        }
    } finally {
        withContext(NonCancellable) {
            println("job: I'm running finally")
            delay(1000L)
            println("job: And I've just delayed for 1 sec because I'm non-cancellable")
        }
    }
}
delay(1300L) // delay a bit
println("main: I'm tired of waiting!")
job.cancelAndJoin() // cancels the job and waits for its completion
println("main: Now I can quit.")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val job = launch {
    try {
        repeat(1000) { i -&#62;
            println("job: I'm sleeping $i ...")
            delay(500L)
        }
    } finally {
        withContext(NonCancellable) {
            println("job: I'm running finally")
            delay(1000L)
            println("job: And I've just delayed for 1 sec because I'm non-cancellable")
        }
    }
}
delay(1300L) // delay a bit
println("main: I'm tired of waiting!")
job.cancelAndJoin() // cancels the job and waits for its completion
println("main: Now I can quit.")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Timeout<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/cancellation-and-timeouts.html#timeout" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">withTimeout(1300L) {
    repeat(1000) { i -&#62;
        println("I'm sleeping $i ...")
        delay(500L)
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">withTimeout(1300L) {
    repeat(1000) { i -&#62;
        println("I'm sleeping $i ...")
        delay(500L)
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val result = withTimeoutOrNull(1300L) {
    repeat(1000) { i -&#62;
        println("I'm sleeping $i ...")
        delay(500L)
    }
    "Done" // will get cancelled before it produces this result
}
println("Result is $result")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val result = withTimeoutOrNull(1300L) {
    repeat(1000) { i -&#62;
        println("I'm sleeping $i ...")
        delay(500L)
    }
    "Done" // will get cancelled before it produces this result
}
println("Result is $result")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Asynchronous timeout and resources<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/cancellation-and-timeouts.html#asynchronous-timeout-and-resources" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">var acquired = 0
&#8203;
class Resource {
    init { acquired++ } // Acquire the resource
    fun close() { acquired-- } // Release the resource
}
&#8203;
fun main() {
    runBlocking {
        repeat(100_000) { // Launch 100K coroutines
            launch { 
                val resource = withTimeout(60) { // Timeout of 60 ms
                    delay(50) // Delay for 50 ms
                    Resource() // Acquire a resource and return it from withTimeout block     
                }
                resource.close() // Release the resource
            }
        }
    }
    // Outside of runBlocking all coroutines have completed
    println(acquired) // Print the number of resources still acquired
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">var acquired = 0
&#8203;
class Resource {
    init { acquired++ } // Acquire the resource
    fun close() { acquired-- } // Release the resource
}
&#8203;
fun main() {
    runBlocking {
        repeat(100_000) { // Launch 100K coroutines
            launch { 
                val resource = withTimeout(60) { // Timeout of 60 ms
                    delay(50) // Delay for 50 ms
                    Resource() // Acquire a resource and return it from withTimeout block     
                }
                resource.close() // Release the resource
            }
        }
    }
    // Outside of runBlocking all coroutines have completed
    println(acquired) // Print the number of resources still acquired
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">runBlocking {
    repeat(100_000) { // Launch 100K coroutines
        launch { 
            var resource: Resource? = null // Not acquired yet
            try {
                withTimeout(60) { // Timeout of 60 ms
                    delay(50) // Delay for 50 ms
                    resource = Resource() // Store a resource to the variable if acquired      
                }
                // We can do something else with the resource here
            } finally {  
                resource?.close() // Release the resource if it was acquired
            }
        }
    }
}
// Outside of runBlocking all coroutines have completed
println(acquired) // Print the number of resources still acquired</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">runBlocking {
    repeat(100_000) { // Launch 100K coroutines
        launch { 
            var resource: Resource? = null // Not acquired yet
            try {
                withTimeout(60) { // Timeout of 60 ms
                    delay(50) // Delay for 50 ms
                    resource = Resource() // Store a resource to the variable if acquired      
                }
                // We can do something else with the resource here
            } finally {  
                resource?.close() // Release the resource if it was acquired
            }
        }
    }
}
// Outside of runBlocking all coroutines have completed
println(acquired) // Print the number of resources still acquired</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Sequential by default<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/composing-suspending-functions.html#sequential-by-default" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">suspend fun doSomethingUsefulOne(): Int {
    delay(1000L) // pretend we are doing something useful here
    return 13
}
&#8203;
suspend fun doSomethingUsefulTwo(): Int {
    delay(1000L) // pretend we are doing something useful here, too
    return 29
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">suspend fun doSomethingUsefulOne(): Int {
    delay(1000L) // pretend we are doing something useful here
    return 13
}
&#8203;
suspend fun doSomethingUsefulTwo(): Int {
    delay(1000L) // pretend we are doing something useful here, too
    return 29
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val time = measureTimeMillis {
    val one = doSomethingUsefulOne()
    val two = doSomethingUsefulTwo()
    println("The answer is ${one + two}")
}
println("Completed in $time ms")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val time = measureTimeMillis {
    val one = doSomethingUsefulOne()
    val two = doSomethingUsefulTwo()
    println("The answer is ${one + two}")
}
println("Completed in $time ms")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Concurrent using async<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/composing-suspending-functions.html#concurrent-using-async" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val time = measureTimeMillis {
    val one = async { doSomethingUsefulOne() }
    val two = async { doSomethingUsefulTwo() }
    println("The answer is ${one.await() + two.await()}")
}
println("Completed in $time ms")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val time = measureTimeMillis {
    val one = async { doSomethingUsefulOne() }
    val two = async { doSomethingUsefulTwo() }
    println("The answer is ${one.await() + two.await()}")
}
println("Completed in $time ms")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Lazily started async<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/composing-suspending-functions.html#lazily-started-async" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val time = measureTimeMillis {
    val one = async(start = CoroutineStart.LAZY) { doSomethingUsefulOne() }
    val two = async(start = CoroutineStart.LAZY) { doSomethingUsefulTwo() }
    // some computation
    one.start() // start the first one
    two.start() // start the second one
    println("The answer is ${one.await() + two.await()}")
}
println("Completed in $time ms")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val time = measureTimeMillis {
    val one = async(start = CoroutineStart.LAZY) { doSomethingUsefulOne() }
    val two = async(start = CoroutineStart.LAZY) { doSomethingUsefulTwo() }
    // some computation
    one.start() // start the first one
    two.start() // start the second one
    println("The answer is ${one.await() + two.await()}")
}
println("Completed in $time ms")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Async-style functions<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/composing-suspending-functions.html#async-style-functions" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// The result type of somethingUsefulOneAsync is Deferred&#60;Int&#62;
fun somethingUsefulOneAsync() = GlobalScope.async {
    doSomethingUsefulOne()
}
&#8203;
// The result type of somethingUsefulTwoAsync is Deferred&#60;Int&#62;
fun somethingUsefulTwoAsync() = GlobalScope.async {
    doSomethingUsefulTwo()
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// The result type of somethingUsefulOneAsync is Deferred&#60;Int&#62;
fun somethingUsefulOneAsync() = GlobalScope.async {
    doSomethingUsefulOne()
}
&#8203;
// The result type of somethingUsefulTwoAsync is Deferred&#60;Int&#62;
fun somethingUsefulTwoAsync() = GlobalScope.async {
    doSomethingUsefulTwo()
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// note that we don't have `runBlocking` to the right of `main` in this example
fun main() {
    val time = measureTimeMillis {
        // we can initiate async actions outside of a coroutine
        val one = somethingUsefulOneAsync()
        val two = somethingUsefulTwoAsync()
        // but waiting for a result must involve either suspending or blocking.
        // here we use `runBlocking { ... }` to block the main thread while waiting for the result
        runBlocking {
            println("The answer is ${one.await() + two.await()}")
        }
    }
    println("Completed in $time ms")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// note that we don't have `runBlocking` to the right of `main` in this example
fun main() {
    val time = measureTimeMillis {
        // we can initiate async actions outside of a coroutine
        val one = somethingUsefulOneAsync()
        val two = somethingUsefulTwoAsync()
        // but waiting for a result must involve either suspending or blocking.
        // here we use `runBlocking { ... }` to block the main thread while waiting for the result
        runBlocking {
            println("The answer is ${one.await() + two.await()}")
        }
    }
    println("Completed in $time ms")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Structured concurrency with async<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/composing-suspending-functions.html#structured-concurrency-with-async" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">suspend fun concurrentSum(): Int = coroutineScope {
    val one = async { doSomethingUsefulOne() }
    val two = async { doSomethingUsefulTwo() }
    one.await() + two.await()
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">suspend fun concurrentSum(): Int = coroutineScope {
    val one = async { doSomethingUsefulOne() }
    val two = async { doSomethingUsefulTwo() }
    one.await() + two.await()
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val time = measureTimeMillis {
    println("The answer is ${concurrentSum()}")
}
println("Completed in $time ms")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val time = measureTimeMillis {
    println("The answer is ${concurrentSum()}")
}
println("Completed in $time ms")</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    try {
        failedConcurrentSum()
    } catch(e: ArithmeticException) {
        println("Computation failed with ArithmeticException")
    }
}
&#8203;
suspend fun failedConcurrentSum(): Int = coroutineScope {
    val one = async&#60;Int&#62; { 
        try {
            delay(Long.MAX_VALUE) // Emulates very long computation
            42
        } finally {
            println("First child was cancelled")
        }
    }
    val two = async&#60;Int&#62; { 
        println("Second child throws an exception")
        throw ArithmeticException()
    }
    one.await() + two.await()
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    try {
        failedConcurrentSum()
    } catch(e: ArithmeticException) {
        println("Computation failed with ArithmeticException")
    }
}
&#8203;
suspend fun failedConcurrentSum(): Int = coroutineScope {
    val one = async&#60;Int&#62; { 
        try {
            delay(Long.MAX_VALUE) // Emulates very long computation
            42
        } finally {
            println("First child was cancelled")
        }
    }
    val two = async&#60;Int&#62; { 
        println("Second child throws an exception")
        throw ArithmeticException()
    }
    one.await() + two.await()
}</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Dispatchers and threads<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/coroutine-context-and-dispatchers.html#dispatchers-and-threads" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">launch { // context of the parent, main runBlocking coroutine
    println("main runBlocking      : I'm working in thread ${Thread.currentThread().name}")
}
launch(Dispatchers.Unconfined) { // not confined -- will work with main thread
    println("Unconfined            : I'm working in thread ${Thread.currentThread().name}")
}
launch(Dispatchers.Default) { // will get dispatched to DefaultDispatcher 
    println("Default               : I'm working in thread ${Thread.currentThread().name}")
}
launch(newSingleThreadContext("MyOwnThread")) { // will get its own new thread
    println("newSingleThreadContext: I'm working in thread ${Thread.currentThread().name}")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">launch { // context of the parent, main runBlocking coroutine
    println("main runBlocking      : I'm working in thread ${Thread.currentThread().name}")
}
launch(Dispatchers.Unconfined) { // not confined -- will work with main thread
    println("Unconfined            : I'm working in thread ${Thread.currentThread().name}")
}
launch(Dispatchers.Default) { // will get dispatched to DefaultDispatcher 
    println("Default               : I'm working in thread ${Thread.currentThread().name}")
}
launch(newSingleThreadContext("MyOwnThread")) { // will get its own new thread
    println("newSingleThreadContext: I'm working in thread ${Thread.currentThread().name}")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Unconfined vs confined dispatcher<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/coroutine-context-and-dispatchers.html#unconfined-vs-confined-dispatcher" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">launch(Dispatchers.Unconfined) { // not confined -- will work with main thread
    println("Unconfined      : I'm working in thread ${Thread.currentThread().name}")
    delay(500)
    println("Unconfined      : After delay in thread ${Thread.currentThread().name}")
}
launch { // context of the parent, main runBlocking coroutine
    println("main runBlocking: I'm working in thread ${Thread.currentThread().name}")
    delay(1000)
    println("main runBlocking: After delay in thread ${Thread.currentThread().name}")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">launch(Dispatchers.Unconfined) { // not confined -- will work with main thread
    println("Unconfined      : I'm working in thread ${Thread.currentThread().name}")
    delay(500)
    println("Unconfined      : After delay in thread ${Thread.currentThread().name}")
}
launch { // context of the parent, main runBlocking coroutine
    println("main runBlocking: I'm working in thread ${Thread.currentThread().name}")
    delay(1000)
    println("main runBlocking: After delay in thread ${Thread.currentThread().name}")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Debugging using logging<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/coroutine-context-and-dispatchers.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val a = async {
    log("I'm computing a piece of the answer")
    6
}
val b = async {
    log("I'm computing another piece of the answer")
    7
}
log("The answer is ${a.await() * b.await()}")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val a = async {
    log("I'm computing a piece of the answer")
    6
}
val b = async {
    log("I'm computing another piece of the answer")
    7
}
log("The answer is ${a.await() * b.await()}")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Jumping between threads<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/coroutine-context-and-dispatchers.html#jumping-between-threads" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">newSingleThreadContext("Ctx1").use { ctx1 -&#62;
    newSingleThreadContext("Ctx2").use { ctx2 -&#62;
        runBlocking(ctx1) {
            log("Started in ctx1")
            withContext(ctx2) {
                log("Working in ctx2")
            }
            log("Back to ctx1")
        }
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">newSingleThreadContext("Ctx1").use { ctx1 -&#62;
    newSingleThreadContext("Ctx2").use { ctx2 -&#62;
        runBlocking(ctx1) {
            log("Started in ctx1")
            withContext(ctx2) {
                log("Working in ctx2")
            }
            log("Back to ctx1")
        }
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Job in the context<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/coroutine-context-and-dispatchers.html#job-in-the-context" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">println("My job is ${coroutineContext[Job]}")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">println("My job is ${coroutineContext[Job]}")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Children of a coroutine<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/coroutine-context-and-dispatchers.html#children-of-a-coroutine" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// launch a coroutine to process some kind of incoming request
val request = launch {
    // it spawns two other jobs, one with GlobalScope
    GlobalScope.launch {
        println("job1: I run in GlobalScope and execute independently!")
        delay(1000)
        println("job1: I am not affected by cancellation of the request")
    }
    // and the other inherits the parent context
    launch {
        delay(100)
        println("job2: I am a child of the request coroutine")
        delay(1000)
        println("job2: I will not execute this line if my parent request is cancelled")
    }
}
delay(500)
request.cancel() // cancel processing of the request
delay(1000) // delay a second to see what happens
println("main: Who has survived request cancellation?")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// launch a coroutine to process some kind of incoming request
val request = launch {
    // it spawns two other jobs, one with GlobalScope
    GlobalScope.launch {
        println("job1: I run in GlobalScope and execute independently!")
        delay(1000)
        println("job1: I am not affected by cancellation of the request")
    }
    // and the other inherits the parent context
    launch {
        delay(100)
        println("job2: I am a child of the request coroutine")
        delay(1000)
        println("job2: I will not execute this line if my parent request is cancelled")
    }
}
delay(500)
request.cancel() // cancel processing of the request
delay(1000) // delay a second to see what happens
println("main: Who has survived request cancellation?")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Parental responsibilities<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/coroutine-context-and-dispatchers.html#parental-responsibilities" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// launch a coroutine to process some kind of incoming request
val request = launch {
    repeat(3) { i -&#62; // launch a few children jobs
        launch  {
            delay((i + 1) * 200L) // variable delay 200ms, 400ms, 600ms
            println("Coroutine $i is done")
        }
    }
    println("request: I'm done and I don't explicitly join my children that are still active")
}
request.join() // wait for completion of the request, including all its children
println("Now processing of the request is complete")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// launch a coroutine to process some kind of incoming request
val request = launch {
    repeat(3) { i -&#62; // launch a few children jobs
        launch  {
            delay((i + 1) * 200L) // variable delay 200ms, 400ms, 600ms
            println("Coroutine $i is done")
        }
    }
    println("request: I'm done and I don't explicitly join my children that are still active")
}
request.join() // wait for completion of the request, including all its children
println("Now processing of the request is complete")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Naming coroutines for debugging<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/coroutine-context-and-dispatchers.html#naming-coroutines-for-debugging" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">log("Started main coroutine")
// run two background value computations
val v1 = async(CoroutineName("v1coroutine")) {
    delay(500)
    log("Computing v1")
    252
}
val v2 = async(CoroutineName("v2coroutine")) {
    delay(1000)
    log("Computing v2")
    6
}
log("The answer for v1 / v2 = ${v1.await() / v2.await()}")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">log("Started main coroutine")
// run two background value computations
val v1 = async(CoroutineName("v1coroutine")) {
    delay(500)
    log("Computing v1")
    252
}
val v2 = async(CoroutineName("v2coroutine")) {
    delay(1000)
    log("Computing v2")
    6
}
log("The answer for v1 / v2 = ${v1.await() / v2.await()}")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Combining context elements<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/coroutine-context-and-dispatchers.html#combining-context-elements" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">launch(Dispatchers.Default + CoroutineName("test")) {
    println("I'm working in thread ${Thread.currentThread().name}")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">launch(Dispatchers.Default + CoroutineName("test")) {
    println("I'm working in thread ${Thread.currentThread().name}")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Coroutine scope<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/coroutine-context-and-dispatchers.html#coroutine-scope" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Activity {
    private val mainScope = MainScope()
    
    fun destroy() {
        mainScope.cancel()
    }
    // to be continued ...</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Activity {
    private val mainScope = MainScope()
    
    fun destroy() {
        mainScope.cancel()
    }
    // to be continued ...</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// class Activity continues
    fun doSomething() {
        // launch ten coroutines for a demo, each working for a different time
        repeat(10) { i -&#62;
            mainScope.launch {
                delay((i + 1) * 200L) // variable delay 200ms, 400ms, ... etc
                println("Coroutine $i is done")
            }
        }
    }
} // class Activity ends</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// class Activity continues
    fun doSomething() {
        // launch ten coroutines for a demo, each working for a different time
        repeat(10) { i -&#62;
            mainScope.launch {
                delay((i + 1) * 200L) // variable delay 200ms, 400ms, ... etc
                println("Coroutine $i is done")
            }
        }
    }
} // class Activity ends</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val activity = Activity()
activity.doSomething() // run test function
println("Launched coroutines")
delay(500L) // delay for half a second
println("Destroying activity!")
activity.destroy() // cancels all coroutines
delay(1000) // visually confirm that they don't work</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val activity = Activity()
activity.doSomething() // run test function
println("Launched coroutines")
delay(500L) // delay for half a second
println("Destroying activity!")
activity.destroy() // cancels all coroutines
delay(1000) // visually confirm that they don't work</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Thread-local data<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/coroutine-context-and-dispatchers.html#thread-local-data" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">threadLocal.set("main")
println("Pre-main, current thread: ${Thread.currentThread()}, thread local value: '${threadLocal.get()}'")
val job = launch(Dispatchers.Default + threadLocal.asContextElement(value = "launch")) {
    println("Launch start, current thread: ${Thread.currentThread()}, thread local value: '${threadLocal.get()}'")
    yield()
    println("After yield, current thread: ${Thread.currentThread()}, thread local value: '${threadLocal.get()}'")
}
job.join()
println("Post-main, current thread: ${Thread.currentThread()}, thread local value: '${threadLocal.get()}'")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">threadLocal.set("main")
println("Pre-main, current thread: ${Thread.currentThread()}, thread local value: '${threadLocal.get()}'")
val job = launch(Dispatchers.Default + threadLocal.asContextElement(value = "launch")) {
    println("Launch start, current thread: ${Thread.currentThread()}, thread local value: '${threadLocal.get()}'")
    yield()
    println("After yield, current thread: ${Thread.currentThread()}, thread local value: '${threadLocal.get()}'")
}
job.join()
println("Post-main, current thread: ${Thread.currentThread()}, thread local value: '${threadLocal.get()}'")</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Representing multiple values<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.html#representing-multiple-values" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun simple(): List&#60;Int&#62; = listOf(1, 2, 3)
 
fun main() {
    simple().forEach { value -&#62; println(value) } 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun simple(): List&#60;Int&#62; = listOf(1, 2, 3)
 
fun main() {
    simple().forEach { value -&#62; println(value) } 
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Sequences<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun simple(): Sequence&#60;Int&#62; = sequence { // sequence builder
    for (i in 1..3) {
        Thread.sleep(100) // pretend we are computing it
        yield(i) // yield next value
    }
}
&#8203;
fun main() {
    simple().forEach { value -&#62; println(value) } 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun simple(): Sequence&#60;Int&#62; = sequence { // sequence builder
    for (i in 1..3) {
        Thread.sleep(100) // pretend we are computing it
        yield(i) // yield next value
    }
}
&#8203;
fun main() {
    simple().forEach { value -&#62; println(value) } 
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Suspending functions<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">suspend fun simple(): List&#60;Int&#62; {
    delay(1000) // pretend we are doing something asynchronous here
    return listOf(1, 2, 3)
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple().forEach { value -&#62; println(value) } 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">suspend fun simple(): List&#60;Int&#62; {
    delay(1000) // pretend we are doing something asynchronous here
    return listOf(1, 2, 3)
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple().forEach { value -&#62; println(value) } 
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Flows<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow { // flow builder
    for (i in 1..3) {
        delay(100) // pretend we are doing something useful here
        emit(i) // emit next value
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    // Launch a concurrent coroutine to check if the main thread is blocked
    launch {
        for (k in 1..3) {
            println("I'm not blocked $k")
            delay(100)
        }
    }
    // Collect the flow
    simple().collect { value -&#62; println(value) } 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun simple(): Flow&#60;Int&#62; = flow { // flow builder
    for (i in 1..3) {
        delay(100) // pretend we are doing something useful here
        emit(i) // emit next value
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    // Launch a concurrent coroutine to check if the main thread is blocked
    launch {
        for (k in 1..3) {
            println("I'm not blocked $k")
            delay(100)
        }
    }
    // Collect the flow
    simple().collect { value -&#62; println(value) } 
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Flows are cold<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.html#flows-are-cold" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow { 
    println("Flow started")
    for (i in 1..3) {
        delay(100)
        emit(i)
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    println("Calling simple function...")
    val flow = simple()
    println("Calling collect...")
    flow.collect { value -&#62; println(value) } 
    println("Calling collect again...")
    flow.collect { value -&#62; println(value) } 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun simple(): Flow&#60;Int&#62; = flow { 
    println("Flow started")
    for (i in 1..3) {
        delay(100)
        emit(i)
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    println("Calling simple function...")
    val flow = simple()
    println("Calling collect...")
    flow.collect { value -&#62; println(value) } 
    println("Calling collect again...")
    flow.collect { value -&#62; println(value) } 
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Flow cancellation basics<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.html#flow-cancellation-basics" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow { 
    for (i in 1..3) {
        delay(100)          
        println("Emitting $i")
        emit(i)
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    withTimeoutOrNull(250) { // Timeout after 250ms 
        simple().collect { value -&#62; println(value) } 
    }
    println("Done")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun simple(): Flow&#60;Int&#62; = flow { 
    for (i in 1..3) {
        delay(100)          
        println("Emitting $i")
        emit(i)
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    withTimeoutOrNull(250) { // Timeout after 250ms 
        simple().collect { value -&#62; println(value) } 
    }
    println("Done")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Flow builders<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.html#flow-builders" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Convert an integer range to a flow
(1..3).asFlow().collect { value -&#62; println(value) }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Convert an integer range to a flow
(1..3).asFlow().collect { value -&#62; println(value) }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Intermediate flow operators<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.html#intermediate-flow-operators" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">suspend fun performRequest(request: Int): String {
    delay(1000) // imitate long-running asynchronous work
    return "response $request"
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    (1..3).asFlow() // a flow of requests
        .map { request -&#62; performRequest(request) }
        .collect { response -&#62; println(response) }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">suspend fun performRequest(request: Int): String {
    delay(1000) // imitate long-running asynchronous work
    return "response $request"
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    (1..3).asFlow() // a flow of requests
        .map { request -&#62; performRequest(request) }
        .collect { response -&#62; println(response) }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Transform operator<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">(1..3).asFlow() // a flow of requests
    .transform { request -&#62;
        emit("Making request $request") 
        emit(performRequest(request)) 
    }
    .collect { response -&#62; println(response) }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">(1..3).asFlow() // a flow of requests
    .transform { request -&#62;
        emit("Making request $request") 
        emit(performRequest(request)) 
    }
    .collect { response -&#62; println(response) }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Size-limiting operators<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun numbers(): Flow&#60;Int&#62; = flow {
    try {                          
        emit(1)
        emit(2) 
        println("This line will not execute")
        emit(3)    
    } finally {
        println("Finally in numbers")
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    numbers() 
        .take(2) // take only the first two
        .collect { value -&#62; println(value) }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun numbers(): Flow&#60;Int&#62; = flow {
    try {                          
        emit(1)
        emit(2) 
        println("This line will not execute")
        emit(3)    
    } finally {
        println("Finally in numbers")
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    numbers() 
        .take(2) // take only the first two
        .collect { value -&#62; println(value) }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Terminal flow operators<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.html#terminal-flow-operators" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">&#8203;
val sum = (1..5).asFlow()
    .map { it * it } // squares of numbers from 1 to 5                           
    .reduce { a, b -&#62; a + b } // sum them (terminal operator)
println(sum)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">&#8203;
val sum = (1..5).asFlow()
    .map { it * it } // squares of numbers from 1 to 5                           
    .reduce { a, b -&#62; a + b } // sum them (terminal operator)
println(sum)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Flows are sequential<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.html#flows-are-sequential" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">&#8203;
(1..5).asFlow()
    .filter {
        println("Filter $it")
        it % 2 == 0              
    }              
    .map { 
        println("Map $it")
        "string $it"
    }.collect { 
        println("Collect $it")
    }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">&#8203;
(1..5).asFlow()
    .filter {
        println("Filter $it")
        it % 2 == 0              
    }              
    .map { 
        println("Map $it")
        "string $it"
    }.collect { 
        println("Collect $it")
    }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Flow context<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.html#flow-context" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">withContext(context) {
    simple().collect { value -&#62;
        println(value) // run in the specified context 
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">withContext(context) {
    simple().collect { value -&#62;
        println(value) // run in the specified context 
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow {
    log("Started simple flow")
    for (i in 1..3) {
        emit(i)
    }
}  
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple().collect { value -&#62; log("Collected $value") } 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun simple(): Flow&#60;Int&#62; = flow {
    log("Started simple flow")
    for (i in 1..3) {
        emit(i)
    }
}  
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple().collect { value -&#62; log("Collected $value") } 
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Wrong emission withContext<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow {
    // The WRONG way to change context for CPU-consuming code in flow builder
    kotlinx.coroutines.withContext(Dispatchers.Default) {
        for (i in 1..3) {
            Thread.sleep(100) // pretend we are computing it in CPU-consuming way
            emit(i) // emit next value
        }
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple().collect { value -&#62; println(value) } 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun simple(): Flow&#60;Int&#62; = flow {
    // The WRONG way to change context for CPU-consuming code in flow builder
    kotlinx.coroutines.withContext(Dispatchers.Default) {
        for (i in 1..3) {
            Thread.sleep(100) // pretend we are computing it in CPU-consuming way
            emit(i) // emit next value
        }
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple().collect { value -&#62; println(value) } 
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>flowOn operator<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow {
    for (i in 1..3) {
        Thread.sleep(100) // pretend we are computing it in CPU-consuming way
        log("Emitting $i")
        emit(i) // emit next value
    }
}.flowOn(Dispatchers.Default) // RIGHT way to change context for CPU-consuming code in flow builder
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple().collect { value -&#62;
        log("Collected $value") 
    } 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun simple(): Flow&#60;Int&#62; = flow {
    for (i in 1..3) {
        Thread.sleep(100) // pretend we are computing it in CPU-consuming way
        log("Emitting $i")
        emit(i) // emit next value
    }
}.flowOn(Dispatchers.Default) // RIGHT way to change context for CPU-consuming code in flow builder
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple().collect { value -&#62;
        log("Collected $value") 
    } 
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Buffering<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.html#buffering" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow {
    for (i in 1..3) {
        delay(100) // pretend we are asynchronously waiting 100 ms
        emit(i) // emit next value
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; { 
    val time = measureTimeMillis {
        simple().collect { value -&#62; 
            delay(300) // pretend we are processing it for 300 ms
            println(value) 
        } 
    }   
    println("Collected in $time ms")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun simple(): Flow&#60;Int&#62; = flow {
    for (i in 1..3) {
        delay(100) // pretend we are asynchronously waiting 100 ms
        emit(i) // emit next value
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; { 
    val time = measureTimeMillis {
        simple().collect { value -&#62; 
            delay(300) // pretend we are processing it for 300 ms
            println(value) 
        } 
    }   
    println("Collected in $time ms")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val time = measureTimeMillis {
    simple()
        .buffer() // buffer emissions, don't wait
        .collect { value -&#62; 
            delay(300) // pretend we are processing it for 300 ms
            println(value) 
        } 
}   
println("Collected in $time ms")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val time = measureTimeMillis {
    simple()
        .buffer() // buffer emissions, don't wait
        .collect { value -&#62; 
            delay(300) // pretend we are processing it for 300 ms
            println(value) 
        } 
}   
println("Collected in $time ms")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Conflation<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val time = measureTimeMillis {
    simple()
        .conflate() // conflate emissions, don't process each one
        .collect { value -&#62; 
            delay(300) // pretend we are processing it for 300 ms
            println(value) 
        } 
}   
println("Collected in $time ms")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val time = measureTimeMillis {
    simple()
        .conflate() // conflate emissions, don't process each one
        .collect { value -&#62; 
            delay(300) // pretend we are processing it for 300 ms
            println(value) 
        } 
}   
println("Collected in $time ms")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Processing the latest value<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val time = measureTimeMillis {
    simple()
        .collectLatest { value -&#62; // cancel &#38; restart on the latest value
            println("Collecting $value") 
            delay(300) // pretend we are processing it for 300 ms
            println("Done $value") 
        } 
}   
println("Collected in $time ms")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val time = measureTimeMillis {
    simple()
        .collectLatest { value -&#62; // cancel &#38; restart on the latest value
            println("Collecting $value") 
            delay(300) // pretend we are processing it for 300 ms
            println("Done $value") 
        } 
}   
println("Collected in $time ms")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Zip<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">&#8203;
val nums = (1..3).asFlow() // numbers 1..3
val strs = flowOf("one", "two", "three") // strings 
nums.zip(strs) { a, b -&#62; "$a -&#62; $b" } // compose a single string
    .collect { println(it) } // collect and print</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">&#8203;
val nums = (1..3).asFlow() // numbers 1..3
val strs = flowOf("one", "two", "three") // strings 
nums.zip(strs) { a, b -&#62; "$a -&#62; $b" } // compose a single string
    .collect { println(it) } // collect and print</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Combine<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">&#8203;
val nums = (1..3).asFlow().onEach { delay(300) } // numbers 1..3 every 300 ms
val strs = flowOf("one", "two", "three").onEach { delay(400) } // strings every 400 ms
val startTime = System.currentTimeMillis() // remember the start time 
nums.zip(strs) { a, b -&#62; "$a -&#62; $b" } // compose a single string with "zip"
    .collect { value -&#62; // collect and print 
        println("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">&#8203;
val nums = (1..3).asFlow().onEach { delay(300) } // numbers 1..3 every 300 ms
val strs = flowOf("one", "two", "three").onEach { delay(400) } // strings every 400 ms
val startTime = System.currentTimeMillis() // remember the start time 
nums.zip(strs) { a, b -&#62; "$a -&#62; $b" } // compose a single string with "zip"
    .collect { value -&#62; // collect and print 
        println("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">&#8203;
val nums = (1..3).asFlow().onEach { delay(300) } // numbers 1..3 every 300 ms
val strs = flowOf("one", "two", "three").onEach { delay(400) } // strings every 400 ms          
val startTime = System.currentTimeMillis() // remember the start time 
nums.combine(strs) { a, b -&#62; "$a -&#62; $b" } // compose a single string with "combine"
    .collect { value -&#62; // collect and print 
        println("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">&#8203;
val nums = (1..3).asFlow().onEach { delay(300) } // numbers 1..3 every 300 ms
val strs = flowOf("one", "two", "three").onEach { delay(400) } // strings every 400 ms          
val startTime = System.currentTimeMillis() // remember the start time 
nums.combine(strs) { a, b -&#62; "$a -&#62; $b" } // compose a single string with "combine"
    .collect { value -&#62; // collect and print 
        println("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Flattening flows<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.html#flattening-flows" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun requestFlow(i: Int): Flow&#60;String&#62; = flow {
    emit("$i: First") 
    delay(500) // wait 500 ms
    emit("$i: Second")    
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun requestFlow(i: Int): Flow&#60;String&#62; = flow {
    emit("$i: First") 
    delay(500) // wait 500 ms
    emit("$i: Second")    
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">(1..3).asFlow().map { requestFlow(it) }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">(1..3).asFlow().map { requestFlow(it) }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>flatMapConcat<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val startTime = System.currentTimeMillis() // remember the start time 
(1..3).asFlow().onEach { delay(100) } // a number every 100 ms 
    .flatMapConcat { requestFlow(it) }                                                                           
    .collect { value -&#62; // collect and print 
        println("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val startTime = System.currentTimeMillis() // remember the start time 
(1..3).asFlow().onEach { delay(100) } // a number every 100 ms 
    .flatMapConcat { requestFlow(it) }                                                                           
    .collect { value -&#62; // collect and print 
        println("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>flatMapMerge<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val startTime = System.currentTimeMillis() // remember the start time 
(1..3).asFlow().onEach { delay(100) } // a number every 100 ms 
    .flatMapMerge { requestFlow(it) }                                                                           
    .collect { value -&#62; // collect and print 
        println("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val startTime = System.currentTimeMillis() // remember the start time 
(1..3).asFlow().onEach { delay(100) } // a number every 100 ms 
    .flatMapMerge { requestFlow(it) }                                                                           
    .collect { value -&#62; // collect and print 
        println("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>flatMapLatest<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val startTime = System.currentTimeMillis() // remember the start time 
(1..3).asFlow().onEach { delay(100) } // a number every 100 ms 
    .flatMapLatest { requestFlow(it) }                                                                           
    .collect { value -&#62; // collect and print 
        println("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val startTime = System.currentTimeMillis() // remember the start time 
(1..3).asFlow().onEach { delay(100) } // a number every 100 ms 
    .flatMapLatest { requestFlow(it) }                                                                           
    .collect { value -&#62; // collect and print 
        println("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Collector try and catch<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow {
    for (i in 1..3) {
        println("Emitting $i")
        emit(i) // emit next value
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    try {
        simple().collect { value -&#62;         
            println(value)
            check(value &#60;= 1) { "Collected $value" }
        }
    } catch (e: Throwable) {
        println("Caught $e")
    } 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun simple(): Flow&#60;Int&#62; = flow {
    for (i in 1..3) {
        println("Emitting $i")
        emit(i) // emit next value
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    try {
        simple().collect { value -&#62;         
            println(value)
            check(value &#60;= 1) { "Collected $value" }
        }
    } catch (e: Throwable) {
        println("Caught $e")
    } 
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Everything is caught<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun simple(): Flow&#60;String&#62; = 
    flow {
        for (i in 1..3) {
            println("Emitting $i")
            emit(i) // emit next value
        }
    }
    .map { value -&#62;
        check(value &#60;= 1) { "Crashed on $value" }                 
        "string $value"
    }
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    try {
        simple().collect { value -&#62; println(value) }
    } catch (e: Throwable) {
        println("Caught $e")
    } 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun simple(): Flow&#60;String&#62; = 
    flow {
        for (i in 1..3) {
            println("Emitting $i")
            emit(i) // emit next value
        }
    }
    .map { value -&#62;
        check(value &#60;= 1) { "Crashed on $value" }                 
        "string $value"
    }
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    try {
        simple().collect { value -&#62; println(value) }
    } catch (e: Throwable) {
        println("Caught $e")
    } 
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Exception transparency<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.html#exception-transparency" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">simple()
    .catch { e -&#62; emit("Caught $e") } // emit on exception
    .collect { value -&#62; println(value) }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">simple()
    .catch { e -&#62; emit("Caught $e") } // emit on exception
    .collect { value -&#62; println(value) }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Transparent catch<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow {
    for (i in 1..3) {
        println("Emitting $i")
        emit(i)
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple()
        .catch { e -&#62; println("Caught $e") } // does not catch downstream exceptions
        .collect { value -&#62;
            check(value &#60;= 1) { "Collected $value" }                 
            println(value) 
        }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun simple(): Flow&#60;Int&#62; = flow {
    for (i in 1..3) {
        println("Emitting $i")
        emit(i)
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple()
        .catch { e -&#62; println("Caught $e") } // does not catch downstream exceptions
        .collect { value -&#62;
            check(value &#60;= 1) { "Collected $value" }                 
            println(value) 
        }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Catching declaratively<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">simple()
    .onEach { value -&#62;
        check(value &#60;= 1) { "Collected $value" }                 
        println(value) 
    }
    .catch { e -&#62; println("Caught $e") }
    .collect()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">simple()
    .onEach { value -&#62;
        check(value &#60;= 1) { "Collected $value" }                 
        println(value) 
    }
    .catch { e -&#62; println("Caught $e") }
    .collect()</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Imperative finally block<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun simple(): Flow&#60;Int&#62; = (1..3).asFlow()
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    try {
        simple().collect { value -&#62; println(value) }
    } finally {
        println("Done")
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun simple(): Flow&#60;Int&#62; = (1..3).asFlow()
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    try {
        simple().collect { value -&#62; println(value) }
    } finally {
        println("Done")
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Declarative handling<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">simple()
    .onCompletion { println("Done") }
    .collect { value -&#62; println(value) }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">simple()
    .onCompletion { println("Done") }
    .collect { value -&#62; println(value) }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow {
    emit(1)
    throw RuntimeException()
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple()
        .onCompletion { cause -&#62; if (cause != null) println("Flow completed exceptionally") }
        .catch { cause -&#62; println("Caught exception") }
        .collect { value -&#62; println(value) }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun simple(): Flow&#60;Int&#62; = flow {
    emit(1)
    throw RuntimeException()
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple()
        .onCompletion { cause -&#62; if (cause != null) println("Flow completed exceptionally") }
        .catch { cause -&#62; println("Caught exception") }
        .collect { value -&#62; println(value) }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Successful completion<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun simple(): Flow&#60;Int&#62; = (1..3).asFlow()
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple()
        .onCompletion { cause -&#62; println("Flow completed with $cause") }
        .collect { value -&#62;
            check(value &#60;= 1) { "Collected $value" }                 
            println(value) 
        }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun simple(): Flow&#60;Int&#62; = (1..3).asFlow()
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple()
        .onCompletion { cause -&#62; println("Flow completed with $cause") }
        .collect { value -&#62;
            check(value &#60;= 1) { "Collected $value" }                 
            println(value) 
        }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Launching flow<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.html#launching-flow" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Imitate a flow of events
fun events(): Flow&#60;Int&#62; = (1..3).asFlow().onEach { delay(100) }
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    events()
        .onEach { event -&#62; println("Event: $event") }
        .collect() // &#60;--- Collecting the flow waits
    println("Done")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Imitate a flow of events
fun events(): Flow&#60;Int&#62; = (1..3).asFlow().onEach { delay(100) }
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    events()
        .onEach { event -&#62; println("Event: $event") }
        .collect() // &#60;--- Collecting the flow waits
    println("Done")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun main() = runBlocking&#60;Unit&#62; {
    events()
        .onEach { event -&#62; println("Event: $event") }
        .launchIn(this) // &#60;--- Launching the flow in a separate coroutine
    println("Done")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun main() = runBlocking&#60;Unit&#62; {
    events()
        .onEach { event -&#62; println("Event: $event") }
        .launchIn(this) // &#60;--- Launching the flow in a separate coroutine
    println("Done")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Flow cancellation checks<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.html#flow-cancellation-checks" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun foo(): Flow&#60;Int&#62; = flow { 
    for (i in 1..5) {
        println("Emitting $i") 
        emit(i) 
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    foo().collect { value -&#62; 
        if (value == 3) cancel()  
        println(value)
    } 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun foo(): Flow&#60;Int&#62; = flow { 
    for (i in 1..5) {
        println("Emitting $i") 
        emit(i) 
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    foo().collect { value -&#62; 
        if (value == 3) cancel()  
        println(value)
    } 
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun main() = runBlocking&#60;Unit&#62; {
    (1..5).asFlow().collect { value -&#62; 
        if (value == 3) cancel()  
        println(value)
    } 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun main() = runBlocking&#60;Unit&#62; {
    (1..5).asFlow().collect { value -&#62; 
        if (value == 3) cancel()  
        println(value)
    } 
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Making busy flow cancellable<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/flow.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun main() = runBlocking&#60;Unit&#62; {
    (1..5).asFlow().cancellable().collect { value -&#62; 
        if (value == 3) cancel()  
        println(value)
    } 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun main() = runBlocking&#60;Unit&#62; {
    (1..5).asFlow().cancellable().collect { value -&#62; 
        if (value == 3) cancel()  
        println(value)
    } 
}</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Channel basics<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/channels.html#channel-basics" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val channel = Channel&#60;Int&#62;()
launch {
    // this might be heavy CPU-consuming computation or async logic, we'll just send five squares
    for (x in 1..5) channel.send(x * x)
}
// here we print five received integers:
repeat(5) { println(channel.receive()) }
println("Done!")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val channel = Channel&#60;Int&#62;()
launch {
    // this might be heavy CPU-consuming computation or async logic, we'll just send five squares
    for (x in 1..5) channel.send(x * x)
}
// here we print five received integers:
repeat(5) { println(channel.receive()) }
println("Done!")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Closing and iteration over channels<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/channels.html#closing-and-iteration-over-channels" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val channel = Channel&#60;Int&#62;()
launch {
    for (x in 1..5) channel.send(x * x)
    channel.close() // we're done sending
}
// here we print received values using `for` loop (until the channel is closed)
for (y in channel) println(y)
println("Done!")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val channel = Channel&#60;Int&#62;()
launch {
    for (x in 1..5) channel.send(x * x)
    channel.close() // we're done sending
}
// here we print received values using `for` loop (until the channel is closed)
for (y in channel) println(y)
println("Done!")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Building channel producers<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/channels.html#building-channel-producers" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val squares = produceSquares()
squares.consumeEach { println(it) }
println("Done!")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val squares = produceSquares()
squares.consumeEach { println(it) }
println("Done!")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Pipelines<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/channels.html#pipelines" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun CoroutineScope.produceNumbers() = produce&#60;Int&#62; {
    var x = 1
    while (true) send(x++) // infinite stream of integers starting from 1
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun CoroutineScope.produceNumbers() = produce&#60;Int&#62; {
    var x = 1
    while (true) send(x++) // infinite stream of integers starting from 1
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun CoroutineScope.square(numbers: ReceiveChannel&#60;Int&#62;): ReceiveChannel&#60;Int&#62; = produce {
    for (x in numbers) send(x * x)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun CoroutineScope.square(numbers: ReceiveChannel&#60;Int&#62;): ReceiveChannel&#60;Int&#62; = produce {
    for (x in numbers) send(x * x)
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = produceNumbers() // produces integers from 1 and on
val squares = square(numbers) // squares integers
repeat(5) {
    println(squares.receive()) // print first five
}
println("Done!") // we are done
coroutineContext.cancelChildren() // cancel children coroutines</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = produceNumbers() // produces integers from 1 and on
val squares = square(numbers) // squares integers
repeat(5) {
    println(squares.receive()) // print first five
}
println("Done!") // we are done
coroutineContext.cancelChildren() // cancel children coroutines</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Prime numbers with pipeline<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/channels.html#prime-numbers-with-pipeline" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun CoroutineScope.numbersFrom(start: Int) = produce&#60;Int&#62; {
    var x = start
    while (true) send(x++) // infinite stream of integers from start
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun CoroutineScope.numbersFrom(start: Int) = produce&#60;Int&#62; {
    var x = start
    while (true) send(x++) // infinite stream of integers from start
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun CoroutineScope.filter(numbers: ReceiveChannel&#60;Int&#62;, prime: Int) = produce&#60;Int&#62; {
    for (x in numbers) if (x % prime != 0) send(x)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun CoroutineScope.filter(numbers: ReceiveChannel&#60;Int&#62;, prime: Int) = produce&#60;Int&#62; {
    for (x in numbers) if (x % prime != 0) send(x)
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">var cur = numbersFrom(2)
repeat(10) {
    val prime = cur.receive()
    println(prime)
    cur = filter(cur, prime)
}
coroutineContext.cancelChildren() // cancel all children to let main finish</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">var cur = numbersFrom(2)
repeat(10) {
    val prime = cur.receive()
    println(prime)
    cur = filter(cur, prime)
}
coroutineContext.cancelChildren() // cancel all children to let main finish</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Fan-out<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/channels.html#fan-out" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun CoroutineScope.produceNumbers() = produce&#60;Int&#62; {
    var x = 1 // start from 1
    while (true) {
        send(x++) // produce next
        delay(100) // wait 0.1s
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun CoroutineScope.produceNumbers() = produce&#60;Int&#62; {
    var x = 1 // start from 1
    while (true) {
        send(x++) // produce next
        delay(100) // wait 0.1s
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun CoroutineScope.launchProcessor(id: Int, channel: ReceiveChannel&#60;Int&#62;) = launch {
    for (msg in channel) {
        println("Processor #$id received $msg")
    }    
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun CoroutineScope.launchProcessor(id: Int, channel: ReceiveChannel&#60;Int&#62;) = launch {
    for (msg in channel) {
        println("Processor #$id received $msg")
    }    
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val producer = produceNumbers()
repeat(5) { launchProcessor(it, producer) }
delay(950)
producer.cancel() // cancel producer coroutine and thus kill them all</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val producer = produceNumbers()
repeat(5) { launchProcessor(it, producer) }
delay(950)
producer.cancel() // cancel producer coroutine and thus kill them all</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Fan-in<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/channels.html#fan-in" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">suspend fun sendString(channel: SendChannel&#60;String&#62;, s: String, time: Long) {
    while (true) {
        delay(time)
        channel.send(s)
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">suspend fun sendString(channel: SendChannel&#60;String&#62;, s: String, time: Long) {
    while (true) {
        delay(time)
        channel.send(s)
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val channel = Channel&#60;String&#62;()
launch { sendString(channel, "foo", 200L) }
launch { sendString(channel, "BAR!", 500L) }
repeat(6) { // receive first six
    println(channel.receive())
}
coroutineContext.cancelChildren() // cancel all children to let main finish</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val channel = Channel&#60;String&#62;()
launch { sendString(channel, "foo", 200L) }
launch { sendString(channel, "BAR!", 500L) }
repeat(6) { // receive first six
    println(channel.receive())
}
coroutineContext.cancelChildren() // cancel all children to let main finish</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Buffered channels<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/channels.html#buffered-channels" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val channel = Channel&#60;Int&#62;(4) // create buffered channel
val sender = launch { // launch sender coroutine
    repeat(10) {
        println("Sending $it") // print before sending each element
        channel.send(it) // will suspend when buffer is full
    }
}
// don't receive anything... just wait....
delay(1000)
sender.cancel() // cancel sender coroutine</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val channel = Channel&#60;Int&#62;(4) // create buffered channel
val sender = launch { // launch sender coroutine
    repeat(10) {
        println("Sending $it") // print before sending each element
        channel.send(it) // will suspend when buffer is full
    }
}
// don't receive anything... just wait....
delay(1000)
sender.cancel() // cancel sender coroutine</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Channels are fair<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/channels.html#channels-are-fair" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">data class Ball(var hits: Int)
&#8203;
fun main() = runBlocking {
    val table = Channel&#60;Ball&#62;() // a shared table
    launch { player("ping", table) }
    launch { player("pong", table) }
    table.send(Ball(0)) // serve the ball
    delay(1000) // delay 1 second
    coroutineContext.cancelChildren() // game over, cancel them
}
&#8203;
suspend fun player(name: String, table: Channel&#60;Ball&#62;) {
    for (ball in table) { // receive the ball in a loop
        ball.hits++
        println("$name $ball")
        delay(300) // wait a bit
        table.send(ball) // send the ball back
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">data class Ball(var hits: Int)
&#8203;
fun main() = runBlocking {
    val table = Channel&#60;Ball&#62;() // a shared table
    launch { player("ping", table) }
    launch { player("pong", table) }
    table.send(Ball(0)) // serve the ball
    delay(1000) // delay 1 second
    coroutineContext.cancelChildren() // game over, cancel them
}
&#8203;
suspend fun player(name: String, table: Channel&#60;Ball&#62;) {
    for (ball in table) { // receive the ball in a loop
        ball.hits++
        println("$name $ball")
        delay(300) // wait a bit
        table.send(ball) // send the ball back
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Ticker channels<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/channels.html#ticker-channels" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlinx.coroutines.*
import kotlinx.coroutines.channels.*
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    val tickerChannel = ticker(delayMillis = 100, initialDelayMillis = 0) // create ticker channel
    var nextElement = withTimeoutOrNull(1) { tickerChannel.receive() }
    println("Initial element is available immediately: $nextElement") // no initial delay
&#8203;
    nextElement = withTimeoutOrNull(50) { tickerChannel.receive() } // all subsequent elements have 100ms delay
    println("Next element is not ready in 50 ms: $nextElement")
&#8203;
    nextElement = withTimeoutOrNull(60) { tickerChannel.receive() }
    println("Next element is ready in 100 ms: $nextElement")
&#8203;
    // Emulate large consumption delays
    println("Consumer pauses for 150ms")
    delay(150)
    // Next element is available immediately
    nextElement = withTimeoutOrNull(1) { tickerChannel.receive() }
    println("Next element is available immediately after large consumer delay: $nextElement")
    // Note that the pause between `receive` calls is taken into account and next element arrives faster
    nextElement = withTimeoutOrNull(60) { tickerChannel.receive() } 
    println("Next element is ready in 50ms after consumer pause in 150ms: $nextElement")
&#8203;
    tickerChannel.cancel() // indicate that no more elements are needed
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlinx.coroutines.*
import kotlinx.coroutines.channels.*
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    val tickerChannel = ticker(delayMillis = 100, initialDelayMillis = 0) // create ticker channel
    var nextElement = withTimeoutOrNull(1) { tickerChannel.receive() }
    println("Initial element is available immediately: $nextElement") // no initial delay
&#8203;
    nextElement = withTimeoutOrNull(50) { tickerChannel.receive() } // all subsequent elements have 100ms delay
    println("Next element is not ready in 50 ms: $nextElement")
&#8203;
    nextElement = withTimeoutOrNull(60) { tickerChannel.receive() }
    println("Next element is ready in 100 ms: $nextElement")
&#8203;
    // Emulate large consumption delays
    println("Consumer pauses for 150ms")
    delay(150)
    // Next element is available immediately
    nextElement = withTimeoutOrNull(1) { tickerChannel.receive() }
    println("Next element is available immediately after large consumer delay: $nextElement")
    // Note that the pause between `receive` calls is taken into account and next element arrives faster
    nextElement = withTimeoutOrNull(60) { tickerChannel.receive() } 
    println("Next element is ready in 50ms after consumer pause in 150ms: $nextElement")
&#8203;
    tickerChannel.cancel() // indicate that no more elements are needed
}</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Exception propagation<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/exception-handling.html#exception-propagation" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking {
    val job = GlobalScope.launch { // root coroutine with launch
        println("Throwing exception from launch")
        throw IndexOutOfBoundsException() // Will be printed to the console by Thread.defaultUncaughtExceptionHandler
    }
    job.join()
    println("Joined failed job")
    val deferred = GlobalScope.async { // root coroutine with async
        println("Throwing exception from async")
        throw ArithmeticException() // Nothing is printed, relying on user to call await
    }
    try {
        deferred.await()
        println("Unreached")
    } catch (e: ArithmeticException) {
        println("Caught ArithmeticException")
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking {
    val job = GlobalScope.launch { // root coroutine with launch
        println("Throwing exception from launch")
        throw IndexOutOfBoundsException() // Will be printed to the console by Thread.defaultUncaughtExceptionHandler
    }
    job.join()
    println("Joined failed job")
    val deferred = GlobalScope.async { // root coroutine with async
        println("Throwing exception from async")
        throw ArithmeticException() // Nothing is printed, relying on user to call await
    }
    try {
        deferred.await()
        println("Unreached")
    } catch (e: ArithmeticException) {
        println("Caught ArithmeticException")
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>CoroutineExceptionHandler<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/exception-handling.html#coroutineexceptionhandler" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val handler = CoroutineExceptionHandler { _, exception -&#62; 
    println("CoroutineExceptionHandler got $exception") 
}
val job = GlobalScope.launch(handler) { // root coroutine, running in GlobalScope
    throw AssertionError()
}
val deferred = GlobalScope.async(handler) { // also root, but async instead of launch
    throw ArithmeticException() // Nothing will be printed, relying on user to call deferred.await()
}
joinAll(job, deferred)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val handler = CoroutineExceptionHandler { _, exception -&#62; 
    println("CoroutineExceptionHandler got $exception") 
}
val job = GlobalScope.launch(handler) { // root coroutine, running in GlobalScope
    throw AssertionError()
}
val deferred = GlobalScope.async(handler) { // also root, but async instead of launch
    throw ArithmeticException() // Nothing will be printed, relying on user to call deferred.await()
}
joinAll(job, deferred)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Cancellation and exceptions<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/exception-handling.html#cancellation-and-exceptions" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val job = launch {
    val child = launch {
        try {
            delay(Long.MAX_VALUE)
        } finally {
            println("Child is cancelled")
        }
    }
    yield()
    println("Cancelling child")
    child.cancel()
    child.join()
    yield()
    println("Parent is not cancelled")
}
job.join()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val job = launch {
    val child = launch {
        try {
            delay(Long.MAX_VALUE)
        } finally {
            println("Child is cancelled")
        }
    }
    yield()
    println("Cancelling child")
    child.cancel()
    child.join()
    yield()
    println("Parent is not cancelled")
}
job.join()</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val handler = CoroutineExceptionHandler { _, exception -&#62; 
    println("CoroutineExceptionHandler got $exception") 
}
val job = GlobalScope.launch(handler) {
    launch { // the first child
        try {
            delay(Long.MAX_VALUE)
        } finally {
            withContext(NonCancellable) {
                println("Children are cancelled, but exception is not handled until all children terminate")
                delay(100)
                println("The first child finished its non cancellable block")
            }
        }
    }
    launch { // the second child
        delay(10)
        println("Second child throws an exception")
        throw ArithmeticException()
    }
}
job.join()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val handler = CoroutineExceptionHandler { _, exception -&#62; 
    println("CoroutineExceptionHandler got $exception") 
}
val job = GlobalScope.launch(handler) {
    launch { // the first child
        try {
            delay(Long.MAX_VALUE)
        } finally {
            withContext(NonCancellable) {
                println("Children are cancelled, but exception is not handled until all children terminate")
                delay(100)
                println("The first child finished its non cancellable block")
            }
        }
    }
    launch { // the second child
        delay(10)
        println("Second child throws an exception")
        throw ArithmeticException()
    }
}
job.join()</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Exceptions aggregation<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/exception-handling.html#exceptions-aggregation" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlinx.coroutines.*
import java.io.*
&#8203;
fun main() = runBlocking {
    val handler = CoroutineExceptionHandler { _, exception -&#62;
        println("CoroutineExceptionHandler got $exception with suppressed ${exception.suppressed.contentToString()}")
    }
    val job = GlobalScope.launch(handler) {
        launch {
            try {
                delay(Long.MAX_VALUE) // it gets cancelled when another sibling fails with IOException
            } finally {
                throw ArithmeticException() // the second exception
            }
        }
        launch {
            delay(100)
            throw IOException() // the first exception
        }
        delay(Long.MAX_VALUE)
    }
    job.join()  
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlinx.coroutines.*
import java.io.*
&#8203;
fun main() = runBlocking {
    val handler = CoroutineExceptionHandler { _, exception -&#62;
        println("CoroutineExceptionHandler got $exception with suppressed ${exception.suppressed.contentToString()}")
    }
    val job = GlobalScope.launch(handler) {
        launch {
            try {
                delay(Long.MAX_VALUE) // it gets cancelled when another sibling fails with IOException
            } finally {
                throw ArithmeticException() // the second exception
            }
        }
        launch {
            delay(100)
            throw IOException() // the first exception
        }
        delay(Long.MAX_VALUE)
    }
    job.join()  
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val handler = CoroutineExceptionHandler { _, exception -&#62;
    println("CoroutineExceptionHandler got $exception")
}
val job = GlobalScope.launch(handler) {
    val inner = launch { // all this stack of coroutines will get cancelled
        launch {
            launch {
                throw IOException() // the original exception
            }
        }
    }
    try {
        inner.join()
    } catch (e: CancellationException) {
        println("Rethrowing CancellationException with original cause")
        throw e // cancellation exception is rethrown, yet the original IOException gets to the handler  
    }
}
job.join()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val handler = CoroutineExceptionHandler { _, exception -&#62;
    println("CoroutineExceptionHandler got $exception")
}
val job = GlobalScope.launch(handler) {
    val inner = launch { // all this stack of coroutines will get cancelled
        launch {
            launch {
                throw IOException() // the original exception
            }
        }
    }
    try {
        inner.join()
    } catch (e: CancellationException) {
        println("Rethrowing CancellationException with original cause")
        throw e // cancellation exception is rethrown, yet the original IOException gets to the handler  
    }
}
job.join()</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Supervision job<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/exception-handling.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking {
    val supervisor = SupervisorJob()
    with(CoroutineScope(coroutineContext + supervisor)) {
        // launch the first child -- its exception is ignored for this example (don't do this in practice!)
        val firstChild = launch(CoroutineExceptionHandler { _, _ -&#62;  }) {
            println("The first child is failing")
            throw AssertionError("The first child is cancelled")
        }
        // launch the second child
        val secondChild = launch {
            firstChild.join()
            // Cancellation of the first child is not propagated to the second child
            println("The first child is cancelled: ${firstChild.isCancelled}, but the second one is still active")
            try {
                delay(Long.MAX_VALUE)
            } finally {
                // But cancellation of the supervisor is propagated
                println("The second child is cancelled because the supervisor was cancelled")
            }
        }
        // wait until the first child fails &#38; completes
        firstChild.join()
        println("Cancelling the supervisor")
        supervisor.cancel()
        secondChild.join()
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking {
    val supervisor = SupervisorJob()
    with(CoroutineScope(coroutineContext + supervisor)) {
        // launch the first child -- its exception is ignored for this example (don't do this in practice!)
        val firstChild = launch(CoroutineExceptionHandler { _, _ -&#62;  }) {
            println("The first child is failing")
            throw AssertionError("The first child is cancelled")
        }
        // launch the second child
        val secondChild = launch {
            firstChild.join()
            // Cancellation of the first child is not propagated to the second child
            println("The first child is cancelled: ${firstChild.isCancelled}, but the second one is still active")
            try {
                delay(Long.MAX_VALUE)
            } finally {
                // But cancellation of the supervisor is propagated
                println("The second child is cancelled because the supervisor was cancelled")
            }
        }
        // wait until the first child fails &#38; completes
        firstChild.join()
        println("Cancelling the supervisor")
        supervisor.cancel()
        secondChild.join()
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Supervision scope<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/exception-handling.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlin.coroutines.*
import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking {
    try {
        supervisorScope {
            val child = launch {
                try {
                    println("The child is sleeping")
                    delay(Long.MAX_VALUE)
                } finally {
                    println("The child is cancelled")
                }
            }
            // Give our child a chance to execute and print using yield 
            yield()
            println("Throwing an exception from the scope")
            throw AssertionError()
        }
    } catch(e: AssertionError) {
        println("Caught an assertion error")
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlin.coroutines.*
import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking {
    try {
        supervisorScope {
            val child = launch {
                try {
                    println("The child is sleeping")
                    delay(Long.MAX_VALUE)
                } finally {
                    println("The child is cancelled")
                }
            }
            // Give our child a chance to execute and print using yield 
            yield()
            println("Throwing an exception from the scope")
            throw AssertionError()
        }
    } catch(e: AssertionError) {
        println("Caught an assertion error")
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Exceptions in supervised coroutines<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/exception-handling.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlin.coroutines.*
import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking {
    val handler = CoroutineExceptionHandler { _, exception -&#62; 
        println("CoroutineExceptionHandler got $exception") 
    }
    supervisorScope {
        val child = launch(handler) {
            println("The child throws an exception")
            throw AssertionError()
        }
        println("The scope is completing")
    }
    println("The scope is completed")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlin.coroutines.*
import kotlinx.coroutines.*
&#8203;
fun main() = runBlocking {
    val handler = CoroutineExceptionHandler { _, exception -&#62; 
        println("CoroutineExceptionHandler got $exception") 
    }
    supervisorScope {
        val child = launch(handler) {
            println("The child throws an exception")
            throw AssertionError()
        }
        println("The scope is completing")
    }
    println("The scope is completed")
}</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td colspan="2" style="text-align: center;"><h4>The problem<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/shared-mutable-state-and-concurrency.html#the-problem" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">suspend fun massiveRun(action: suspend () -&#62; Unit) {
    val n = 100  // number of coroutines to launch
    val k = 1000 // times an action is repeated by each coroutine
    val time = measureTimeMillis {
        coroutineScope { // scope for coroutines 
            repeat(n) {
                launch {
                    repeat(k) { action() }
                }
            }
        }
    }
    println("Completed ${n * k} actions in $time ms")    
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">suspend fun massiveRun(action: suspend () -&#62; Unit) {
    val n = 100  // number of coroutines to launch
    val k = 1000 // times an action is repeated by each coroutine
    val time = measureTimeMillis {
        coroutineScope { // scope for coroutines 
            repeat(n) {
                launch {
                    repeat(k) { action() }
                }
            }
        }
    }
    println("Completed ${n * k} actions in $time ms")    
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">var counter = 0
&#8203;
fun main() = runBlocking {
    withContext(Dispatchers.Default) {
        massiveRun {
            counter++
        }
    }
    println("Counter = $counter")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">var counter = 0
&#8203;
fun main() = runBlocking {
    withContext(Dispatchers.Default) {
        massiveRun {
            counter++
        }
    }
    println("Counter = $counter")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Volatiles are of no help<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/shared-mutable-state-and-concurrency.html#volatiles-are-of-no-help" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@Volatile // in Kotlin `volatile` is an annotation 
var counter = 0
&#8203;
fun main() = runBlocking {
    withContext(Dispatchers.Default) {
        massiveRun {
            counter++
        }
    }
    println("Counter = $counter")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@Volatile // in Kotlin `volatile` is an annotation 
var counter = 0
&#8203;
fun main() = runBlocking {
    withContext(Dispatchers.Default) {
        massiveRun {
            counter++
        }
    }
    println("Counter = $counter")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Thread-safe data structures<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/shared-mutable-state-and-concurrency.html#thread-safe-data-structures" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val counter = AtomicInteger()
&#8203;
fun main() = runBlocking {
    withContext(Dispatchers.Default) {
        massiveRun {
            counter.incrementAndGet()
        }
    }
    println("Counter = $counter")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val counter = AtomicInteger()
&#8203;
fun main() = runBlocking {
    withContext(Dispatchers.Default) {
        massiveRun {
            counter.incrementAndGet()
        }
    }
    println("Counter = $counter")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Thread confinement fine-grained<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/shared-mutable-state-and-concurrency.html#thread-confinement-fine-grained" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val counterContext = newSingleThreadContext("CounterContext")
var counter = 0
&#8203;
fun main() = runBlocking {
    withContext(Dispatchers.Default) {
        massiveRun {
            // confine each increment to a single-threaded context
            withContext(counterContext) {
                counter++
            }
        }
    }
    println("Counter = $counter")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val counterContext = newSingleThreadContext("CounterContext")
var counter = 0
&#8203;
fun main() = runBlocking {
    withContext(Dispatchers.Default) {
        massiveRun {
            // confine each increment to a single-threaded context
            withContext(counterContext) {
                counter++
            }
        }
    }
    println("Counter = $counter")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Thread confinement coarse-grained<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/shared-mutable-state-and-concurrency.html#thread-confinement-coarse-grained" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val counterContext = newSingleThreadContext("CounterContext")
var counter = 0
&#8203;
fun main() = runBlocking {
    // confine everything to a single-threaded context
    withContext(counterContext) {
        massiveRun {
            counter++
        }
    }
    println("Counter = $counter")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val counterContext = newSingleThreadContext("CounterContext")
var counter = 0
&#8203;
fun main() = runBlocking {
    // confine everything to a single-threaded context
    withContext(counterContext) {
        massiveRun {
            counter++
        }
    }
    println("Counter = $counter")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Mutual exclusion<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/shared-mutable-state-and-concurrency.html#mutual-exclusion" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val mutex = Mutex()
var counter = 0
&#8203;
fun main() = runBlocking {
    withContext(Dispatchers.Default) {
        massiveRun {
            // protect each increment with lock
            mutex.withLock {
                counter++
            }
        }
    }
    println("Counter = $counter")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val mutex = Mutex()
var counter = 0
&#8203;
fun main() = runBlocking {
    withContext(Dispatchers.Default) {
        massiveRun {
            // protect each increment with lock
            mutex.withLock {
                counter++
            }
        }
    }
    println("Counter = $counter")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Actors<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/shared-mutable-state-and-concurrency.html#actors" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Message types for counterActor
sealed class CounterMsg
object IncCounter : CounterMsg() // one-way message to increment counter
class GetCounter(val response: CompletableDeferred&#60;Int&#62;) : CounterMsg() // a request with reply</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Message types for counterActor
sealed class CounterMsg
object IncCounter : CounterMsg() // one-way message to increment counter
class GetCounter(val response: CompletableDeferred&#60;Int&#62;) : CounterMsg() // a request with reply</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// This function launches a new counter actor
fun CoroutineScope.counterActor() = actor&#60;CounterMsg&#62; {
    var counter = 0 // actor state
    for (msg in channel) { // iterate over incoming messages
        when (msg) {
            is IncCounter -&#62; counter++
            is GetCounter -&#62; msg.response.complete(counter)
        }
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// This function launches a new counter actor
fun CoroutineScope.counterActor() = actor&#60;CounterMsg&#62; {
    var counter = 0 // actor state
    for (msg in channel) { // iterate over incoming messages
        when (msg) {
            is IncCounter -&#62; counter++
            is GetCounter -&#62; msg.response.complete(counter)
        }
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun main() = runBlocking&#60;Unit&#62; {
    val counter = counterActor() // create the actor
    withContext(Dispatchers.Default) {
        massiveRun {
            counter.send(IncCounter)
        }
    }
    // send a message to get a counter value from an actor
    val response = CompletableDeferred&#60;Int&#62;()
    counter.send(GetCounter(response))
    println("Counter = ${response.await()}")
    counter.close() // shutdown the actor
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun main() = runBlocking&#60;Unit&#62; {
    val counter = counterActor() // create the actor
    withContext(Dispatchers.Default) {
        massiveRun {
            counter.send(IncCounter)
        }
    }
    // send a message to get a counter value from an actor
    val response = CompletableDeferred&#60;Int&#62;()
    counter.send(GetCounter(response))
    println("Counter = ${response.await()}")
    counter.close() // shutdown the actor
}</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Selecting from channels<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/select-expression.html#selecting-from-channels" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun CoroutineScope.fizz() = produce&#60;String&#62; {
    while (true) { // sends "Fizz" every 300 ms
        delay(300)
        send("Fizz")
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun CoroutineScope.fizz() = produce&#60;String&#62; {
    while (true) { // sends "Fizz" every 300 ms
        delay(300)
        send("Fizz")
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun CoroutineScope.buzz() = produce&#60;String&#62; {
    while (true) { // sends "Buzz!" every 500 ms
        delay(500)
        send("Buzz!")
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun CoroutineScope.buzz() = produce&#60;String&#62; {
    while (true) { // sends "Buzz!" every 500 ms
        delay(500)
        send("Buzz!")
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">suspend fun selectFizzBuzz(fizz: ReceiveChannel&#60;String&#62;, buzz: ReceiveChannel&#60;String&#62;) {
    select&#60;Unit&#62; { // &#60;Unit&#62; means that this select expression does not produce any result 
        fizz.onReceive { value -&#62;  // this is the first select clause
            println("fizz -&#62; '$value'")
        }
        buzz.onReceive { value -&#62;  // this is the second select clause
            println("buzz -&#62; '$value'")
        }
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">suspend fun selectFizzBuzz(fizz: ReceiveChannel&#60;String&#62;, buzz: ReceiveChannel&#60;String&#62;) {
    select&#60;Unit&#62; { // &#60;Unit&#62; means that this select expression does not produce any result 
        fizz.onReceive { value -&#62;  // this is the first select clause
            println("fizz -&#62; '$value'")
        }
        buzz.onReceive { value -&#62;  // this is the second select clause
            println("buzz -&#62; '$value'")
        }
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val fizz = fizz()
val buzz = buzz()
repeat(7) {
    selectFizzBuzz(fizz, buzz)
}
coroutineContext.cancelChildren() // cancel fizz &#38; buzz coroutines</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val fizz = fizz()
val buzz = buzz()
repeat(7) {
    selectFizzBuzz(fizz, buzz)
}
coroutineContext.cancelChildren() // cancel fizz &#38; buzz coroutines</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Selecting on close<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/select-expression.html#selecting-on-close" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">suspend fun selectAorB(a: ReceiveChannel&#60;String&#62;, b: ReceiveChannel&#60;String&#62;): String =
    select&#60;String&#62; {
        a.onReceiveOrNull { value -&#62; 
            if (value == null) 
                "Channel 'a' is closed" 
            else 
                "a -&#62; '$value'"
        }
        b.onReceiveOrNull { value -&#62; 
            if (value == null) 
                "Channel 'b' is closed"
            else    
                "b -&#62; '$value'"
        }
    }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">suspend fun selectAorB(a: ReceiveChannel&#60;String&#62;, b: ReceiveChannel&#60;String&#62;): String =
    select&#60;String&#62; {
        a.onReceiveOrNull { value -&#62; 
            if (value == null) 
                "Channel 'a' is closed" 
            else 
                "a -&#62; '$value'"
        }
        b.onReceiveOrNull { value -&#62; 
            if (value == null) 
                "Channel 'b' is closed"
            else    
                "b -&#62; '$value'"
        }
    }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val a = produce&#60;String&#62; {
    repeat(4) { send("Hello $it") }
}
val b = produce&#60;String&#62; {
    repeat(4) { send("World $it") }
}
repeat(8) { // print first eight results
    println(selectAorB(a, b))
}
coroutineContext.cancelChildren()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val a = produce&#60;String&#62; {
    repeat(4) { send("Hello $it") }
}
val b = produce&#60;String&#62; {
    repeat(4) { send("World $it") }
}
repeat(8) { // print first eight results
    println(selectAorB(a, b))
}
coroutineContext.cancelChildren()</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Selecting to send<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/select-expression.html#selecting-to-send" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun CoroutineScope.produceNumbers(side: SendChannel&#60;Int&#62;) = produce&#60;Int&#62; {
    for (num in 1..10) { // produce 10 numbers from 1 to 10
        delay(100) // every 100 ms
        select&#60;Unit&#62; {
            onSend(num) {} // Send to the primary channel
            side.onSend(num) {} // or to the side channel     
        }
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun CoroutineScope.produceNumbers(side: SendChannel&#60;Int&#62;) = produce&#60;Int&#62; {
    for (num in 1..10) { // produce 10 numbers from 1 to 10
        delay(100) // every 100 ms
        select&#60;Unit&#62; {
            onSend(num) {} // Send to the primary channel
            side.onSend(num) {} // or to the side channel     
        }
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val side = Channel&#60;Int&#62;() // allocate side channel
launch { // this is a very fast consumer for the side channel
    side.consumeEach { println("Side channel has $it") }
}
produceNumbers(side).consumeEach { 
    println("Consuming $it")
    delay(250) // let us digest the consumed number properly, do not hurry
}
println("Done consuming")
coroutineContext.cancelChildren()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val side = Channel&#60;Int&#62;() // allocate side channel
launch { // this is a very fast consumer for the side channel
    side.consumeEach { println("Side channel has $it") }
}
produceNumbers(side).consumeEach { 
    println("Consuming $it")
    delay(250) // let us digest the consumed number properly, do not hurry
}
println("Done consuming")
coroutineContext.cancelChildren()</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Selecting deferred values<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/select-expression.html#selecting-deferred-values" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun CoroutineScope.asyncString(time: Int) = async {
    delay(time.toLong())
    "Waited for $time ms"
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun CoroutineScope.asyncString(time: Int) = async {
    delay(time.toLong())
    "Waited for $time ms"
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun CoroutineScope.asyncStringsList(): List&#60;Deferred&#60;String&#62;&#62; {
    val random = Random(3)
    return List(12) { asyncString(random.nextInt(1000)) }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun CoroutineScope.asyncStringsList(): List&#60;Deferred&#60;String&#62;&#62; {
    val random = Random(3)
    return List(12) { asyncString(random.nextInt(1000)) }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val list = asyncStringsList()
val result = select&#60;String&#62; {
    list.withIndex().forEach { (index, deferred) -&#62;
        deferred.onAwait { answer -&#62;
            "Deferred $index produced answer '$answer'"
        }
    }
}
println(result)
val countActive = list.count { it.isActive }
println("$countActive coroutines are still active")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val list = asyncStringsList()
val result = select&#60;String&#62; {
    list.withIndex().forEach { (index, deferred) -&#62;
        deferred.onAwait { answer -&#62;
            "Deferred $index produced answer '$answer'"
        }
    }
}
println(result)
val countActive = list.count { it.isActive }
println("$countActive coroutines are still active")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Switch over a channel of deferred values<a class="anchor" href="https://kotlinlang.org/docs/reference/coroutines/select-expression.html#switch-over-a-channel-of-deferred-values" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun CoroutineScope.switchMapDeferreds(input: ReceiveChannel&#60;Deferred&#60;String&#62;&#62;) = produce&#60;String&#62; {
    var current = input.receive() // start with first received deferred value
    while (isActive) { // loop while not cancelled/closed
        val next = select&#60;Deferred&#60;String&#62;?&#62; { // return next deferred value from this select or null
            input.onReceiveOrNull { update -&#62;
                update // replaces next value to wait
            }
            current.onAwait { value -&#62;  
                send(value) // send value that current deferred has produced
                input.receiveOrNull() // and use the next deferred from the input channel
            }
        }
        if (next == null) {
            println("Channel was closed")
            break // out of loop
        } else {
            current = next
        }
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun CoroutineScope.switchMapDeferreds(input: ReceiveChannel&#60;Deferred&#60;String&#62;&#62;) = produce&#60;String&#62; {
    var current = input.receive() // start with first received deferred value
    while (isActive) { // loop while not cancelled/closed
        val next = select&#60;Deferred&#60;String&#62;?&#62; { // return next deferred value from this select or null
            input.onReceiveOrNull { update -&#62;
                update // replaces next value to wait
            }
            current.onAwait { value -&#62;  
                send(value) // send value that current deferred has produced
                input.receiveOrNull() // and use the next deferred from the input channel
            }
        }
        if (next == null) {
            println("Channel was closed")
            break // out of loop
        } else {
            current = next
        }
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun CoroutineScope.asyncString(str: String, time: Long) = async {
    delay(time)
    str
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun CoroutineScope.asyncString(str: String, time: Long) = async {
    delay(time)
    str
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val chan = Channel&#60;Deferred&#60;String&#62;&#62;() // the channel for test
launch { // launch printing coroutine
    for (s in switchMapDeferreds(chan)) 
    println(s) // print each received string
}
chan.send(asyncString("BEGIN", 100))
delay(200) // enough time for "BEGIN" to be produced
chan.send(asyncString("Slow", 500))
delay(100) // not enough time to produce slow
chan.send(asyncString("Replace", 100))
delay(500) // give it time before the last one
chan.send(asyncString("END", 500))
delay(1000) // give it time to process
chan.close() // close the channel ... 
delay(500) // and wait some time to let it finish</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val chan = Channel&#60;Deferred&#60;String&#62;&#62;() // the channel for test
launch { // launch printing coroutine
    for (s in switchMapDeferreds(chan)) 
    println(s) // print each received string
}
chan.send(asyncString("BEGIN", 100))
delay(200) // enough time for "BEGIN" to be produced
chan.send(asyncString("Slow", 500))
delay(100) // not enough time to produce slow
chan.send(asyncString("Replace", 100))
delay(500) // give it time before the last one
chan.send(asyncString("END", 500))
delay(1000) // give it time to process
chan.close() // close the channel ... 
delay(500) // and wait some time to let it finish</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="6_0" style="text-align:center;">Destructuring Declarations<a class="anchor" href="https://kotlinlang.org/docs/reference/multi-declarations.html#destructuring-declarations" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val (name, age) = person</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val (name, age) = person</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">println(name)
println(age)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">println(name)
println(age)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val name = person.component1()
val age = person.component2()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val name = person.component1()
val age = person.component2()</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for ((a, b) in collection) { ... }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for ((a, b) in collection) { ... }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Example: Returning Two Values from a Function<a class="anchor" href="https://kotlinlang.org/docs/reference/multi-declarations.html#example-returning-two-values-from-a-function" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">data class Result(val result: Int, val status: Status)
fun function(...): Result {
    // computations
    
    return Result(result, status)
}
&#8203;
// Now, to use this function:
val (result, status) = function(...)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">data class Result(val result: Int, val status: Status)
fun function(...): Result {
    // computations
    
    return Result(result, status)
}
&#8203;
// Now, to use this function:
val (result, status) = function(...)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Example: Destructuring Declarations and Maps<a class="anchor" href="https://kotlinlang.org/docs/reference/multi-declarations.html#example-destructuring-declarations-and-maps" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">for ((key, value) in map) {
   // do something with the key and the value
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">for ((key, value) in map) {
   // do something with the key and the value
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">operator fun &#60;K, V&#62; Map&#60;K, V&#62;.iterator(): Iterator&#60;Map.Entry&#60;K, V&#62;&#62; = entrySet().iterator()
operator fun &#60;K, V&#62; Map.Entry&#60;K, V&#62;.component1() = getKey()
operator fun &#60;K, V&#62; Map.Entry&#60;K, V&#62;.component2() = getValue()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">operator fun &#60;K, V&#62; Map&#60;K, V&#62;.iterator(): Iterator&#60;Map.Entry&#60;K, V&#62;&#62; = entrySet().iterator()
operator fun &#60;K, V&#62; Map.Entry&#60;K, V&#62;.component1() = getKey()
operator fun &#60;K, V&#62; Map.Entry&#60;K, V&#62;.component2() = getValue()</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Underscore for unused variables (since 1.1)<a class="anchor" href="https://kotlinlang.org/docs/reference/multi-declarations.html#underscore-for-unused-variables-since-11" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val (_, status) = getResult()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val (_, status) = getResult()</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Destructuring in Lambdas (since 1.1)<a class="anchor" href="https://kotlinlang.org/docs/reference/multi-declarations.html#destructuring-in-lambdas-since-11" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">map.mapValues { entry -&#62; "${entry.value}!" }
map.mapValues { (key, value) -&#62; "$value!" }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">map.mapValues { entry -&#62; "${entry.value}!" }
map.mapValues { (key, value) -&#62; "$value!" }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">{ a -&#62; ... } // one parameter
{ a, b -&#62; ... } // two parameters
{ (a, b) -&#62; ... } // a destructured pair
{ (a, b), c -&#62; ... } // a destructured pair and another parameter</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">{ a -&#62; ... } // one parameter
{ a, b -&#62; ... } // two parameters
{ (a, b) -&#62; ... } // a destructured pair
{ (a, b), c -&#62; ... } // a destructured pair and another parameter</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">map.mapValues { (_, value) -&#62; "$value!" }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">map.mapValues { (_, value) -&#62; "$value!" }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">map.mapValues { (_, value): Map.Entry&#60;Int, String&#62; -&#62; "$value!" }
&#8203;
map.mapValues { (_, value: String) -&#62; "$value!" }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">map.mapValues { (_, value): Map.Entry&#60;Int, String&#62; -&#62; "$value!" }
&#8203;
map.mapValues { (_, value: String) -&#62; "$value!" }</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="6_1" style="text-align:center;">Type Checks and Casts: 'is' and 'as'<a class="anchor" href="https://kotlinlang.org/docs/reference/typecasts.html#type-checks-and-casts-is-and-as" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>is and !is Operators<a class="anchor" href="https://kotlinlang.org/docs/reference/typecasts.html#is-and-is-operators" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">if (obj is String) {
    print(obj.length)
}
&#8203;
if (obj !is String) { // same as !(obj is String)
    print("Not a String")
}
else {
    print(obj.length)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">if (obj is String) {
    print(obj.length)
}
&#8203;
if (obj !is String) { // same as !(obj is String)
    print("Not a String")
}
else {
    print(obj.length)
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Smart Casts<a class="anchor" href="https://kotlinlang.org/docs/reference/typecasts.html#smart-casts" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun demo(x: Any) {
    if (x is String) {
        print(x.length) // x is automatically cast to String
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun demo(x: Any) {
    if (x is String) {
        print(x.length) // x is automatically cast to String
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">if (x !is String) return
&#8203;
print(x.length) // x is automatically cast to String</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">if (x !is String) return
&#8203;
print(x.length) // x is automatically cast to String</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// x is automatically cast to string on the right-hand side of `||`
if (x !is String || x.length == 0) return
&#8203;
// x is automatically cast to string on the right-hand side of `&#38;&#38;`
if (x is String &#38;&#38; x.length &#62; 0) {
    print(x.length) // x is automatically cast to String
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// x is automatically cast to string on the right-hand side of `||`
if (x !is String || x.length == 0) return
&#8203;
// x is automatically cast to string on the right-hand side of `&#38;&#38;`
if (x is String &#38;&#38; x.length &#62; 0) {
    print(x.length) // x is automatically cast to String
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">when (x) {
    is Int -&#62; print(x + 1)
    is String -&#62; print(x.length + 1)
    is IntArray -&#62; print(x.sum())
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">when (x) {
    is Int -&#62; print(x + 1)
    is String -&#62; print(x.length + 1)
    is IntArray -&#62; print(x.sum())
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>"Unsafe" cast operator<a class="anchor" href="https://kotlinlang.org/docs/reference/typecasts.html#unsafe-cast-operator" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val x: String = y as String</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val x: String = y as String</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val x: String? = y as String?</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val x: String? = y as String?</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>"Safe" (nullable) cast operator<a class="anchor" href="https://kotlinlang.org/docs/reference/typecasts.html#safe-nullable-cast-operator" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val x: String? = y as? String</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val x: String? = y as? String</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Type erasure and generic type checks<a class="anchor" href="https://kotlinlang.org/docs/reference/typecasts.html#type-erasure-and-generic-type-checks" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">if (something is List&#60;*&#62;) {
    something.forEach { println(it) } // The items are typed as `Any?`
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">if (something is List&#60;*&#62;) {
    something.forEach { println(it) } // The items are typed as `Any?`
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun handleStrings(list: List&#60;String&#62;) {
    if (list is ArrayList) {
        // `list` is smart-cast to `ArrayList&#60;String&#62;`
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun handleStrings(list: List&#60;String&#62;) {
    if (list is ArrayList) {
        // `list` is smart-cast to `ArrayList&#60;String&#62;`
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">inline fun &#60;reified A, reified B&#62; Pair&#60;*, *&#62;.asPairOf(): Pair&#60;A, B&#62;? {
    if (first !is A || second !is B) return null
    return first as A to second as B
}
&#8203;
val somePair: Pair&#60;Any?, Any?&#62; = "items" to listOf(1, 2, 3)
&#8203;
val stringToSomething = somePair.asPairOf&#60;String, Any&#62;()
val stringToInt = somePair.asPairOf&#60;String, Int&#62;()
val stringToList = somePair.asPairOf&#60;String, List&#60;*&#62;&#62;()
val stringToStringList = somePair.asPairOf&#60;String, List&#60;String&#62;&#62;() // Breaks type safety!</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">inline fun &#60;reified A, reified B&#62; Pair&#60;*, *&#62;.asPairOf(): Pair&#60;A, B&#62;? {
    if (first !is A || second !is B) return null
    return first as A to second as B
}
&#8203;
val somePair: Pair&#60;Any?, Any?&#62; = "items" to listOf(1, 2, 3)
&#8203;
val stringToSomething = somePair.asPairOf&#60;String, Any&#62;()
val stringToInt = somePair.asPairOf&#60;String, Int&#62;()
val stringToList = somePair.asPairOf&#60;String, List&#60;*&#62;&#62;()
val stringToStringList = somePair.asPairOf&#60;String, List&#60;String&#62;&#62;() // Breaks type safety!</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Unchecked casts<a class="anchor" href="https://kotlinlang.org/docs/reference/typecasts.html#unchecked-casts" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun readDictionary(file: File): Map&#60;String, *&#62; = file.inputStream().use { 
    TODO("Read a mapping of strings to arbitrary elements.")
}
&#8203;
// We saved a map with `Int`s into that file
val intsFile = File("ints.dictionary")
&#8203;
// Warning: Unchecked cast: `Map&#60;String, *&#62;` to `Map&#60;String, Int&#62;`
val intsDictionary: Map&#60;String, Int&#62; = readDictionary(intsFile) as Map&#60;String, Int&#62;</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun readDictionary(file: File): Map&#60;String, *&#62; = file.inputStream().use { 
    TODO("Read a mapping of strings to arbitrary elements.")
}
&#8203;
// We saved a map with `Int`s into that file
val intsFile = File("ints.dictionary")
&#8203;
// Warning: Unchecked cast: `Map&#60;String, *&#62;` to `Map&#60;String, Int&#62;`
val intsDictionary: Map&#60;String, Int&#62; = readDictionary(intsFile) as Map&#60;String, Int&#62;</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">inline fun &#60;reified T&#62; List&#60;*&#62;.asListOfType(): List&#60;T&#62;? =
    if (all { it is T })
        @Suppress("UNCHECKED_CAST")
        this as List&#60;T&#62; else
        null</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">inline fun &#60;reified T&#62; List&#60;*&#62;.asListOfType(): List&#60;T&#62;? =
    if (all { it is T })
        @Suppress("UNCHECKED_CAST")
        this as List&#60;T&#62; else
        null</code></pre></td>
            </tr>
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="6_2" style="text-align:center;">This Expression<a class="anchor" href="https://kotlinlang.org/docs/reference/this-expressions.html#this-expression" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Qualified this<a class="anchor" href="https://kotlinlang.org/docs/reference/this-expressions.html#qualified" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class A { // implicit label @A
    inner class B { // implicit label @B
        fun Int.foo() { // implicit label @foo
            val a = this@A // A's this
            val b = this@B // B's this
&#8203;
            val c = this // foo()'s receiver, an Int
            val c1 = this@foo // foo()'s receiver, an Int
&#8203;
            val funLit = lambda@ fun String.() {
                val d = this // funLit's receiver
            }
&#8203;
&#8203;
            val funLit2 = { s: String -&#62;
                // foo()'s receiver, since enclosing lambda expression
                // doesn't have any receiver
                val d1 = this
            }
        }
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class A { // implicit label @A
    inner class B { // implicit label @B
        fun Int.foo() { // implicit label @foo
            val a = this@A // A's this
            val b = this@B // B's this
&#8203;
            val c = this // foo()'s receiver, an Int
            val c1 = this@foo // foo()'s receiver, an Int
&#8203;
            val funLit = lambda@ fun String.() {
                val d = this // funLit's receiver
            }
&#8203;
&#8203;
            val funLit2 = { s: String -&#62;
                // foo()'s receiver, since enclosing lambda expression
                // doesn't have any receiver
                val d1 = this
            }
        }
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Implicit this<a class="anchor" href="https://kotlinlang.org/docs/reference/this-expressions.html#implicit-this" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun printLine() { println("Top-level function") }
&#8203;
class A {
    fun printLine() { println("Member function") }
&#8203;
    fun invokePrintLine(omitThis: Boolean = false)  { 
        if (omitThis) printLine()
        else this.printLine()
    }
}
&#8203;
A().invokePrintLine() // Member function
A().invokePrintLine(omitThis = true) // Top-level function</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun printLine() { println("Top-level function") }
&#8203;
class A {
    fun printLine() { println("Member function") }
&#8203;
    fun invokePrintLine(omitThis: Boolean = false)  { 
        if (omitThis) printLine()
        else this.printLine()
    }
}
&#8203;
A().invokePrintLine() // Member function
A().invokePrintLine(omitThis = true) // Top-level function</code></pre></td>
            </tr>
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="6_3" style="text-align:center;">Equality<a class="anchor" href="https://kotlinlang.org/docs/reference/equality.html#equality" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Structural equality<a class="anchor" href="https://kotlinlang.org/docs/reference/equality.html#structural-equality" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">a?.equals(b) ?: (b === null)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">a?.equals(b) ?: (b === null)</code></pre></td>
            </tr>
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="6_4" style="text-align:center;">Operator overloading<a class="anchor" href="https://kotlinlang.org/docs/reference/operator-overloading.html#operator-overloading" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Unary prefix operators<a class="anchor" href="https://kotlinlang.org/docs/reference/operator-overloading.html#unary-prefix-operators" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">data class Point(val x: Int, val y: Int)
&#8203;
operator fun Point.unaryMinus() = Point(-x, -y)
&#8203;
val point = Point(10, 20)
&#8203;
fun main() {
   println(-point)  // prints "Point(x=-10, y=-20)"
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">data class Point(val x: Int, val y: Int)
&#8203;
operator fun Point.unaryMinus() = Point(-x, -y)
&#8203;
val point = Point(10, 20)
&#8203;
fun main() {
   println(-point)  // prints "Point(x=-10, y=-20)"
}</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="6_5" style="text-align:center;">Null Safety<a class="anchor" href="https://kotlinlang.org/docs/reference/null-safety.html#null-safety" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Nullable types and Non-Null Types<a class="anchor" href="https://kotlinlang.org/docs/reference/null-safety.html#nullable-types-and-non-null-types" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">var a: String = "abc" // Regular initialization means non-null by default
a = null // compilation error</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">var a: String = "abc" // Regular initialization means non-null by default
a = null // compilation error</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">var b: String? = "abc" // can be set null
b = null // ok
print(b)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">var b: String? = "abc" // can be set null
b = null // ok
print(b)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val l = a.length</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val l = a.length</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val l = b.length // error: variable 'b' can be null</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val l = b.length // error: variable 'b' can be null</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Checking for null in conditions<a class="anchor" href="https://kotlinlang.org/docs/reference/null-safety.html#checking-for-null-in-conditions" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val l = if (b != null) b.length else -1</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val l = if (b != null) b.length else -1</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val b: String? = "Kotlin"
if (b != null &#38;&#38; b.length &#62; 0) {
    print("String of length ${b.length}")
} else {
    print("Empty string")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val b: String? = "Kotlin"
if (b != null &#38;&#38; b.length &#62; 0) {
    print("String of length ${b.length}")
} else {
    print("Empty string")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Safe Calls<a class="anchor" href="https://kotlinlang.org/docs/reference/null-safety.html#safe-calls" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val a = "Kotlin"
val b: String? = null
println(b?.length)
println(a?.length) // Unnecessary safe call</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val a = "Kotlin"
val b: String? = null
println(b?.length)
println(a?.length) // Unnecessary safe call</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">bob?.department?.head?.name</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">bob?.department?.head?.name</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val listWithNulls: List&#60;String?&#62; = listOf("Kotlin", null)
for (item in listWithNulls) {
    item?.let { println(it) } // prints Kotlin and ignores null
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val listWithNulls: List&#60;String?&#62; = listOf("Kotlin", null)
for (item in listWithNulls) {
    item?.let { println(it) } // prints Kotlin and ignores null
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// If either `person` or `person.department` is null, the function is not called:
person?.department?.head = managersPool.getManager()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// If either `person` or `person.department` is null, the function is not called:
person?.department?.head = managersPool.getManager()</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Elvis Operator<a class="anchor" href="https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val l: Int = if (b != null) b.length else -1</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val l: Int = if (b != null) b.length else -1</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val l = b?.length ?: -1</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val l = b?.length ?: -1</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun foo(node: Node): String? {
    val parent = node.getParent() ?: return null
    val name = node.getName() ?: throw IllegalArgumentException("name expected")
    // ...
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun foo(node: Node): String? {
    val parent = node.getParent() ?: return null
    val name = node.getName() ?: throw IllegalArgumentException("name expected")
    // ...
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>The !! Operator<a class="anchor" href="https://kotlinlang.org/docs/reference/null-safety.html#the--operator" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val l = b!!.length</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val l = b!!.length</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Safe Casts<a class="anchor" href="https://kotlinlang.org/docs/reference/null-safety.html#safe-casts" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val aInt: Int? = a as? Int</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val aInt: Int? = a as? Int</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Collections of Nullable Type<a class="anchor" href="https://kotlinlang.org/docs/reference/null-safety.html#collections-of-nullable-type" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val nullableList: List&#60;Int?&#62; = listOf(1, 2, null, 4)
val intList: List&#60;Int&#62; = nullableList.filterNotNull()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val nullableList: List&#60;Int?&#62; = listOf(1, 2, null, 4)
val intList: List&#60;Int&#62; = nullableList.filterNotNull()</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="6_6" style="text-align:center;">Exceptions<a class="anchor" href="https://kotlinlang.org/docs/reference/exceptions.html#exceptions" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Exception Classes<a class="anchor" href="https://kotlinlang.org/docs/reference/exceptions.html#exception-classes" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">throw Exception("Hi There!")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">throw Exception("Hi There!")</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">try {
    // some code
}
catch (e: SomeException) {
    // handler
}
finally {
    // optional finally block
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">try {
    // some code
}
catch (e: SomeException) {
    // handler
}
finally {
    // optional finally block
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Try is an expression<a class="anchor" href="https://kotlinlang.org/docs/reference/exceptions.html#try-is-an-expression" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val a: Int? = try { parseInt(input) } catch (e: NumberFormatException) { null }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val a: Int? = try { parseInt(input) } catch (e: NumberFormatException) { null }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Checked Exceptions<a class="anchor" href="https://kotlinlang.org/docs/reference/exceptions.html#checked-exceptions" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">Appendable append(CharSequence csq) throws IOException;</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">Appendable append(CharSequence csq) throws IOException;</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">try {
    log.append(message)
}
catch (IOException e) {
    // Must be safe
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">try {
    log.append(message)
}
catch (IOException e) {
    // Must be safe
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>The Nothing type<a class="anchor" href="https://kotlinlang.org/docs/reference/exceptions.html#the-nothing-type" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val s = person.name ?: throw IllegalArgumentException("Name required")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val s = person.name ?: throw IllegalArgumentException("Name required")</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun fail(message: String): Nothing {
    throw IllegalArgumentException(message)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun fail(message: String): Nothing {
    throw IllegalArgumentException(message)
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val s = person.name ?: fail("Name required")
println(s)     // 's' is known to be initialized at this point</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val s = person.name ?: fail("Name required")
println(s)     // 's' is known to be initialized at this point</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val x = null           // 'x' has type `Nothing?`
val l = listOf(null)   // 'l' has type `List&#60;Nothing?&#62;</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val x = null           // 'x' has type `Nothing?`
val l = listOf(null)   // 'l' has type `List&#60;Nothing?&#62;</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="6_7" style="text-align:center;">Annotations<a class="anchor" href="https://kotlinlang.org/docs/reference/annotations.html#annotations" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Annotation Declaration<a class="anchor" href="https://kotlinlang.org/docs/reference/annotations.html#annotation-declaration" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">annotation class Fancy</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">annotation class Fancy</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@Target(AnnotationTarget.CLASS, AnnotationTarget.FUNCTION,
        AnnotationTarget.VALUE_PARAMETER, AnnotationTarget.EXPRESSION)
@Retention(AnnotationRetention.SOURCE)
@MustBeDocumented
annotation class Fancy</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@Target(AnnotationTarget.CLASS, AnnotationTarget.FUNCTION,
        AnnotationTarget.VALUE_PARAMETER, AnnotationTarget.EXPRESSION)
@Retention(AnnotationRetention.SOURCE)
@MustBeDocumented
annotation class Fancy</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Usage<a class="anchor" href="https://kotlinlang.org/docs/reference/annotations.html#usage" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@Fancy class Foo {
    @Fancy fun baz(@Fancy foo: Int): Int {
        return (@Fancy 1)
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@Fancy class Foo {
    @Fancy fun baz(@Fancy foo: Int): Int {
        return (@Fancy 1)
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Foo @Inject constructor(dependency: MyDependency) { ... }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Foo @Inject constructor(dependency: MyDependency) { ... }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Foo {
    var x: MyDependency? = null
        @Inject set
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Foo {
    var x: MyDependency? = null
        @Inject set
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Constructors<a class="anchor" href="https://kotlinlang.org/docs/reference/annotations.html#constructors" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">annotation class Special(val why: String)
&#8203;
@Special("example") class Foo {}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">annotation class Special(val why: String)
&#8203;
@Special("example") class Foo {}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">annotation class ReplaceWith(val expression: String)
&#8203;
annotation class Deprecated(
        val message: String,
        val replaceWith: ReplaceWith = ReplaceWith(""))
&#8203;
@Deprecated("This function is deprecated, use === instead", ReplaceWith("this === other"))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">annotation class ReplaceWith(val expression: String)
&#8203;
annotation class Deprecated(
        val message: String,
        val replaceWith: ReplaceWith = ReplaceWith(""))
&#8203;
@Deprecated("This function is deprecated, use === instead", ReplaceWith("this === other"))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlin.reflect.KClass
&#8203;
annotation class Ann(val arg1: KClass&#60;*&#62;, val arg2: KClass&#60;out Any&#62;)
&#8203;
@Ann(String::class, Int::class) class MyClass</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlin.reflect.KClass
&#8203;
annotation class Ann(val arg1: KClass&#60;*&#62;, val arg2: KClass&#60;out Any&#62;)
&#8203;
@Ann(String::class, Int::class) class MyClass</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Lambdas<a class="anchor" href="https://kotlinlang.org/docs/reference/annotations.html#lambdas" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">annotation class Suspendable
&#8203;
val f = @Suspendable { Fiber.sleep(10) }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">annotation class Suspendable
&#8203;
val f = @Suspendable { Fiber.sleep(10) }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Annotation Use-site Targets<a class="anchor" href="https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Example(@field:Ann val foo,    // annotate Java field
              @get:Ann val bar,      // annotate Java getter
              @param:Ann val quux)   // annotate Java constructor parameter</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Example(@field:Ann val foo,    // annotate Java field
              @get:Ann val bar,      // annotate Java getter
              @param:Ann val quux)   // annotate Java constructor parameter</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@file:JvmName("Foo")
&#8203;
package org.jetbrains.demo</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@file:JvmName("Foo")
&#8203;
package org.jetbrains.demo</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Example {
     @set:[Inject VisibleForTesting]
     var collaborator: Collaborator
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Example {
     @set:[Inject VisibleForTesting]
     var collaborator: Collaborator
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun @receiver:Fancy String.myExtension() { ... }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun @receiver:Fancy String.myExtension() { ... }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Java Annotations<a class="anchor" href="https://kotlinlang.org/docs/reference/annotations.html#java-annotations" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import org.junit.Test
import org.junit.Assert.*
import org.junit.Rule
import org.junit.rules.*
&#8203;
class Tests {
    // apply @Rule annotation to property getter
    @get:Rule val tempFolder = TemporaryFolder()
&#8203;
    @Test fun simple() {
        val f = tempFolder.newFile()
        assertEquals(42, getTheAnswer())
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import org.junit.Test
import org.junit.Assert.*
import org.junit.Rule
import org.junit.rules.*
&#8203;
class Tests {
    // apply @Rule annotation to property getter
    @get:Rule val tempFolder = TemporaryFolder()
&#8203;
    @Test fun simple() {
        val f = tempFolder.newFile()
        assertEquals(42, getTheAnswer())
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Java
public @interface Ann {
    int intValue();
    String stringValue();
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Java
public @interface Ann {
    int intValue();
    String stringValue();
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Kotlin
@Ann(intValue = 1, stringValue = "abc") class C</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Kotlin
@Ann(intValue = 1, stringValue = "abc") class C</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Java
public @interface AnnWithValue {
    String value();
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Java
public @interface AnnWithValue {
    String value();
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Kotlin
@AnnWithValue("abc") class C</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Kotlin
@AnnWithValue("abc") class C</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Arrays as annotation parameters<a class="anchor" href="https://kotlinlang.org/docs/reference/annotations.html#arrays-as-annotation-parameters" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Java
public @interface AnnWithArrayValue {
    String[] value();
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Java
public @interface AnnWithArrayValue {
    String[] value();
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Kotlin
@AnnWithArrayValue("abc", "foo", "bar") class C</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Kotlin
@AnnWithArrayValue("abc", "foo", "bar") class C</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Java
public @interface AnnWithArrayMethod {
    String[] names();
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Java
public @interface AnnWithArrayMethod {
    String[] names();
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Kotlin 1.2+:
@AnnWithArrayMethod(names = ["abc", "foo", "bar"]) 
class C
&#8203;
// Older Kotlin versions:
@AnnWithArrayMethod(names = arrayOf("abc", "foo", "bar")) 
class D</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Kotlin 1.2+:
@AnnWithArrayMethod(names = ["abc", "foo", "bar"]) 
class C
&#8203;
// Older Kotlin versions:
@AnnWithArrayMethod(names = arrayOf("abc", "foo", "bar")) 
class D</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Accessing properties of an annotation instance<a class="anchor" href="https://kotlinlang.org/docs/reference/annotations.html#accessing-properties-of-an-annotation-instance" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Java
public @interface Ann {
    int value();
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Java
public @interface Ann {
    int value();
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// Kotlin
fun foo(ann: Ann) {
    val i = ann.value
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// Kotlin
fun foo(ann: Ann) {
    val i = ann.value
}</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="6_8" style="text-align:center;">Reflection<a class="anchor" href="https://kotlinlang.org/docs/reference/reflection.html#reflection" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>JVM dependency<a class="anchor" href="https://kotlinlang.org/docs/reference/reflection.html#jvm-dependency" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">dependencies {
    implementation "org.jetbrains.kotlin:kotlin-reflect:1.4.30"
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">dependencies {
    implementation "org.jetbrains.kotlin:kotlin-reflect:1.4.30"
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">dependencies {
  implementation("org.jetbrains.kotlin:kotlin-reflect:1.4.30")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">dependencies {
  implementation("org.jetbrains.kotlin:kotlin-reflect:1.4.30")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">&#60;dependencies&#62;
    &#60;dependency&#62;
        &#60;groupId&#62;org.jetbrains.kotlin&#60;/groupId&#62;
        &#60;artifactId&#62;kotlin-reflect&#60;/artifactId&#62;
    &#60;/dependency&#62;
&#60;/dependencies&#62;</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">&#60;dependencies&#62;
    &#60;dependency&#62;
        &#60;groupId&#62;org.jetbrains.kotlin&#60;/groupId&#62;
        &#60;artifactId&#62;kotlin-reflect&#60;/artifactId&#62;
    &#60;/dependency&#62;
&#60;/dependencies&#62;</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Class references<a class="anchor" href="https://kotlinlang.org/docs/reference/reflection.html#class-references" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val c = MyClass::class</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val c = MyClass::class</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Bound class references (since 1.1)<a class="anchor" href="https://kotlinlang.org/docs/reference/reflection.html#bound-class-references-since-11" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val widget: Widget = ...
assert(widget is GoodWidget) { "Bad widget: ${widget::class.qualifiedName}" }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val widget: Widget = ...
assert(widget is GoodWidget) { "Bad widget: ${widget::class.qualifiedName}" }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Function references<a class="anchor" href="https://kotlinlang.org/docs/reference/reflection.html#function-references" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun isOdd(x: Int) = x % 2 != 0</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun isOdd(x: Int) = x % 2 != 0</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf(1, 2, 3)
println(numbers.filter(::isOdd))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf(1, 2, 3)
println(numbers.filter(::isOdd))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun isOdd(x: Int) = x % 2 != 0
fun isOdd(s: String) = s == "brillig" || s == "slithy" || s == "tove"
&#8203;
val numbers = listOf(1, 2, 3)
println(numbers.filter(::isOdd)) // refers to isOdd(x: Int)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun isOdd(x: Int) = x % 2 != 0
fun isOdd(s: String) = s == "brillig" || s == "slithy" || s == "tove"
&#8203;
val numbers = listOf(1, 2, 3)
println(numbers.filter(::isOdd)) // refers to isOdd(x: Int)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val predicate: (String) -&#62; Boolean = ::isOdd   // refers to isOdd(x: String)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val predicate: (String) -&#62; Boolean = ::isOdd   // refers to isOdd(x: String)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val isEmptyStringList: List&#60;String&#62;.() -&#62; Boolean = List&#60;String&#62;::isEmpty</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val isEmptyStringList: List&#60;String&#62;.() -&#62; Boolean = List&#60;String&#62;::isEmpty</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Example: function composition<a class="anchor" href="https://kotlinlang.org/docs/reference/reflection.html#example-function-composition" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun &#60;A, B, C&#62; compose(f: (B) -&#62; C, g: (A) -&#62; B): (A) -&#62; C {
    return { x -&#62; f(g(x)) }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun &#60;A, B, C&#62; compose(f: (B) -&#62; C, g: (A) -&#62; B): (A) -&#62; C {
    return { x -&#62; f(g(x)) }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun length(s: String) = s.length
&#8203;
val oddLength = compose(::isOdd, ::length)
val strings = listOf("a", "ab", "abc")
&#8203;
println(strings.filter(oddLength))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun length(s: String) = s.length
&#8203;
val oddLength = compose(::isOdd, ::length)
val strings = listOf("a", "ab", "abc")
&#8203;
println(strings.filter(oddLength))</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Property references<a class="anchor" href="https://kotlinlang.org/docs/reference/reflection.html#property-references" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val x = 1
&#8203;
fun main() {
    println(::x.get())
    println(::x.name) 
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val x = 1
&#8203;
fun main() {
    println(::x.get())
    println(::x.name) 
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">var y = 1
&#8203;
fun main() {
    ::y.set(2)
    println(y)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">var y = 1
&#8203;
fun main() {
    ::y.set(2)
    println(y)
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val strs = listOf("a", "bc", "def")
println(strs.map(String::length))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val strs = listOf("a", "bc", "def")
println(strs.map(String::length))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class A(val p: Int)
val prop = A::p
println(prop.get(A(1)))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class A(val p: Int)
val prop = A::p
println(prop.get(A(1)))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val String.lastChar: Char
    get() = this[length - 1]
&#8203;
fun main() {
    println(String::lastChar.get("abc"))
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val String.lastChar: Char
    get() = this[length - 1]
&#8203;
fun main() {
    println(String::lastChar.get("abc"))
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Interoperability with Java reflection<a class="anchor" href="https://kotlinlang.org/docs/reference/reflection.html#interoperability-with-java-reflection" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import kotlin.reflect.jvm.*
 
class A(val p: Int)
 
fun main() {
    println(A::p.javaGetter) // prints "public final int A.getP()"
    println(A::p.javaField)  // prints "private final int A.p"
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import kotlin.reflect.jvm.*
 
class A(val p: Int)
 
fun main() {
    println(A::p.javaGetter) // prints "public final int A.getP()"
    println(A::p.javaField)  // prints "private final int A.p"
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun getKClass(o: Any): KClass&#60;Any&#62; = o.javaClass.kotlin</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun getKClass(o: Any): KClass&#60;Any&#62; = o.javaClass.kotlin</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Constructor references<a class="anchor" href="https://kotlinlang.org/docs/reference/reflection.html#constructor-references" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Foo
&#8203;
fun function(factory: () -&#62; Foo) {
    val x: Foo = factory()
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Foo
&#8203;
fun function(factory: () -&#62; Foo) {
    val x: Foo = factory()
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">function(::Foo)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">function(::Foo)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Bound function and property references (since 1.1)<a class="anchor" href="https://kotlinlang.org/docs/reference/reflection.html#bound-function-and-property-references-since-11" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numberRegex = "\\d+".toRegex()
println(numberRegex.matches("29"))
&#8203;
val isNumber = numberRegex::matches
println(isNumber("29"))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numberRegex = "\\d+".toRegex()
println(numberRegex.matches("29"))
&#8203;
val isNumber = numberRegex::matches
println(isNumber("29"))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numberRegex = "\\d+".toRegex()
val strings = listOf("abc", "124", "a70")
println(strings.filter(numberRegex::matches))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numberRegex = "\\d+".toRegex()
val strings = listOf("abc", "124", "a70")
println(strings.filter(numberRegex::matches))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val isNumber: (CharSequence) -&#62; Boolean = numberRegex::matches
&#8203;
val matches: (Regex, CharSequence) -&#62; Boolean = Regex::matches</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val isNumber: (CharSequence) -&#62; Boolean = numberRegex::matches
&#8203;
val matches: (Regex, CharSequence) -&#62; Boolean = Regex::matches</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val prop = "abc"::length
println(prop.get())</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val prop = "abc"::length
println(prop.get())</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Bound constructor references<a class="anchor" href="https://kotlinlang.org/docs/reference/reflection.html#bound-constructor-references" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class Outer {
    inner class Inner
}
&#8203;
val o = Outer()
val boundInnerCtor = o::Inner</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class Outer {
    inner class Inner
}
&#8203;
val o = Outer()
val boundInnerCtor = o::Inner</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="6_9" style="text-align:center;">Serialization<a class="anchor" href="https://kotlinlang.org/docs/reference/serialization.html#serialization" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Example: JSON serialization<a class="anchor" href="https://kotlinlang.org/docs/reference/serialization.html#example-json-serialization" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">plugins {
     id 'org.jetbrains.kotlin.jvm' version '1.4.30'
     id 'org.jetbrains.kotlin.plugin.serialization' version '1.4.30'  
 }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">plugins {
     id 'org.jetbrains.kotlin.jvm' version '1.4.30'
     id 'org.jetbrains.kotlin.plugin.serialization' version '1.4.30'  
 }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">plugins {
     kotlin("jvm") version "1.4.30"
     kotlin("plugin.serialization") version "1.4.30"
 }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">plugins {
     kotlin("jvm") version "1.4.30"
     kotlin("plugin.serialization") version "1.4.30"
 }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">dependencies {
     implementation 'org.jetbrains.kotlinx:kotlinx-serialization-json:1.1.0-RC'
 }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">dependencies {
     implementation 'org.jetbrains.kotlinx:kotlinx-serialization-json:1.1.0-RC'
 }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">dependencies {
     implementation("org.jetbrains.kotlinx:kotlinx-serialization-json:1.1.0-RC")
 }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">dependencies {
     implementation("org.jetbrains.kotlinx:kotlinx-serialization-json:1.1.0-RC")
 }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@Serializable
data class Data(val a: Int, val b: String)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@Serializable
data class Data(val a: Int, val b: String)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">Json.encodeToString(Data(a = 42, b = "str"))</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">Json.encodeToString(Data(a = 42, b = "str"))</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val dataList = listOf(Data(42, "abc"), Data(12, "test"))
val jsonList = Json.encodeToString(dataList)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val dataList = listOf(Data(42, "abc"), Data(12, "test"))
val jsonList = Json.encodeToString(dataList)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val obj = Json.decodeFromString&#60;Data&#62;("""{"a":42, "b": "str"}""")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val obj = Json.decodeFromString&#60;Data&#62;("""{"a":42, "b": "str"}""")</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="6_10" style="text-align:center;">Scope Functions<a class="anchor" href="https://kotlinlang.org/docs/reference/scope-functions.html#scope-functions" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">Person("Alice", 20, "Amsterdam").let {
    println(it)
    it.moveTo("London")
    it.incrementAge()
    println(it)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">Person("Alice", 20, "Amsterdam").let {
    println(it)
    it.moveTo("London")
    it.incrementAge()
    println(it)
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val alice = Person("Alice", 20, "Amsterdam")
println(alice)
alice.moveTo("London")
alice.incrementAge()
println(alice)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val alice = Person("Alice", 20, "Amsterdam")
println(alice)
alice.moveTo("London")
alice.incrementAge()
println(alice)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Context object: this or it<a class="anchor" href="https://kotlinlang.org/docs/reference/scope-functions.html#context-object-this-or-it" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun main() {
    val str = "Hello"
    // this
    str.run {
        println("The receiver string length: $length")
        //println("The receiver string length: ${this.length}") // does the same
    }
&#8203;
    // it
    str.let {
        println("The receiver string's length is ${it.length}")
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun main() {
    val str = "Hello"
    // this
    str.run {
        println("The receiver string length: $length")
        //println("The receiver string length: ${this.length}") // does the same
    }
&#8203;
    // it
    str.let {
        println("The receiver string's length is ${it.length}")
    }
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>this<a class="anchor" href="https://kotlinlang.org/docs/reference/scope-functions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val adam = Person("Adam").apply { 
    age = 20                       // same as this.age = 20 or adam.age = 20
    city = "London"
}
println(adam)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val adam = Person("Adam").apply { 
    age = 20                       // same as this.age = 20 or adam.age = 20
    city = "London"
}
println(adam)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>it<a class="anchor" href="https://kotlinlang.org/docs/reference/scope-functions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun getRandomInt(): Int {
    return Random.nextInt(100).also {
        writeToLog("getRandomInt() generated value $it")
    }
}
&#8203;
val i = getRandomInt()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun getRandomInt(): Int {
    return Random.nextInt(100).also {
        writeToLog("getRandomInt() generated value $it")
    }
}
&#8203;
val i = getRandomInt()</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun getRandomInt(): Int {
    return Random.nextInt(100).also { value -&#62;
        writeToLog("getRandomInt() generated value $value")
    }
}
&#8203;
val i = getRandomInt()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun getRandomInt(): Int {
    return Random.nextInt(100).also { value -&#62;
        writeToLog("getRandomInt() generated value $value")
    }
}
&#8203;
val i = getRandomInt()</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Context object<a class="anchor" href="https://kotlinlang.org/docs/reference/scope-functions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numberList = mutableListOf&#60;Double&#62;()
numberList.also { println("Populating the list") }
    .apply {
        add(2.71)
        add(3.14)
        add(1.0)
    }
    .also { println("Sorting the list") }
    .sort()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numberList = mutableListOf&#60;Double&#62;()
numberList.also { println("Populating the list") }
    .apply {
        add(2.71)
        add(3.14)
        add(1.0)
    }
    .also { println("Sorting the list") }
    .sort()</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun getRandomInt(): Int {
    return Random.nextInt(100).also {
        writeToLog("getRandomInt() generated value $it")
    }
}
&#8203;
val i = getRandomInt()</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun getRandomInt(): Int {
    return Random.nextInt(100).also {
        writeToLog("getRandomInt() generated value $it")
    }
}
&#8203;
val i = getRandomInt()</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Lambda result<a class="anchor" href="https://kotlinlang.org/docs/reference/scope-functions.htmlundefined" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "two", "three")
val countEndsWithE = numbers.run { 
    add("four")
    add("five")
    count { it.endsWith("e") }
}
println("There are $countEndsWithE elements that end with e.")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "two", "three")
val countEndsWithE = numbers.run { 
    add("four")
    add("five")
    count { it.endsWith("e") }
}
println("There are $countEndsWithE elements that end with e.")</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "two", "three")
with(numbers) {
    val firstItem = first()
    val lastItem = last()        
    println("First item: $firstItem, last item: $lastItem")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "two", "three")
with(numbers) {
    val firstItem = first()
    val lastItem = last()        
    println("First item: $firstItem, last item: $lastItem")
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>let<a class="anchor" href="https://kotlinlang.org/docs/reference/scope-functions.html#let" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "two", "three", "four", "five")
val resultList = numbers.map { it.length }.filter { it &#62; 3 }
println(resultList)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "two", "three", "four", "five")
val resultList = numbers.map { it.length }.filter { it &#62; 3 }
println(resultList)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "two", "three", "four", "five")
numbers.map { it.length }.filter { it &#62; 3 }.let { 
    println(it)
    // and more function calls if needed
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "two", "three", "four", "five")
numbers.map { it.length }.filter { it &#62; 3 }.let { 
    println(it)
    // and more function calls if needed
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "two", "three", "four", "five")
numbers.map { it.length }.filter { it &#62; 3 }.let(::println)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "two", "three", "four", "five")
numbers.map { it.length }.filter { it &#62; 3 }.let(::println)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val str: String? = "Hello"   
//processNonNullString(str)       // compilation error: str can be null
val length = str?.let { 
    println("let() called on $it")        
    processNonNullString(it)      // OK: 'it' is not null inside '?.let { }'
    it.length
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val str: String? = "Hello"   
//processNonNullString(str)       // compilation error: str can be null
val length = str?.let { 
    println("let() called on $it")        
    processNonNullString(it)      // OK: 'it' is not null inside '?.let { }'
    it.length
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = listOf("one", "two", "three", "four")
val modifiedFirstItem = numbers.first().let { firstItem -&#62;
    println("The first item of the list is '$firstItem'")
    if (firstItem.length &#62;= 5) firstItem else "!" + firstItem + "!"
}.toUpperCase()
println("First item after modifications: '$modifiedFirstItem'")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = listOf("one", "two", "three", "four")
val modifiedFirstItem = numbers.first().let { firstItem -&#62;
    println("The first item of the list is '$firstItem'")
    if (firstItem.length &#62;= 5) firstItem else "!" + firstItem + "!"
}.toUpperCase()
println("First item after modifications: '$modifiedFirstItem'")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>with<a class="anchor" href="https://kotlinlang.org/docs/reference/scope-functions.html#with" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "two", "three")
with(numbers) {
    println("'with' is called with argument $this")
    println("It contains $size elements")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "two", "three")
with(numbers) {
    println("'with' is called with argument $this")
    println("It contains $size elements")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "two", "three")
val firstAndLast = with(numbers) {
    "The first element is ${first()}," +
    " the last element is ${last()}"
}
println(firstAndLast)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "two", "three")
val firstAndLast = with(numbers) {
    "The first element is ${first()}," +
    " the last element is ${last()}"
}
println(firstAndLast)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>run<a class="anchor" href="https://kotlinlang.org/docs/reference/scope-functions.html#run" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val service = MultiportService("https://example.kotlinlang.org", 80)
&#8203;
val result = service.run {
    port = 8080
    query(prepareRequest() + " to port $port")
}
&#8203;
// the same code written with let() function:
val letResult = service.let {
    it.port = 8080
    it.query(it.prepareRequest() + " to port ${it.port}")
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val service = MultiportService("https://example.kotlinlang.org", 80)
&#8203;
val result = service.run {
    port = 8080
    query(prepareRequest() + " to port $port")
}
&#8203;
// the same code written with let() function:
val letResult = service.let {
    it.port = 8080
    it.query(it.prepareRequest() + " to port ${it.port}")
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val hexNumberRegex = run {
    val digits = "0-9"
    val hexDigits = "A-Fa-f"
    val sign = "+-"
&#8203;
    Regex("[$sign]?[$digits$hexDigits]+")
}
&#8203;
for (match in hexNumberRegex.findAll("+1234 -FFFF not-a-number")) {
    println(match.value)
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val hexNumberRegex = run {
    val digits = "0-9"
    val hexDigits = "A-Fa-f"
    val sign = "+-"
&#8203;
    Regex("[$sign]?[$digits$hexDigits]+")
}
&#8203;
for (match in hexNumberRegex.findAll("+1234 -FFFF not-a-number")) {
    println(match.value)
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>apply<a class="anchor" href="https://kotlinlang.org/docs/reference/scope-functions.html#apply" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val adam = Person("Adam").apply {
    age = 32
    city = "London"        
}
println(adam)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val adam = Person("Adam").apply {
    age = 32
    city = "London"        
}
println(adam)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>also<a class="anchor" href="https://kotlinlang.org/docs/reference/scope-functions.html#also" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val numbers = mutableListOf("one", "two", "three")
numbers
    .also { println("The list elements before adding new one: $it") }
    .add("four")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val numbers = mutableListOf("one", "two", "three")
numbers
    .also { println("The list elements before adding new one: $it") }
    .add("four")</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>takeIf and takeUnless<a class="anchor" href="https://kotlinlang.org/docs/reference/scope-functions.html#takeif-and-takeunless" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val number = Random.nextInt(100)
&#8203;
val evenOrNull = number.takeIf { it % 2 == 0 }
val oddOrNull = number.takeUnless { it % 2 == 0 }
println("even: $evenOrNull, odd: $oddOrNull")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val number = Random.nextInt(100)
&#8203;
val evenOrNull = number.takeIf { it % 2 == 0 }
val oddOrNull = number.takeUnless { it % 2 == 0 }
println("even: $evenOrNull, odd: $oddOrNull")</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">val str = "Hello"
val caps = str.takeIf { it.isNotEmpty() }?.toUpperCase()
//val caps = str.takeIf { it.isNotEmpty() }.toUpperCase() //compilation error
println(caps)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">val str = "Hello"
val caps = str.takeIf { it.isNotEmpty() }?.toUpperCase()
//val caps = str.takeIf { it.isNotEmpty() }.toUpperCase() //compilation error
println(caps)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun displaySubstringPosition(input: String, sub: String) {
    input.indexOf(sub).takeIf { it &#62;= 0 }?.let {
        println("The substring $sub is found in $input.")
        println("Its start position is $it.")
    }
}
&#8203;
displaySubstringPosition("010000011", "11")
displaySubstringPosition("010000011", "12")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun displaySubstringPosition(input: String, sub: String) {
    input.indexOf(sub).takeIf { it &#62;= 0 }?.let {
        println("The substring $sub is found in $input.")
        println("Its start position is $it.")
    }
}
&#8203;
displaySubstringPosition("010000011", "11")
displaySubstringPosition("010000011", "12")</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun displaySubstringPosition(input: String, sub: String) {
    val index = input.indexOf(sub)
    if (index &#62;= 0) {
        println("The substring $sub is found in $input.")
        println("Its start position is $index.")
    }
}
&#8203;
displaySubstringPosition("010000011", "11")
displaySubstringPosition("010000011", "12")</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun displaySubstringPosition(input: String, sub: String) {
    val index = input.indexOf(sub)
    if (index &#62;= 0) {
        println("The substring $sub is found in $input.")
        println("Its start position is $index.")
    }
}
&#8203;
displaySubstringPosition("010000011", "11")
displaySubstringPosition("010000011", "12")</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="6_11" style="text-align:center;">Type-Safe Builders<a class="anchor" href="https://kotlinlang.org/docs/reference/type-safe-builders.html#type-safe-builders" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>A type-safe builder example<a class="anchor" href="https://kotlinlang.org/docs/reference/type-safe-builders.html#a-type-safe-builder-example" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">import com.example.html.* // see declarations below
&#8203;
fun result() =
    html {
        head {
            title {+"XML encoding with Kotlin"}
        }
        body {
            h1 {+"XML encoding with Kotlin"}
            p  {+"this format can be used as an alternative markup to XML"}
&#8203;
            // an element with attributes and text content
            a(href = "http://kotlinlang.org") {+"Kotlin"}
&#8203;
            // mixed content
            p {
                +"This is some"
                b {+"mixed"}
                +"text. For more see the"
                a(href = "http://kotlinlang.org") {+"Kotlin"}
                +"project"
            }
            p {+"some text"}
&#8203;
            // content generated by
            p {
                for (arg in args)
                    +arg
            }
        }
    }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">import com.example.html.* // see declarations below
&#8203;
fun result() =
    html {
        head {
            title {+"XML encoding with Kotlin"}
        }
        body {
            h1 {+"XML encoding with Kotlin"}
            p  {+"this format can be used as an alternative markup to XML"}
&#8203;
            // an element with attributes and text content
            a(href = "http://kotlinlang.org") {+"Kotlin"}
&#8203;
            // mixed content
            p {
                +"This is some"
                b {+"mixed"}
                +"text. For more see the"
                a(href = "http://kotlinlang.org") {+"Kotlin"}
                +"project"
            }
            p {+"some text"}
&#8203;
            // content generated by
            p {
                for (arg in args)
                    +arg
            }
        }
    }</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>How it works<a class="anchor" href="https://kotlinlang.org/docs/reference/type-safe-builders.html#how-it-works" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">html {
 // ...
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">html {
 // ...
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun html(init: HTML.() -&#62; Unit): HTML {
    val html = HTML()
    html.init()
    return html
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun html(init: HTML.() -&#62; Unit): HTML {
    val html = HTML()
    html.init()
    return html
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">html {
    this.head { ... }
    this.body { ... }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">html {
    this.head { ... }
    this.body { ... }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">html {
    head { ... }
    body { ... }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">html {
    head { ... }
    body { ... }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun head(init: Head.() -&#62; Unit) : Head {
    val head = Head()
    head.init()
    children.add(head)
    return head
}
&#8203;
fun body(init: Body.() -&#62; Unit) : Body {
    val body = Body()
    body.init()
    children.add(body)
    return body
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun head(init: Head.() -&#62; Unit) : Head {
    val head = Head()
    head.init()
    children.add(head)
    return head
}
&#8203;
fun body(init: Body.() -&#62; Unit) : Body {
    val body = Body()
    body.init()
    children.add(body)
    return body
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">protected fun &#60;T : Element&#62; initTag(tag: T, init: T.() -&#62; Unit): T {
    tag.init()
    children.add(tag)
    return tag
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">protected fun &#60;T : Element&#62; initTag(tag: T, init: T.() -&#62; Unit): T {
    tag.init()
    children.add(tag)
    return tag
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">fun head(init: Head.() -&#62; Unit) = initTag(Head(), init)
&#8203;
fun body(init: Body.() -&#62; Unit) = initTag(Body(), init)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">fun head(init: Head.() -&#62; Unit) = initTag(Head(), init)
&#8203;
fun body(init: Body.() -&#62; Unit) = initTag(Body(), init)</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">html {
    head {
        title {+"XML encoding with Kotlin"}
    }
    // ...
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">html {
    head {
        title {+"XML encoding with Kotlin"}
    }
    // ...
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">operator fun String.unaryPlus() {
    children.add(TextElement(this))
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">operator fun String.unaryPlus() {
    children.add(TextElement(this))
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Scope control: @DslMarker (since 1.1)<a class="anchor" href="https://kotlinlang.org/docs/reference/type-safe-builders.html#scope-control-dslmarker-since-11" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">html {
    head {
        head {} // should be forbidden
    }
    // ...
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">html {
    head {
        head {} // should be forbidden
    }
    // ...
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@DslMarker
annotation class HtmlTagMarker</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@DslMarker
annotation class HtmlTagMarker</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@HtmlTagMarker
abstract class Tag(val name: String) { ... }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@HtmlTagMarker
abstract class Tag(val name: String) { ... }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">class HTML() : Tag("html") { ... }
class Head() : Tag("head") { ... }</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">class HTML() : Tag("html") { ... }
class Head() : Tag("head") { ... }</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">html {
    head {
        head { } // error: a member of outer receiver
    }
    // ...
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">html {
    head {
        head { } // error: a member of outer receiver
    }
    // ...
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">html {
    head {
        this@html.head { } // possible
    }
    // ...
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">html {
    head {
        this@html.head { } // possible
    }
    // ...
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Full definition of the com.example.html package<a class="anchor" href="https://kotlinlang.org/docs/reference/type-safe-builders.html#full-definition-of-the-comexamplehtml-package" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">package com.example.html
&#8203;
interface Element {
    fun render(builder: StringBuilder, indent: String)
}
&#8203;
class TextElement(val text: String) : Element {
    override fun render(builder: StringBuilder, indent: String) {
        builder.append("$indent$text\n")
    }
}
&#8203;
@DslMarker
annotation class HtmlTagMarker
&#8203;
@HtmlTagMarker
abstract class Tag(val name: String) : Element {
    val children = arrayListOf&#60;Element&#62;()
    val attributes = hashMapOf&#60;String, String&#62;()
&#8203;
    protected fun &#60;T : Element&#62; initTag(tag: T, init: T.() -&#62; Unit): T {
        tag.init()
        children.add(tag)
        return tag
    }
&#8203;
    override fun render(builder: StringBuilder, indent: String) {
        builder.append("$indent&#60;$name${renderAttributes()}&#62;\n")
        for (c in children) {
            c.render(builder, indent + "  ")
        }
        builder.append("$indent&#60;/$name&#62;\n")
    }
&#8203;
    private fun renderAttributes(): String {
        val builder = StringBuilder()
        for ((attr, value) in attributes) {
            builder.append(" $attr=\"$value\"")
        }
        return builder.toString()
    }
&#8203;
    override fun toString(): String {
        val builder = StringBuilder()
        render(builder, "")
        return builder.toString()
    }
}
&#8203;
abstract class TagWithText(name: String) : Tag(name) {
    operator fun String.unaryPlus() {
        children.add(TextElement(this))
    }
}
&#8203;
class HTML : TagWithText("html") {
    fun head(init: Head.() -&#62; Unit) = initTag(Head(), init)
&#8203;
    fun body(init: Body.() -&#62; Unit) = initTag(Body(), init)
}
&#8203;
class Head : TagWithText("head") {
    fun title(init: Title.() -&#62; Unit) = initTag(Title(), init)
}
&#8203;
class Title : TagWithText("title")
&#8203;
abstract class BodyTag(name: String) : TagWithText(name) {
    fun b(init: B.() -&#62; Unit) = initTag(B(), init)
    fun p(init: P.() -&#62; Unit) = initTag(P(), init)
    fun h1(init: H1.() -&#62; Unit) = initTag(H1(), init)
    fun a(href: String, init: A.() -&#62; Unit) {
        val a = initTag(A(), init)
        a.href = href
    }
}
&#8203;
class Body : BodyTag("body")
class B : BodyTag("b")
class P : BodyTag("p")
class H1 : BodyTag("h1")
&#8203;
class A : BodyTag("a") {
    var href: String
        get() = attributes["href"]!!
        set(value) {
            attributes["href"] = value
        }
}
&#8203;
fun html(init: HTML.() -&#62; Unit): HTML {
    val html = HTML()
    html.init()
    return html
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">package com.example.html
&#8203;
interface Element {
    fun render(builder: StringBuilder, indent: String)
}
&#8203;
class TextElement(val text: String) : Element {
    override fun render(builder: StringBuilder, indent: String) {
        builder.append("$indent$text\n")
    }
}
&#8203;
@DslMarker
annotation class HtmlTagMarker
&#8203;
@HtmlTagMarker
abstract class Tag(val name: String) : Element {
    val children = arrayListOf&#60;Element&#62;()
    val attributes = hashMapOf&#60;String, String&#62;()
&#8203;
    protected fun &#60;T : Element&#62; initTag(tag: T, init: T.() -&#62; Unit): T {
        tag.init()
        children.add(tag)
        return tag
    }
&#8203;
    override fun render(builder: StringBuilder, indent: String) {
        builder.append("$indent&#60;$name${renderAttributes()}&#62;\n")
        for (c in children) {
            c.render(builder, indent + "  ")
        }
        builder.append("$indent&#60;/$name&#62;\n")
    }
&#8203;
    private fun renderAttributes(): String {
        val builder = StringBuilder()
        for ((attr, value) in attributes) {
            builder.append(" $attr=\"$value\"")
        }
        return builder.toString()
    }
&#8203;
    override fun toString(): String {
        val builder = StringBuilder()
        render(builder, "")
        return builder.toString()
    }
}
&#8203;
abstract class TagWithText(name: String) : Tag(name) {
    operator fun String.unaryPlus() {
        children.add(TextElement(this))
    }
}
&#8203;
class HTML : TagWithText("html") {
    fun head(init: Head.() -&#62; Unit) = initTag(Head(), init)
&#8203;
    fun body(init: Body.() -&#62; Unit) = initTag(Body(), init)
}
&#8203;
class Head : TagWithText("head") {
    fun title(init: Title.() -&#62; Unit) = initTag(Title(), init)
}
&#8203;
class Title : TagWithText("title")
&#8203;
abstract class BodyTag(name: String) : TagWithText(name) {
    fun b(init: B.() -&#62; Unit) = initTag(B(), init)
    fun p(init: P.() -&#62; Unit) = initTag(P(), init)
    fun h1(init: H1.() -&#62; Unit) = initTag(H1(), init)
    fun a(href: String, init: A.() -&#62; Unit) {
        val a = initTag(A(), init)
        a.href = href
    }
}
&#8203;
class Body : BodyTag("body")
class B : BodyTag("b")
class P : BodyTag("p")
class H1 : BodyTag("h1")
&#8203;
class A : BodyTag("a") {
    var href: String
        get() = attributes["href"]!!
        set(value) {
            attributes["href"] = value
        }
}
&#8203;
fun html(init: HTML.() -&#62; Unit): HTML {
    val html = HTML()
    html.init()
    return html
}</code></pre></td>
            </tr>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <tr>
              <td class="sticky-row" colspan="2">
                <div>
                  <div>Kotlin</div>
                  <h2 id="6_12" style="text-align:center;">Opt-in Requirements<a class="anchor" href="https://kotlinlang.org/docs/reference/opt-in-requirements.html#opt-in-requirements" target="_blank"></a></h2>
                  <div>Swift</div>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Propagating opt-in<a class="anchor" href="https://kotlinlang.org/docs/reference/opt-in-requirements.html#propagating-opt-in" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// library code
@RequiresOptIn(message = "This API is experimental. It may be changed in the future without notice.")
@Retention(AnnotationRetention.BINARY)
@Target(AnnotationTarget.CLASS, AnnotationTarget.FUNCTION)
annotation class MyDateTime // Opt-in requirement annotation
&#8203;
@MyDateTime                            
class DateProvider // A class requiring opt-in</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// library code
@RequiresOptIn(message = "This API is experimental. It may be changed in the future without notice.")
@Retention(AnnotationRetention.BINARY)
@Target(AnnotationTarget.CLASS, AnnotationTarget.FUNCTION)
annotation class MyDateTime // Opt-in requirement annotation
&#8203;
@MyDateTime                            
class DateProvider // A class requiring opt-in</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// client code
fun getYear(): Int {  
    val dateProvider: DateProvider // Error: DateProvider requires opt-in
    // ...
}
&#8203;
@MyDateTime
fun getDate(): Date {  
    val dateProvider: DateProvider // OK: the function requires opt-in as well
    // ...
}
&#8203;
fun displayDate() {
    println(getDate()) // error: getDate() requires opt-in
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// client code
fun getYear(): Int {  
    val dateProvider: DateProvider // Error: DateProvider requires opt-in
    // ...
}
&#8203;
@MyDateTime
fun getDate(): Date {  
    val dateProvider: DateProvider // OK: the function requires opt-in as well
    // ...
}
&#8203;
fun displayDate() {
    println(getDate()) // error: getDate() requires opt-in
}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Non-propagating use<a class="anchor" href="https://kotlinlang.org/docs/reference/opt-in-requirements.html#non-propagating-use" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">// library code
@RequiresOptIn(message = "This API is experimental. It may be changed in the future without notice.")
@Retention(AnnotationRetention.BINARY)
@Target(AnnotationTarget.CLASS, AnnotationTarget.FUNCTION)
annotation class MyDateTime // Opt-in requirement annotation
&#8203;
@MyDateTime                            
class DateProvider // A class requiring opt-in</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">// library code
@RequiresOptIn(message = "This API is experimental. It may be changed in the future without notice.")
@Retention(AnnotationRetention.BINARY)
@Target(AnnotationTarget.CLASS, AnnotationTarget.FUNCTION)
annotation class MyDateTime // Opt-in requirement annotation
&#8203;
@MyDateTime                            
class DateProvider // A class requiring opt-in</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">//client code
@OptIn(MyDateTime::class)
fun getDate(): Date { // Uses DateProvider; doesn't propagate the opt-in requirement
    val dateProvider: DateProvider
    // ...
}
&#8203;
fun displayDate() {
    println(getDate()) // OK: opt-in is not required
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">//client code
@OptIn(MyDateTime::class)
fun getDate(): Date { // Uses DateProvider; doesn't propagate the opt-in requirement
    val dateProvider: DateProvider
    // ...
}
&#8203;
fun displayDate() {
    println(getDate()) // OK: opt-in is not required
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">//client code
 @file:OptIn(MyDateTime::class)</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">//client code
 @file:OptIn(MyDateTime::class)</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Module-wide opt-in<a class="anchor" href="https://kotlinlang.org/docs/reference/opt-in-requirements.html#module-wide-opt-in" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">tasks.withType(KotlinCompile).configureEach {
    kotlinOptions {
        freeCompilerArgs += "-Xopt-in=org.mylibrary.OptInAnnotation"
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">tasks.withType(KotlinCompile).configureEach {
    kotlinOptions {
        freeCompilerArgs += "-Xopt-in=org.mylibrary.OptInAnnotation"
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">tasks.withType&#60;KotlinCompile&#62;().configureEach {
    kotlinOptions.freeCompilerArgs += "-Xopt-in=org.mylibrary.OptInAnnotation"
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">tasks.withType&#60;KotlinCompile&#62;().configureEach {
    kotlinOptions.freeCompilerArgs += "-Xopt-in=org.mylibrary.OptInAnnotation"
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">sourceSets {
    all {
        languageSettings {
            useExperimentalAnnotation('org.mylibrary.OptInAnnotation')
        }
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">sourceSets {
    all {
        languageSettings {
            useExperimentalAnnotation('org.mylibrary.OptInAnnotation')
        }
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">sourceSets {
    all {
        languageSettings.useExperimentalAnnotation("org.mylibrary.OptInAnnotation")
    }
}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">sourceSets {
    all {
        languageSettings.useExperimentalAnnotation("org.mylibrary.OptInAnnotation")
    }
}</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">&#60;build&#62;
    &#60;plugins&#62;
        &#60;plugin&#62;
            &#60;groupId&#62;org.jetbrains.kotlin&#60;/groupId&#62;
            &#60;artifactId&#62;kotlin-maven-plugin&#60;/artifactId&#62;
            &#60;version&#62;${kotlin.version}&#60;/version&#62;
            &#60;executions&#62;...&#60;/executions&#62;
            &#60;configuration&#62;
                &#60;args&#62;
                    &#60;arg&#62;-Xopt-in=org.mylibrary.OptInAnnotation&#60;/arg&#62;                    
                &#60;/args&#62;
            &#60;/configuration&#62;
        &#60;/plugin&#62;
    &#60;/plugins&#62;
&#60;/build&#62;</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">&#60;build&#62;
    &#60;plugins&#62;
        &#60;plugin&#62;
            &#60;groupId&#62;org.jetbrains.kotlin&#60;/groupId&#62;
            &#60;artifactId&#62;kotlin-maven-plugin&#60;/artifactId&#62;
            &#60;version&#62;${kotlin.version}&#60;/version&#62;
            &#60;executions&#62;...&#60;/executions&#62;
            &#60;configuration&#62;
                &#60;args&#62;
                    &#60;arg&#62;-Xopt-in=org.mylibrary.OptInAnnotation&#60;/arg&#62;                    
                &#60;/args&#62;
            &#60;/configuration&#62;
        &#60;/plugin&#62;
    &#60;/plugins&#62;
&#60;/build&#62;</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Opt-in requirement annotations<a class="anchor" href="https://kotlinlang.org/docs/reference/opt-in-requirements.html#opt-in-requirement-annotations" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@RequiresOptIn
@Retention(AnnotationRetention.BINARY)
@Target(AnnotationTarget.CLASS, AnnotationTarget.FUNCTION)
annotation class MyDateTime</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@RequiresOptIn
@Retention(AnnotationRetention.BINARY)
@Target(AnnotationTarget.CLASS, AnnotationTarget.FUNCTION)
annotation class MyDateTime</code></pre></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@RequiresOptIn(level = RequiresOptIn.Level.WARNING, message = "This API is experimental. It can be incompatibly changed in the future.")
@Retention(AnnotationRetention.BINARY)
@Target(AnnotationTarget.CLASS, AnnotationTarget.FUNCTION)
annotation class ExperimentalDateTime</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@RequiresOptIn(level = RequiresOptIn.Level.WARNING, message = "This API is experimental. It can be incompatibly changed in the future.")
@Retention(AnnotationRetention.BINARY)
@Target(AnnotationTarget.CLASS, AnnotationTarget.FUNCTION)
annotation class ExperimentalDateTime</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h4>Marking API elements<a class="anchor" href="https://kotlinlang.org/docs/reference/opt-in-requirements.html#marking-api-elements" target="_blank"></a></h4></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@MyDateTime
class DateProvider
&#8203;
@MyDateTime
fun getTime(): Time {}</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@MyDateTime
class DateProvider
&#8203;
@MyDateTime
fun getTime(): Time {}</code></pre></td>
            </tr>
            <tr>
              <td colspan="2" style="text-align: center;"><h3>Opt-in requirements for pre-stable APIs<a class="anchor" href="https://kotlinlang.org/docs/reference/opt-in-requirements.html#opt-in-requirements-for-pre-stable-apis" target="_blank"></a></h3></td>
            </tr>
            <tr>
              <td style="padding-right:10px;padding-bottom:10px"><pre><code class="kotlin">@Deprecated("This opt-in requirement is not used anymore. Remove its usages from your code.")
@RequiresOptIn
annotation class ExperimentalDateTime</code></pre></td>
              <td style="padding-left:10px;padding-bottom:10px"><pre><code class="swift">@Deprecated("This opt-in requirement is not used anymore. Remove its usages from your code.")
@RequiresOptIn
annotation class ExperimentalDateTime</code></pre></td>
            </tr></table></div>
    </div>
  </body>
</html>